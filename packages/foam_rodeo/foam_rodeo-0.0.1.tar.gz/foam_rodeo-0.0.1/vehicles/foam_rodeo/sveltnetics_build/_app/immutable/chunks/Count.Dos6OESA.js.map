{"version":3,"file":"Count.Dos6OESA.js","sources":["../../../../../../node_modules/procedures/furnish/string.js","../../../../../../src/lib/PTO/APT/Count.js"],"sourcesContent":["\n\n/*\n\t// this always returns a string\n\n\timport { furnish_string } from 'procedures/furnish/string'\n\tfurnish_string ({ 's': '1' }, [ 's' ], '')\n\t\n\tfurnish_string ('')\n*/\n\n\nimport _get from 'lodash/get'\n\nexport function furnish_string () {\n\ttry {\n\t\tlet candidate = undefined;\n\t\tif (arguments.length === 3) {\n\t\t\tcandidate = _get (\n\t\t\t\targuments [0], \n\t\t\t\targuments [1], \n\t\t\t\targuments [2]\n\t\t\t)\n\t\t}\n\t\telse if (arguments.length === 2) {\n\t\t\tcandidate = _get (\n\t\t\t\targuments [0], \n\t\t\t\targuments [1], \n\t\t\t\t''\n\t\t\t)\n\t\t}\n\t\telse if (arguments.length === 1) {\n\t\t\tcandidate = arguments [0]\n\t\t}\n\t\t\n\t\tif (typeof candidate === \"string\") {\n\t\t\treturn candidate;\n\t\t}\n\t\t\n\t\t// console.log (arguments);\n\t\tthrow new Error (`A string could not be furnished from the preceeding arguments.`)\t\t\n\t}\n\tcatch (exception) {\n\t\t//console.warn (exception)\n\t}\n\t\n\tconsole.warn (\"A string could not be furnished from these arguments\", arguments)\n\t\n\treturn ''\n}","\n/*\nimport { ask_APT_count } from '$lib/PTO/APT/Count'\nconst APT_count_ask = await ask_APT_count ({ \n\taddress_hexadecimal_string,\n\tnet_path\n})\nif (APT_count_ask.effective !== \"yes\") {\n\t// APT_count_ask.exception\n\t\n\treturn;\n}\n \nOcta_count = APT_count_ask.Octa_count;\n*/\n\n/*\n\t\n\t\n\n\tcurl https://api.devnet.aptoslabs.com/v1/accounts/951AEAA8567661777F4FE0161E98EF8CB0680A8E06DE36A63D5E0D5B891E8BD7/resource/0x1::coin::CoinStore%3C0x1::aptos_coin::AptosCoin%3E\n*/\n\nimport { Aptos, AptosConfig, AccountAddress, Network } from \"@aptos-labs/ts-sdk\";\nimport { Uint8Array_from_string } from '$lib/taverns/hexadecimal/Uint8Array_from_string'\n\nimport Fraction from 'fraction.js';\n\nimport { furnish_string } from 'procedures/furnish/string'\n\n\nexport const ask_APT_count = async ({\n\taddress_hexadecimal_string,\n\tnet_path\n}) => {\n\tconsole.info ({ net_path })\n\t\n\tvar resource = `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n\n\t// const proceeds = await fetch (`${ net_path }/accounts/${ address_hexadecimal_string }/resources`)\n\tconst proceeds = await fetch (\n\t\t`${ net_path }/accounts/${ address_hexadecimal_string }/resource/${ resource }`\n\t)\n\t/*const proceeds = await fetch (\n\t\t`${ net_path }/accounts/${ address_hexadecimal_string }`\n\t)*/\n\tconst status = proceeds.status;\n\t\n\tif (status === 404) {\n\t\tconst enhanced = await proceeds.json ()\n\t\tconst error_code = furnish_string (enhanced, [ 'error_code' ], '');\n\t\tconst message = furnish_string (enhanced, [ 'message' ], '');\n\t\t\n\t\tlet exception = \"\"\n\t\tif (error_code === \"resource_not_found\") {\n\t\t\texception = [\n\t\t\t\terror_code + \"\\n\",\n\t\t\t\tmessage + \"\\n\",\n\t\t\t\t`This might be an address that has 0 transactions associated with it.`\n\t\t\t].join ('\\n')\n\t\t\t\n\t\t\t// exception = `${ error_code }\\n\\n${ message}\\n\\nThis might be an address that has 0 transactions associated with it.`;\n\t\t}\n\t\telse {\n\t\t\texception = `${ error_code }: ${ message}`\n\t\t}\n\t\t\n\t\treturn {\n\t\t\terror_code,\n\t\t\teffective: \"no\",\n\t\t\texception\n\t\t}\n\t}\n\tif (status === 400) {\n\t\treturn {\n\t\t\teffective: \"no\",\n\t\t\texception: await proceeds.text (),\n\t\t\terror_code: \"\"\n\t\t}\n\t}\n\tif (status === 200) {\n\t\tconst enhanced = await proceeds.json ()\n\t\tconst Octa_count = enhanced.data.coin.value;\n\n\t\treturn {\n\t\t\teffective: \"yes\",\n\t\t\texception: \"\",\n\t\t\terror_code: \"\",\n\t\t\t\n\t\t\tOcta_count\n\t\t}\n\t}\n\t\n\treturn {\n\t\teffective: \"no\",\n\t\texception: \"An exception occurred.\",\n\t\terror_code: \"\"\n\t}\n}\n\n\n\n"],"names":["furnish_string","candidate","_get","ask_APT_count","address_hexadecimal_string","net_path","resource","proceeds","status","enhanced","error_code","message","exception"],"mappings":"kEAcO,SAASA,GAAkB,CACjC,GAAI,CACH,IAAIC,EAmBJ,GAlBI,UAAU,SAAW,EACxBA,EAAYC,EACX,UAAW,CAAC,EACZ,UAAW,CAAC,EACZ,UAAW,CAAC,CACZ,EAEO,UAAU,SAAW,EAC7BD,EAAYC,EACX,UAAW,CAAC,EACZ,UAAW,CAAC,EACZ,EACA,EAEO,UAAU,SAAW,IAC7BD,EAAY,UAAW,CAAC,GAGrB,OAAOA,GAAc,SACxB,OAAOA,EAIR,MAAM,IAAI,MAAO,gEAAgE,CACjF,MACiB,CAEjB,CAED,eAAQ,KAAM,uDAAwD,SAAS,EAExE,EACR,CClBY,MAACE,EAAgB,MAAO,CACnC,2BAAAC,EACA,SAAAC,CACD,IAAM,CACL,QAAQ,KAAM,CAAE,SAAAA,EAAU,EAE1B,IAAIC,EAAW,mDAGf,MAAMC,EAAW,MAAM,MACtB,GAAIF,CAAQ,aAAeD,CAA0B,aAAeE,CAAQ,EAC5E,EAIKE,EAASD,EAAS,OAExB,GAAIC,IAAW,IAAK,CACnB,MAAMC,EAAW,MAAMF,EAAS,KAAO,EACjCG,EAAaV,EAAgBS,EAAU,CAAE,YAAY,EAAI,EAAE,EAC3DE,EAAUX,EAAgBS,EAAU,CAAE,SAAS,EAAI,EAAE,EAE3D,IAAIG,EAAY,GAChB,OAAIF,IAAe,qBAClBE,EAAY,CACXF,EAAa;AAAA,EACbC,EAAU;AAAA,EACV,sEACJ,EAAK,KAAM;AAAA,CAAI,EAKZC,EAAY,GAAIF,MAAiBC,CAAO,GAGlC,CACN,WAAAD,EACA,UAAW,KACX,UAAAE,CACA,CACD,CACD,OAAIJ,IAAW,IACP,CACN,UAAW,KACX,UAAW,MAAMD,EAAS,KAAO,EACjC,WAAY,EACZ,EAEEC,IAAW,IAIP,CACN,UAAW,MACX,UAAW,GACX,WAAY,GAEZ,YARgB,MAAMD,EAAS,KAAO,GACX,KAAK,KAAK,KAQrC,EAGK,CACN,UAAW,KACX,UAAW,yBACX,WAAY,EACZ,CACF","x_google_ignoreList":[0]}