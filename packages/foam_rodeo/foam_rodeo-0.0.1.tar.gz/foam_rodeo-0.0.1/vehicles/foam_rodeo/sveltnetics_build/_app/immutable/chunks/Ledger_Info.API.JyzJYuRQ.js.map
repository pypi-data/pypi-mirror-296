{"version":3,"file":"Ledger_Info.API.JyzJYuRQ.js","sources":["../../../../../../src/lib/PTO/General/Ledger_Info.API.js"],"sourcesContent":["\n// https://aptos.dev/en/build/apis/fullnode-rest-api-reference#tag/general/get/\n\n/*\n\timport { request_ledger_info } from '$lib/PTO/General/Ledger_Info.API'\n\tconst { enhanced } = await request_ledger_info ({ net_path })\n\tconst { chain_id } = enhanced;\n*/\n\n\nconst ask = async (URL, {\n\tmethod = \"GET\",\n\ttimeout = Number.POSITIVE_INFINITY\n}) => {\n\treturn await new Promise ((resolve, reject) => {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open (method, URL, true);\n\t\txhr.timeout = timeout\n\n\t\txhr.onload = function () {\n\t\t\tif (xhr.status === 200) {\n\t\t\t\tresolve ({\n\t\t\t\t\tstatus: xhr.status,\n\t\t\t\t\tobject: JSON.parse (xhr.responseText)\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t} \n\n\t\t\treject (new Error (`The ask failed with status ${ xhr.status }`))\n\t\t};\n\t\txhr.onerror = function () {\n\t\t\treject (new Error (\"The ask failed.\"))\n\t\t};\n\t\txhr.ontimeout = function () {\n\t\t\treject (new Error (\"The ask timed out.\"))\n\t\t};\n\n\t\txhr.send ();\n\t})\n\n}\n\nexport const request_ledger_info = async ({ net_path }) => {\n\tconst proceeds = await ask (net_path, {\n\t\ttimeout: 1000\n\t})\n\tconst enhanced = proceeds.object;\n\t\n\t// console.info (proceeds)\n\t\n\t// const proceeds = await fetch (net_path);\n\t// console.log (proceeds.status)\n\n\tif (proceeds.status === 404) {\n\n\t}\n\t\n\t// const enhanced = await proceeds.json ()\n\t\n\treturn {\n\t\tenhanced\n\t};\n}"],"names":["ask","URL","method","timeout","resolve","reject","xhr","request_ledger_info","net_path","proceeds","enhanced"],"mappings":"AAUA,MAAMA,EAAM,MAAOC,EAAK,CACvB,OAAAC,EAAS,MACT,QAAAC,EAAU,OAAO,iBAClB,IACQ,MAAM,IAAI,QAAS,CAACC,EAASC,IAAW,CAC9C,IAAIC,EAAM,IAAI,eACdA,EAAI,KAAMJ,EAAQD,EAAK,EAAI,EAC3BK,EAAI,QAAUH,EAEdG,EAAI,OAAS,UAAY,CACxB,GAAIA,EAAI,SAAW,IAAK,CACvBF,EAAS,CACR,OAAQE,EAAI,OACZ,OAAQ,KAAK,MAAOA,EAAI,YAAY,CACzC,CAAK,EACD,MACA,CAEDD,EAAQ,IAAI,MAAO,8BAA+BC,EAAI,MAAQ,EAAC,CAAC,CACnE,EACEA,EAAI,QAAU,UAAY,CACzBD,EAAQ,IAAI,MAAO,iBAAiB,CAAC,CACxC,EACEC,EAAI,UAAY,UAAY,CAC3BD,EAAQ,IAAI,MAAO,oBAAoB,CAAC,CAC3C,EAEEC,EAAI,KAAI,CACV,CAAE,EAIWC,EAAsB,MAAO,CAAE,SAAAC,KAAe,CAC1D,MAAMC,EAAW,MAAMT,EAAKQ,EAAU,CACrC,QAAS,GACX,CAAE,EACKE,EAAWD,EAAS,OAO1B,OAAIA,EAAS,OAMN,CACN,SAAAC,CACF,CACA"}