(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[422,1980],{94216:(e,t,o)=>{"use strict";o.d(t,{N:()=>a});var n=o(31529),r=o(93345),l=o(62795),i=o(30699);const s={isLoading:!0};function a(e,t){const o=(0,i.mF)(e);(0,l.useAsyncAbortable)((async e=>{if(!o?.drillthroughColumns[t])return o?.loadDrillthroughColumns(t,{signal:e})}),[o,t]);const{drillthroughColumns:a,isLoading:u,error:c}=(0,r.useSyncExternalStore)((e=>o?.subscribeToDrillthroughColumns(t,e)??n.noop),(()=>o?.drillthroughColumns[t]??s)),d=(0,r.useMemo)((()=>a?.filter((({visible:e})=>e))),[a]);return e?[d,{isLoading:u,error:c}]:void 0}},79225:(e,t,o)=>{"use strict";o.d(t,{I:()=>i});var n=o(31529),r=o(93345),l=o(30699);function i({serverKey:e,queryId:t}){const o=(0,l.mF)(e);return(0,r.useSyncExternalStore)(o&&t?e=>o.subscribeToQuery(t,e):()=>n.noop,(()=>o&&t?o.getQuery(t):void 0))}},15751:(e,t,o)=>{"use strict";o.d(t,{H:()=>l});var n=o(90147),r=o(783);function l(e,t){return(0,n.produce)(e,(o=>{const n=t.key||(0,r.z)(e.pagesOrder);o.pagesOrder.splice(t.index??o.pagesOrder.length,0,n),o.pages[n]=t.page}))}},783:(e,t,o)=>{"use strict";o.d(t,{z:()=>l});var n=o(31529);const r=e=>parseInt(e.substring(2));function l(e){const t=(0,n.maxBy)(e,r);return`p-${t?r(t)+1:0}`}},51810:(e,t,o)=>{"use strict";o.d(t,{W:()=>r});var n=o(55730);function r(e,{pageKey:t,leafKey:o},r){return(0,n.y)(e,["pages",t,"content",o],r)}},62081:(e,t,o)=>{"use strict";function n(e){return"dimension"===e.type}o.d(t,{t:()=>n})},20566:(e,t,o)=>{"use strict";function n(e){return"hierarchy"===e.type}o.d(t,{y:()=>n})},9995:(e,t,o)=>{"use strict";function n(e){return"level"===e.type}o.d(t,{r:()=>n})},96993:(e,t,o)=>{"use strict";function n({dimension:e,hierarchy:t,level:o}){if(o&&t)return{dimensionName:e.name,hierarchyName:t.name,levelName:o.name};if(t){const o=t.slicing?0:1;return n({dimension:e,hierarchy:t,level:Object.values(t.levels)[o]})}const r=e.defaultHierarchy;return n({dimension:e,hierarchy:e.hierarchies[r]})}o.d(t,{a:()=>n})},85542:(e,t,o)=>{"use strict";o.d(t,{z:()=>w});var n=o(74389),r=o(90923),l=o(95889),i=o(57418),s=o(70070),a=o(93345),u=o.n(a);const c=s.A.default??s.A,d=u().forwardRef(((e,t)=>(0,n.Y)(c,{...e,ref:t,icon:i.A})));var m=o(76194);const f=s.A.default??s.A,h=u().forwardRef(((e,t)=>(0,n.Y)(f,{...e,ref:t,icon:m.A})));var p=o(50493);const g=s.A.default??s.A,y=u().forwardRef(((e,t)=>(0,n.Y)(g,{...e,ref:t,icon:p.A})));var b=o(68059);const w=e=>{const{formatMessage:t}=(0,l.useIntl)(),o=e.fieldStyle?.justifyContent;return(0,n.FD)("div",{css:{display:"grid"},children:[(0,n.Y)(b.Text,{small:!0,strong:!0,css:{paddingTop:5,paddingBottom:5},children:t({id:"aui.dataVisualization.attribute.align"})}),(0,n.FD)(r.Radio.Group,{value:o,onChange:t=>{e.onFieldStyleChanged({justifyContent:t.target.value})},children:[(0,n.Y)(r.Radio.Button,{value:"left",children:(0,n.Y)(d,{})}),(0,n.Y)(r.Radio.Button,{value:"center",children:(0,n.Y)(h,{})}),(0,n.Y)(r.Radio.Button,{value:"right",children:(0,n.Y)(y,{})})]})]})}},28040:(e,t,o)=>{"use strict";o.d(t,{j:()=>w});var n=o(74389),r=o(90923),l=o(90147),i=o(31529),s=o(93345),a=o(95889),u=o(4105),c=o(68059),d=o(4774),m=o(49961),f=o(18729),h=o(36668),p=o(39558);const g={eq:"=",neq:"â‰ ",lt:"<",gt:">",lte:"<=",gte:">="},y=e=>{const{formatMessage:t}=(0,a.useIntl)(),o=(0,m.DP)(),{style:r,...l}=e.conditionalStyle,i=(0,h.u)(l);let s="";switch(i.length){case 1:const e=l[i[0]];s=`${t({id:"aui.if"})} ${g[i[0]]} ${e}`;break;case 2:s=`${t({id:"aui.if"})} ${void 0!==l.gt?g.gt:g.gte} ${l.gt??l.gte} ${t({id:"aui.and"})} ${void 0!==l.lt?g.lt:g.lte} ${l.lt??l.lte}`;break;default:s=t({id:"aui.default"})}const u="background"===e.colorType&&r.backgroundColor?r.backgroundColor:o.backgroundColor;return(0,n.Y)(p.o,{caption:s,sampleStyle:{...r,color:"text"===e.colorType?r.backgroundColor:o.textColor,backgroundColor:e.colorOpacity&&r.backgroundColor?(0,f.j)(r.backgroundColor,e.colorOpacity):u},sampleLabel:"123"})},b=(0,s.lazy)((()=>o.e(8974).then(o.bind(o,68974)))),w=({fieldStyle:e,selectedField:t,onFieldStyleChanged:o,colorOpacity:m,colorType:f="background"})=>{const{formatMessage:h}=(0,a.useIntl)(),p=e?.default,g=e?.conditional,w=t.value,v=!t.isNumeric,[C,x]=(0,s.useState)(),S=(0,s.useMemo)((()=>[{style:p||{}},...g||[]]),[g,p]),O=(0,s.useMemo)((()=>{const e="conditionalStyle",t=S.map(((t,o)=>{const r=(0,i.omit)(t,"style"),l=0===Object.keys(r).length;return{icons:v?null:(0,n.Y)(u.A,{onClick:()=>{x({sectionName:e,tileIndex:o})}}),caption:(0,n.Y)(y,{colorOpacity:m,conditionalStyle:t,colorType:f}),isDisabled:v,isRemovable:!v,dragItem:!l&&!v&&{type:"CONDITIONAL_MEASURE_STYLE_IN_WIZARD",fromPosition:{sectionName:e,tileIndex:o}}}}));return{[e]:{caption:h({id:"aui.conditionalStyle.title"}),tiles:t,isAddButtonVisible:!v}}}),[S,h,v,m,f]),R=C&&"tileIndex"in C?S[C.tileIndex]:void 0;return(0,n.Y)(c.Tooltip,{trigger:v?["hover"]:[],placement:"right",title:h({id:"aui.formatting.conditionalStylesOnlyApplyToNumericFields"},{fieldName:w}),children:(0,n.Y)(d.s,{css:{paddingTop:4},canDrop:({toPosition:{tileIndex:e}})=>0!==e,dragItemTypes:["CONDITIONAL_MEASURE_STYLE_IN_WIZARD"],sections:O,onTileRemoved:({tileIndex:e})=>{o(0===e?{default:void 0}:{conditional:(0,l.produce)(g,(t=>{const o=e-1;t?.splice(o,1)}))})},popoverProps:{position:C,innerHeight:C&&"tileIndex"in C&&0===C.tileIndex?230:330,title:h({id:"aui.conditionalStyle."+(void 0!==R?"edit":"add")}),content:(0,n.Y)(s.Suspense,{fallback:(0,n.Y)("div",{style:{display:"flex",height:330,width:327,justifyContent:"center",alignItems:"center"},children:(0,n.Y)(r.Spin,{})}),children:(0,n.Y)(b,{colorOpacity:m,onCancel:()=>x(void 0),onSubmitDefaultStyle:e=>{o({default:e}),x(void 0)},onSubmit:e=>{o(C&&"tileIndex"in C?{conditional:(0,l.produce)(g,(t=>{t[C.tileIndex-1]=e}))}:{conditional:[...g||[],e]}),x(void 0)},colorType:f,conditionalStyle:R})})},onAddButtonClicked:()=>x({sectionName:"conditionalStyle"}),onTileMoved:({dragItem:e,toPosition:{tileIndex:t}})=>{const n=e.fromPosition.tileIndex-1,r=t-1;o({default:p,conditional:(0,l.produce)(g,(e=>{const[t]=e.splice(n,1);e.splice(r,0,t)}))})}})})}},14565:(e,t,o)=>{"use strict";o.d(t,{M:()=>I});var n=o(74389),r=o(40570),l=o(90923),i=o(93345),s=o(95889),a=o(28359),u=o(40700),c=o(19122),d=o(79225),m=o(51810),f=o(89802),h=o(6071),p=o(22170),g=o(29225),y=o(34484),b=o(81573),w=o(51301),v=o(46239),C=o(68059),x=o(35390);class S extends Error{constructor(){super("Attempted to switch from a SELECT to a DRILLTHROUGH query. This is not supported.")}}const O="drillthrough-table";function R(e,{type:t,payload:{mdxString:o,dashboardState:n,pageKey:r,leafKey:l,widgetState:i,widgetPlugin:s,dataModels:a,lastUsedCube:u,hasDrillthroughTableWidgetPlugin:c}}){if("updateMdxString"===t)try{const e=(0,b.parse)(o),t=!i.query.mdx,d=i.query.mdx&&(0,b.isMdxSelect)(i.query.mdx),f=(0,b.isMdxDrillthrough)(e);if(d&&f)throw new S;const h=t&&f&&c;let{widgetStateDerivedFromMdx:p,dashboardStateDerivedFromMdx:g}=(0,x.deriveStateFromMdx)({mdx:e,dashboardState:n,pageKey:r,leafKey:l,dataModels:a,widgetState:i,widgetPlugin:s,lastUsedCube:u,shouldRemoveFiltersFromQuery:!1});return h&&(p={query:p.query,widgetKey:O,serverKey:p.serverKey,filters:p.filters,areFiltersDrivenByMdx:!0},g&&r&&l&&(g=(0,m.W)(g,{pageKey:r,leafKey:l},(()=>p)))),{mdxString:o,widgetStateDerivedFromMdx:p,dashboardStateDerivedFromMdx:g}}catch(e){return{mdxString:o,error:(0,v.$)(e)}}}const I=e=>{const{widgetState:t,queryId:o,onWidgetChange:m}=e,[v]=(0,u.v)("lastUsedCube"),{dashboardState:I,leafKey:H,pageKey:M,onDashboardChange:F}=(0,a.M)(e)?e:{},z=(0,x.useSwitchedWidgetState)(t,o),[Y]=(0,w.useWidgetPlugins)([z.widgetKey]),D=(0,w.useWidgetPluginKeys)(),N=(0,i.useMemo)((()=>D.includes(O)),[D]),T=(0,c.W)(),{formatMessage:W}=(0,s.useIntl)(),E=z.serverKey,P=(0,d.I)({serverKey:E,queryId:o}),[k,A]=(0,i.useReducer)(R,{mdxString:P?.mdx}),{cube:L,dataModel:$}=(0,i.useMemo)((()=>{const e=k.widgetStateDerivedFromMdx??z,t=e.query.mdx?(0,b.getCubeName)(e.query.mdx):void 0;return(0,x.getTargetCube)({serverKey:e.serverKey,dataModels:T,cubeName:t,lastUsedCube:v})}),[k.widgetStateDerivedFromMdx,z,T,v]),K=P?.context?.["mdx.casesensitive"]??L.contextValues["mdx.casesensitive"]?.value,j=void 0===K||"true"===K,B=(0,i.useCallback)((e=>{A({type:"updateMdxString",payload:{mdxString:e,dashboardState:I,pageKey:M,leafKey:H,widgetState:z,widgetPlugin:Y,dataModels:T,lastUsedCube:v,hasDrillthroughTableWidgetPlugin:N}})}),[I,M,H,z,Y,T,v,N]),_=P?.mdx??"";(0,i.useEffect)((()=>{B(_)}),[_,B]);const q=(0,i.useCallback)((()=>{k.error||(F&&k.dashboardStateDerivedFromMdx?F(k.dashboardStateDerivedFromMdx):k.widgetStateDerivedFromMdx&&m(k.widgetStateDerivedFromMdx))}),[k.widgetStateDerivedFromMdx,k.dashboardStateDerivedFromMdx,m,F,k.error]),V=(0,i.useCallback)((()=>{B(_)}),[_,B]),U=(0,i.useMemo)((()=>k.mdxString!==_),[k.mdxString,_]),[Q,G]=(0,i.useMemo)((()=>{if(!U)return[!1,W({id:"aui.mdxEditor.hover.noChanges"})];if(k.error){let e;if(k.error instanceof x.InvalidMdxTypeError)e=W({id:"aui.mdxEditor.hover.invalidMdxType"});else if(k.error instanceof f.N){const{cubeName:t,availableCubeNames:o}=k.error;e=`${W({id:"aui.error.cubeNotFound"})}: "${t}". ${W({id:"aui.mdxEditor.hover.availableCubesAre"})}: ${JSON.stringify(o)}`}else if(k.error instanceof h.O){const{dimensionName:t,cubeName:o}=k.error;e=`${W({id:"aui.mdxEditor.hover.dimensionNotFound"})} ${W({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${o}": "${t}".`}else if(k.error instanceof p.h){const{hierarchyCoordinates:t,cubeName:o}=k.error;e=`${W({id:"aui.mdxEditor.hover.hierarchyNotFound"})} ${W({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${o}": "${(0,b.quote)(t.dimensionName,t.hierarchyName)}".`}else if(k.error instanceof g.W){const{levelCoordinates:t,cubeName:o}=k.error;e=`${W({id:"aui.mdxEditor.hover.levelNotFound"})} ${W({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${o}": "${(0,b.quote)(t.dimensionName,t.hierarchyName,t.levelName)}".`}else k.error instanceof x.MdxInconsistentWithDashboardOrPageFiltersError?e=W({id:"aui.mdxEditor.hover.filtersChanged"},{bold:C.bold}):k.error instanceof S?e=W({id:"aui.mdxEditor.hover.cannotSwitchToDrillthrough"}):(e=W({id:"aui.mdxEditor.hover.invalidMdxQuery"}),console.error(k.error));return[!1,e]}return[!0,void 0]}),[U,k.error,W]);return(0,n.FD)("div",{css:r.css`
        height: 100%;
        display: flex;
        margin-right: 4px;
        flex-direction: column;
      `,children:[(0,n.Y)("div",{style:{height:"calc(100% - 28px)"},children:(0,n.Y)(y.K,{type:"mdx",value:k.mdxString,onChange:B,dataModel:$,cube:L,isCaseSensitive:j})}),(0,n.FD)("div",{css:r.css`
          text-align: right;
          margin-right: 14px;
          height: ${28}px;
        `,children:[(0,n.Y)(l.Button,{disabled:!U,onClick:V,children:W({id:"aui.mdxEditor.reset"})}),"Â ",(0,n.Y)(C.Tooltip,{title:G,children:(0,n.Y)(l.Button,{type:"primary",disabled:!Q,onClick:q,children:W({id:"aui.mdxEditor.submit"})})})]})]})}},94408:(e,t,o)=>{"use strict";o.d(t,{U:()=>r});var n=o(74389);const r=({content:e})=>(0,n.Y)("div",{css:{display:"table"},children:e.map((({left:e,right:t},o)=>(0,n.FD)("div",{css:{display:"table-row"},children:[(0,n.Y)("div",{css:{display:"table-cell",textAlign:"right",paddingRight:8,color:"#c0c0c0"},children:e}),(0,n.Y)("div",{css:{display:"table-cell",textAlign:"left",fontWeight:600,overflowWrap:"anywhere"},children:t})]},o)))})},66835:(e,t,o)=>{"use strict";o.d(t,{l:()=>m});var n=o(74389),r=o(90923),l=o(24870),i=o.n(l),s=o(95889),a=o(68059);const u=i()("2022-02-18"),c=["YYYY-MM-DD","YYYY/MM/DD","M/D","M/D/YY","MM/DD/YY","MM/DD/YYYY","DD-MMMM-YY","DD-MMMM-YYYY","dddd, MMM DD, YYYY","MMM DD, YYYY"].map((e=>({value:e,label:u.format(e)}))),d=c[0].value,m=({selectedField:e,fieldStyle:t,onFieldStyleChanged:o})=>{const{formatMessage:l}=(0,s.useIntl)(),i=("level"===(u=e).type||"drillthroughHeader"===u.type)&&u.isTime;var u;const m=!i,f=e.value,h=i?t?.dateFormat??d:d;return(0,n.FD)("div",{style:{display:"flex",flexDirection:"column",marginBlock:12},children:[(0,n.Y)(a.Text,{small:!0,strong:!0,children:l({id:"aui.dataVisualization.dateFormat"})}),(0,n.Y)(a.Tooltip,{placement:"right",trigger:m?["hover"]:[],title:f&&l({id:"aui.formatting.dateFormattingOnlyApplyToTimeFields"},{fieldName:f}),children:(0,n.Y)(r.Select,{"aria-label":"Date format select",disabled:m,style:{marginTop:6},value:h,options:c,onChange:e=>o({dateFormat:e})})})]})}},79938:(e,t,o)=>{"use strict";o.d(t,{G:()=>y});var n=o(74389),r=o(90923),l=o(90147),i=o(31529),s=o(93345),a=o(95889),u=o(25953),c=o(51301),d=o(49961),m=o(68059),f=o(35390),h=o(21935),p=o(18982),g=o(82364);const y=e=>{const{formatMessage:t}=(0,a.useIntl)(),{fieldOptions:o}=e,[y]=(0,c.useWidgetPlugins)([e.widgetState.widgetKey]),b=(0,f.useWidgetName)(e.widgetState),w=(0,d.DP)(),{cube:v}=(0,f.useCube)(e.widgetState),C=!y?.attributes||Object.values(y?.attributes??{}).some((({role:e})=>"numeric"===(0,f.getAttributeType)(e))),[x,S]=(0,s.useState)(o[0]??{}),O=e.widgetState.style??{},R=O.measures?.[x.value];if((0,s.useMemo)((()=>(0,g.K)(b,O.measures)),[b,O.measures]),!C)return null;const I={selectedField:x,fieldStyle:R,onFieldStyleChanged:t=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{(0,i.set)(e,["style","measures",x.value],{...O.measures?.[x.value],...t}),function(e){const t=e.style?.measures;void 0!==t&&(Object.entries(t).forEach((([t,o])=>{void 0!==o&&((0,p.W)(o).forEach((([e,t])=>{(null==t||(0,i.isObject)(t)&&(0,i.isEmpty)(t))&&delete o[e]})),(0,i.isEmpty)(o)&&delete e.style.measures[t])})),(0,i.isEmpty)(t)&&delete e.style.measures),void 0!==e.style&&(0,i.isEmpty)(e.style)&&delete e.style}(e)})))},cube:v};return(0,n.FD)("div",{style:{borderBottom:`1px solid ${w.grayScale[4]}`,marginBottom:5,paddingTop:4},children:[(0,n.Y)(m.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.fields"})}),(0,n.Y)(r.Select,{"aria-label":"Field select",style:{width:"100%",marginTop:6},value:x,options:o,onChange:(e,t)=>{S((0,i.isArray)(t)?t[0]:t)},dropdownRender:e=>o.length>0?e:(0,n.FD)("div",{css:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:20},children:[(0,n.Y)(u.A,{}),(0,n.Y)("div",{children:t({id:"aui.formatting.noFieldInMapping"},{bold:m.bold})})]}),showSearch:!0}),e.fieldStyleEditors.map(((e,t)=>(0,n.Y)(e,{...I},t))),(0,n.Y)(h.F,{isDisabled:(0,i.isEmpty)(O.measures),onResetStyle:()=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{delete e.style?.measures,(0,i.isEmpty)(e.style)&&delete e.style})))},caption:t({id:"aui.formatting.resetFieldsStyle"})})]})}},78208:(e,t,o)=>{"use strict";o.d(t,{i:()=>d});var n=o(74389),r=o(90923),l=o(93345),i=o(95889),s=o(39262),a=o(60003),u=o(68059);const c=["number","percentage","thousands","millions","billions"],d=({selectedField:e,fieldStyle:t,onFieldStyleChanged:o,cube:d})=>{const{formatMessage:m}=(0,i.useIntl)(),f=t?.numberOfDecimals??((e,t)=>{if("measure"!==e.type||!e.isNumeric)return 2;const o=(0,s.D)(e.value,t);return void 0===o||"double"===o.type?2:0})(e,d),h=e.value,p=!e.isNumeric,g=t?.numberFormat??"number";return(0,n.Y)(l.Fragment,{children:(0,n.FD)("div",{style:{display:"flex",width:"100%",marginTop:6,marginBottom:6},children:[(0,n.Y)(u.Tooltip,{placement:"right",trigger:p?["hover"]:[],title:m({id:"aui.formatting.numberFormattingOnlyApplyToNumericFields"},{fieldName:h}),children:(0,n.Y)(r.Select,{style:{flexGrow:1,marginRight:3},value:g,onChange:e=>{o({numberFormat:e})},disabled:p,"aria-label":"Number format select",children:c.map((e=>(0,n.Y)(r.Select.Option,{value:e,children:m({id:`aui.formatting.numberFormat.${e}`})},e)))})}),(0,n.Y)(r.Button,{disabled:p||0===f,icon:(0,n.Y)(a.IconRemoveDecimal,{}),onClick:()=>{o({numberOfDecimals:Math.max(0,f-1)})},"aria-label":"Remove decimal button",style:{marginRight:3}}),(0,n.Y)(r.Button,{icon:(0,n.Y)(a.IconAddDecimal,{}),onClick:()=>{o({numberOfDecimals:Math.max(0,f+1)})},"aria-label":"Add decimal button",disabled:p})]})})}},21935:(e,t,o)=>{"use strict";o.d(t,{F:()=>a});var n=o(74389),r=o(90923),l=o(95889),i=o(49961),s=o(68059);const a=({caption:e,isDisabled:t,onResetStyle:o})=>{const{formatMessage:a}=(0,l.useIntl)(),u=(0,i.DP)();return(0,n.Y)(s.Tooltip,{placement:"right",trigger:t?["hover"]:[],title:a({id:"aui.style.noStyleConfigured"}),children:(0,n.Y)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,n.Y)(r.Button,{style:{padding:0},type:"link",onClick:o,disabled:t,children:(0,n.Y)("span",{css:t?{}:{textDecoration:"underline",color:u.textColor,transition:"color 0.3s ease",":hover":{color:u.primaryColor}},children:e})})})})}},90254:(e,t,o)=>{"use strict";o.d(t,{u:()=>s});var n=o(74389),r=o(90147),l=o(31529),i=o(68059);const s=({checkedByDefault:e,disabled:t,label:o,propertyName:s,tooltipText:a,onWidgetChange:u,widgetState:c})=>{const d=(0,l.get)(c.style,s)??e;return(0,n.Y)(i.Switch,{label:o,checked:d,tooltipText:a,disabled:t,onChange:()=>{const e=(0,r.produce)(c,(e=>{(0,l.set)(e,`style.${s}`,!d)}));u(e)}})}},39558:(e,t,o)=>{"use strict";o.d(t,{o:()=>l});var n=o(74389),r=o(49961);const l=e=>{const t=(0,r.DP)(),o={border:`solid 1px ${t.grayScale[4]}`,borderRadius:3,paddingLeft:5,paddingRight:5,marginRight:5,width:32,lineHeight:"14px",height:16,color:t.textColor,...e.sampleStyle};return(0,n.FD)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.Y)("div",{style:o,children:e.sampleLabel}),(0,n.Y)("div",{children:e.caption})]})}},82364:(e,t,o)=>{"use strict";o.d(t,{K:()=>i});var n=o(31529),r=o(33279);const l=["eq","neq","lt","lte","gt","gte"];function i(e,t){t&&Object.values(t).forEach((t=>{(function(e){return"conditional"in e})(t)&&t.conditional&&t.conditional.forEach((t=>{!function(e,t){const o=(0,n.omit)(t,"style"),i=Object.keys(o);if(i.length>2||0===i.length)throw new r.f(e,"invalidNumberOfKeys",t);if(2===i.length&&(i.includes("eq")||i.includes("neq")))throw new r.f(e,"invalidPairOfKeys",t);i.forEach((n=>{if(!l.includes(n))throw new r.f(e,"invalidComparisonOperator",t);if(void 0===o[n])throw new r.f(e,"undefinedComparisonOperand",t)}))}(e,t)}))}))}},33279:(e,t,o)=>{"use strict";o.d(t,{f:()=>n});class n extends Error{invalidStyle;widgetName;constructor(e,t,o){let n;switch(t){case"invalidNumberOfKeys":n="A measure conditional style can only contain 1 or 2 comparison operators.";break;case"invalidPairOfKeys":n="A pair of comparison operators can only be lt(e)/gt(e).";break;case"invalidComparisonOperator":n="A measure conditional style can only use the following comparison operators: eq, neq, lt, lte, gt, gte.";break;case"undefinedComparisonOperand":n="A comparison operand cannot be undefined."}super(`The widget contains an invalid measure conditional style. ${n}`),this.invalidStyle=o,this.widgetName=e}}},77494:(e,t,o)=>{"use strict";function n({numericFieldStyle:e,valueFormattedByAtotiServer:t,value:o,locale:n}){const{numberOfDecimals:r,numberFormat:l}=e??{};if(void 0===r&&void 0===l)return t;let i,s=o;switch(l){case"percentage":s=100*o,i="%";break;case"thousands":s=o/1e3,i="K";break;case"millions":s=o/1e6,i="M";break;case"billions":s=o/1e9,i="B"}const a=s.toLocaleString(n,void 0!==r?{minimumFractionDigits:r,maximumFractionDigits:r}:void 0);return i?`${a} ${i}`:a}o.d(t,{m:()=>n})},34484:(e,t,o)=>{"use strict";o.d(t,{K:()=>s});var n=o(74389),r=o(93345),l=o(35068);const i={mdx:(0,r.lazy)((()=>Promise.all([o.e(3849),o.e(2917),o.e(8021)]).then(o.bind(o,85662)))),json:(0,r.lazy)((()=>Promise.all([o.e(3849),o.e(2917),o.e(3464)]).then(o.bind(o,80215)))),markdown:(0,r.lazy)((()=>Promise.all([o.e(3849),o.e(2917),o.e(5336)]).then(o.bind(o,74567)))),base:(0,r.lazy)((()=>Promise.all([o.e(3849),o.e(2917),o.e(5274)]).then(o.bind(o,85298))))},s=(0,r.forwardRef)(((e,t)=>{const{type:o,...s}=e,a=(0,r.useMemo)((()=>i[o||"base"]),[o]);return(0,n.Y)(r.Suspense,{fallback:(0,n.Y)(l.W,{}),children:(0,n.Y)(a,{ref:t,...s})})}))},35068:(e,t,o)=>{"use strict";o.d(t,{W:()=>i});var n=o(74389),r=o(40570),l=o(90923);const i=()=>(0,n.Y)("div",{css:r.css`
      display: flex;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
    `,children:(0,n.Y)(l.Spin,{})})},80985:(e,t,o)=>{"use strict";o.d(t,{NB:()=>i,n6:()=>s});var n=o(93345),r=o(66360);const l=(0,n.createContext)({}),i=l.Provider;function s(e){const t=(0,n.useContext)(l);return(0,n.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell-style",e,t)))),[t,e])}l.Consumer},78002:(e,t,o)=>{"use strict";o.d(t,{W0:()=>s,Y6:()=>i});var n=o(93345),r=o(66360);const l=(0,n.createContext)({}),i=l.Provider;function s(e){const t=(0,n.useContext)(l);return(0,n.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell",e,t)))),[t,e])}l.Consumer},70372:(e,t,o)=>{"use strict";o.d(t,{$:()=>A});var n=o(74389);var r=o(90147),l=o(31529),i=o(93345),s=o(95889),a=o(6024),u=o(67137),c=o(94216),d=o(81573),m=o(78002),f=o(80985),h=o(51301),p=o(16215),g=o(32381),y=o(33524),b=o(91262),w=o(68059),v=o(35390),C=o(24979),x=o(60003),S=o(26366);const O=(0,i.forwardRef)(((e,t)=>{const o=e.sort?.orderMode,r=e.sort?.drillthroughColumnUniqueName,l=(0,i.useRef)(null),s=(0,w.useHasOverflow)(l),a=e.value===r&&o,u=a&&"ASC"===o?x.IconNumericAscendingOrder:a&&"DESC"===o?x.IconNumericDescendingOrder:void 0;return(0,n.Y)(w.Tooltip,{placement:"right",trigger:s?["hover"]:[],title:e.caption,children:(0,n.FD)("div",{ref:t,style:{display:"flex",alignItems:"center",...e.style},children:[(0,n.Y)("span",{ref:l,style:{textOverflow:"ellipsis",overflow:"hidden",maxWidth:`calc(100% - ${a?"18px":"0px"})`,...!e.wrapText&&{whiteSpace:"nowrap"}},children:e.caption}),u?(0,n.Y)(u,{onClick:e.onSortChanged,style:{cursor:"pointer",marginLeft:"auto",height:"100%"}}):(0,n.Y)("div",{style:{height:"100%",marginLeft:6}})]})})}));O.displayName="DefaultDrillthroughHeaderCell";const R=(0,S.R)(O),I=(0,i.forwardRef)(((e,t)=>{const{caption:o,columnIndex:r,headerValues:l,isRowFrozen:s,widgetState:a}=e,c=s,d=l?.[r]?.name,m=d&&a.style?.measures?.[d]?.justifyContent,f=(0,i.useMemo)((()=>m?{...e.style,justifyContent:m}:e.style),[e.style,m]),[h]=(0,u.i)("table.tooltips");if(c)return(0,n.Y)(R,{ref:t,...e});{const r=(a.style?.areTooltipsVisible??h)&&d&&o?[{left:d,right:o}]:void 0;return(0,n.Y)(C.Y,{ref:t,...e,style:f,tooltipContent:r})}}));I.displayName="DefaultDrillthroughCell";const H=(0,i.memo)(I);var M=o(40570),F=o(49961);const z=({style:e})=>{const t=(0,F.DP)();return(0,n.Y)("div",{style:e,children:(0,n.Y)("div",{css:{display:"flex",overflow:"hidden"},children:(0,l.range)(4).map((e=>(0,n.FD)("div",{children:[(0,n.Y)("div",{css:M.css`
                height: 28px;
                overflow: hidden;
                position: relative;
                width: 120px;
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,n.Y)("div",{css:M.css`
                  padding: 4px 4px 3px;
                `})}),(0,n.Y)("div",{css:M.css`
                height: 196px;
                position: relative;
                border-top: 1px solid ${t.cellBorderColor};
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,l.range)(7).map((e=>(0,n.Y)("div",{css:M.css`
                    font-size: 12px;
                    height: 28px;
                    left: 0px;
                    padding: 4px 4px 3px;
                    position: absolute;
                    top: ${28*e}px;
                    width: 120px;
                    overflow: hidden;
                    background-color: ${e%2==1?t.alternateCellBackgroundColor:"transparent"};
                    border-right: 1px solid ${t.cellBorderColor};
                  `},e)))})]},e)))})})};var Y=o(23501),D=o(76103);function N(e,t){const{headers:o,rows:n}=t,r=new Map,l={},i=o.length,{numberOfRows:s,numberOfColumns:a}=(0,D.Q)(n);e.forEach((({columnHeader:e,body:t})=>{if(t)for(let e=t.rows.from;e<=Math.min(t.rows.to,s-1);e++)for(let l=t.columns.from;l<=Math.min(t.columns.to,a-1);l++){let t=r.get(o[l]);t||(t={},r.set(o[l],t)),t[e]=n[e][l]}e&&o.slice(e.columns.from,Math.min(e.columns.to,i-1)+1).forEach(((t,o)=>{l[e.columns.from+o]=t}))}));const u=[];for(const e of r.entries()){const[t,o]=e;u.push({header:t,cells:Object.keys(o).map((e=>parseInt(e))).sort().map((e=>o[e]))})}return{headers:Object.keys(l).map((e=>parseInt(e))).sort().map((e=>l[e])),columns:u}}var T=o(24870),W=o.n(T),E=o(77494),P=o(89596);const k=e=>e,A=(0,v.withLoadingOverlay)((0,v.withoutIrrelevantRenders)((e=>{const{queryResult:t,widgetState:o,style:C,onChange:x,onSelectionChange:S}=e,{widgetKey:O,columnWidths:R,sort:I}=o,M=o.style?.measures,[F]=(0,u.i)("table.headers.wrap"),[D]=(0,u.i)("table.defaultSize"),[T]=(0,u.i)("table.rowNumbers"),A=o.style?.wrapHeaders??F,L=o.style?.areRowNumbersVisible??T;(0,w.useCallOnLoadedAfterFirstProperRender)(e);const{locale:$}=(0,s.useIntl)(),{cube:K,serverKey:j}=(0,v.useCube)(o),[B]=(0,c.N)(j,K.name),{mdx:_}=(0,P.t)(o),[q]=(0,h.useWidgetPlugins)([O]),[V]=(0,f.n6)([q.cellStyle]),[U]=(0,m.W0)([q?.cell]),Q=(0,i.useCallback)((V?.withCellStyle??k)(U??H),[V]);Q.displayName="DrillthroughCell";const G=t.data,{cells:X,headers:J}=(0,i.useMemo)((()=>G&&_&&B?(0,Y.Q)(_,G?.result,B):{cells:void 0,headers:void 0}),[_,G,B]),Z=J&&J.length>0?1:0,ee=(0,i.useMemo)((()=>(J||[]).map((({caption:e})=>({value:e,caption:e})))),[J]),te=(0,i.useMemo)((()=>{if(X&&I){const e=ee.findIndex((e=>e?.caption===I.drillthroughColumnUniqueName));if(e>-1)return(0,l.orderBy)(X,[t=>t[e].value],["ASC"===I.orderMode?"asc":"desc"])}}),[X,I,ee])??X,oe=(0,i.useMemo)((()=>{const e=M&&te?(({bodyCells:e,columnsStyle:t,headerCells:o,locale:n})=>{const l=o.map(((e,t)=>({styledColumnIndex:t,value:e?.value}))).filter((({value:e})=>t[String(e)]));return(0,r.produce)(e,(e=>{e?.forEach((e=>{Object.values(l).forEach((({styledColumnIndex:o,value:r})=>{if(!r)return;const l=e[o],i=t[r],s=i.dateFormat?W()(l.value,{locale:n}).format(i.dateFormat):(0,E.m)({locale:n,numericFieldStyle:i,value:Number(l.value),valueFormattedByAtotiServer:l.caption});e[o]={caption:s,value:l.value}}))}))}))})({bodyCells:te,columnsStyle:M,headerCells:ee,locale:$}):te;return[ee,...e??[]]}),[ee,M,te,$]),ne=(0,i.useMemo)((()=>R&&J?Object.entries(R).reduce(((e,[t,o])=>{const n=J.findIndex((e=>e?.caption===t));return-1!==n?{...e,[n]:o}:e}),{}):void 0),[J,R]);if(!t.isLoading&&t.error){if((0,a.isErrorInQueryResultOfType)(t.error,"QueryTimeoutException"))throw new a.QueryTimeoutError(t.error);throw new a.QueryError(t.error)}const re=(0,i.useCallback)((()=>{x({...o,sort:{...I,orderMode:"ASC"===I.orderMode?"DESC":"ASC"}})}),[o,I,x]),le=(0,w.useCurriedComponent)(Q,{headerValues:J||[],onSortChanged:re,sort:I,widgetState:o});le.displayName="DrillthroughTableCell";const ie=(0,i.useRef)([]),se=(0,i.useRef)(void 0);(0,i.useEffect)((()=>{if(J&&te&&S){const e=se.current,t=N(ie.current,{headers:J,rows:te.map((e=>e.map((e=>e.value))))});(0,l.isEqual)(t,e)||(se.current=t,S(t))}}),[J,S,te]);const ae=J?e=>{x({...o,columnWidths:{...R,...Object.entries(e).reduce(((e,[t,o])=>({...e,[J[parseInt(t)].caption]:o})),{})}})}:void 0,ue=J&&te?e=>{if(S){ie.current=e;const t=N(e,{headers:J,rows:te.map((e=>e.map((e=>e.value))))});se.current=t,S(t)}}:void 0,ce=J?(e,t)=>{void 0!==_&&x((0,r.produce)(o,(o=>{const n=(0,d.getDrillthroughColumns)(_);(function(e,t,o){const n=t<0?e.length+t:t;if(n>=0&&n<e.length){const n=o<0?e.length+o:o,[r]=e.splice(t,1);e.splice(n,0,r)}})(n,e,t),o.query.mdx=(0,d.setDrillthroughColumns)(_,{drillthroughColumnUniqueNames:n}),delete o.shouldUseDefaultColumns})))}:void 0,de=(0,i.useRef)(null);return(0,i.useEffect)((()=>{async function e(e){if(!te||document.activeElement!==de.current)return;e.preventDefault();const t=(0,p.O)(ie.current,{numberOfColumnsInBody:J?.length??0,numberOfFrozenColumns:0,numberOfFrozenRows:Z,numberOfRowsInBody:te.length});if(t.length>0){const o=t[0],n=(0,g.M)(o.columnHeader,(e=>`${ee[e]?.value}`)),r=(0,g.M)(o.body,((e,t)=>`${te[t][e].value}`)),l=(0,y.R)({header:n,body:r});e.clipboardData?.setData("text/plain",l["text/plain"]),e.clipboardData?.setData("text/html",l["text/html"])}}return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}}),[te,ee,J?.length,Z]),Z>0?(0,n.Y)(b.XI,{cells:oe,style:C,numberOfFrozenRows:Z,Cell:le,columnWidths:ne,onColumnsResized:ae,onSelectionChanged:ue,size:o.style?.size??D,wrapHeaders:A,areRowNumbersVisible:L,canReorderColumns:!0,onColumnsReordered:ce,containerRef:de}):(0,n.Y)(z,{style:e.style})})))},23501:(e,t,o)=>{"use strict";o.d(t,{Q:()=>l});var n=o(31529),r=o(81573);const l=(e,t,o)=>{const l=((e,t,o)=>{const n={};return(e.columns??[]).forEach(((e,l)=>{const i=(0,r.isMdxFunction)(e)?e.arguments[0]:e;if(!(0,r.isMdxCompoundIdentifier)(i)||void 0===t.find((e=>e.name===i.identifiers[0].value)))return;const s=i.identifiers[0].value;if(!o.some((({name:e})=>e===s)))return;n[s]||(n[s]={valueIndex:-1});const a=(0,r.isMdxFunction)(e)&&e.name.toLowerCase();"membervalue"!==a&&a?"caption"===a&&(n[s].captionIndex=l):n[s].valueIndex=l})),n})(e,t.headers,o);if((0,n.isEqual)(l,{}))return{cells:void 0,headers:void 0};const i=[];return Object.values(l).forEach((({captionIndex:e,valueIndex:o})=>{const n=t.headers[o];if(n){const o=void 0!==e?t.headers[e].caption:n.caption;i.push({...n,caption:o})}})),{cells:t.rows.map((e=>Object.values(l).map((({captionIndex:t,valueIndex:o})=>{const n=e[o];return{caption:void 0!==t?`${e[t]}`:"object"==typeof n?JSON.stringify(n):`${n}`,value:"number"==typeof n?n:JSON.stringify(n)}})))),headers:i}}},60824:(e,t,o)=>{"use strict";o.d(t,{h:()=>l});var n=o(31529);const r={int:"numeric",double:"numeric",long:"numeric",String:"regular",Object:"regular",LocalDate:"date",LocalDateTime:"date"};function l(e){return(0,n.mapValues)((0,n.groupBy)(e,(({type:e})=>r[e]??"regular")),(e=>(0,n.sortBy)(e,(e=>e.name.toLowerCase()))))}},76849:(e,t,o)=>{"use strict";o.d(t,{_:()=>ne});var n=o(74389),r=o(14565),l=o(60003),i=o(35390),s=o(90147),a=o(93345),u=o(95889),c=o(94216),d=o(50862),m=o(96993),f=o(64555),h=o(32568),p=o(80193),g=o(62081),y=o(20566),b=o(9995),w=o(85419),v=o(42287),C=o(4418),x=o(81573),S=o(68059),O=o(11003);const R=(e,t,o)=>{!e.children&&"drillthroughColumn"===e.type&&t.includes(e.uniqueName)?o.push(e.path):void 0!==e.children&&"drillthroughColumn"!==e.type&&(e.children.forEach((e=>{R(e,t,o)})),e.children.every((e=>o.includes(e.path)))&&o.push(e.path))};var I=o(87745),H=o(32213),M=o(73806),F=o(60824);const z=["numeric","regular","date"],Y=()=>!0,D=e=>{const{formatMessage:t}=(0,u.useIntl)(),{selectedColumnUniqueNames:o,onSelectedColumnUniqueNamesChange:r,drillthroughColumns:l}=e,i=function(e){const{formatMessage:t}=(0,u.useIntl)(),o=(0,F.h)(e),n=(0,a.useMemo)((()=>z.map(((e,n)=>({type:e,caption:t({id:`aui.drillthrough.columnCategory.${e}`}),isFolder:!0,path:[0,n],children:o[e]?.map(((e,t)=>({caption:e.caption,type:"drillthroughColumn",uniqueName:e.name,isFolder:!1,path:[0,n,t]})))})))),[o,t]);return[{caption:t({id:"aui.selectAll"}),children:n,isFolder:!0,path:[0],type:"root"}]}(l),s=(0,a.useMemo)((()=>((e,t)=>{const o=[];return e.forEach((e=>{R(e,t,o)})),o})(i,o)),[i,o]),c=(0,a.useCallback)((e=>{const t=((e,t)=>{const o=(0,I.f)(e,t),n=[];return(0,H.z)(e,(e=>{"drillthroughColumn"===e.type&&(0,M.Q)(e.path,o)&&n.push(e.uniqueName)})),n})(i,e);r(t)}),[i,r]);return(0,n.Y)(O.P,{style:{minHeight:0},value:i,isSearchVisible:!0,isSelectable:!0,searchPlaceholder:t({id:"aui.drillthrough.columnSearchPlaceholder"}),onSelectedPathsChange:c,hasCheckbox:Y,selectedPaths:s})};var N=o(31529),T=o(89596);const W=["widget"];var E=o(70372),P=o(40570),k=o(24870),A=o.n(k),L=o(8084),$=o(28040),K=o(78208),j=o(85542),B=o(66835),_=o(79938),q=o(55308),V=o(59350),U=o(74335),Q=o(97628),G=o(12273),X=o(49961),J=o(23501);const Z=[K.i,j.z,B.l,e=>(0,n.Y)($.j,{...e,colorOpacity:q.$})],ee=()=>{},te="drillthrough-table",oe={query:{updateMode:"once"},widgetKey:te},ne={key:te,category:"misc",Component:function(e){const t=(0,a.memo)((t=>{const{serverKey:o,cube:r}=(0,i.useCube)(t.widgetState),{widgetState:l,queryId:u,isDeferred:c}=t,{dashboardState:d,pageKey:m}=(0,i.isWidgetInDashboard)(t)?t:{},{mdx:f,isLoading:h}=(0,T.t)(l),p=(0,a.useMemo)((()=>(0,s.produce)(l,(e=>{e.query.mdx=f}))),[l,f]),g=(0,i.useWidgetQueryResult)({serverKey:o,queryId:u,widgetState:p,dashboardState:d,pageKey:m,cube:r,isDeferred:c}),y=(0,a.useMemo)((()=>({...g,isLoading:g.isLoading||h})),[g,h]);return(0,n.Y)(e,{...t,queryResult:y,onQueryRangesChanged:ee})}));return t.displayName=`withDrillthroughQueryResult(${e.displayName})`,t}((0,i.withWidgetQueryErrorBoundary)(E.$)),contentEditor:e=>{const{cube:t,serverKey:o}=(0,i.useCube)(e.widgetState),{onWidgetChange:r,widgetState:l}=e,[O,{error:R}]=(0,c.N)(o,t.name),I=(0,i.useFilters)(l),H=(0,i.useMdxInViews)({widgetState:l}),{mdx:M,isLoading:F}=(0,T.t)(l),z=(0,a.useMemo)((()=>M?(0,x.getDrillthroughColumns)(M):[]),[M]),Y=(0,a.useCallback)((e=>{if(!M)return;const t=function({currentColumnNames:e,newColumnNames:t}){return[...(0,N.intersection)(e,t),...(0,N.difference)(t,e)]}({currentColumnNames:z,newColumnNames:e}),n=(0,s.produce)(l,(e=>{e.query.mdx=(0,x.setDrillthroughColumns)(M,{drillthroughColumnUniqueNames:t}),e.serverKey=o,delete e.shouldUseDefaultColumns}));r(n)}),[M,z,l,r,o]),[E,P]=(0,a.useState)(),k=(0,a.useCallback)((e=>{const t=(0,s.produce)(l,(t=>{t.filters=e.widget,(0,i.driveFiltersFromState)(t)}));r(t)}),[r,l]),A=({dragItem:e})=>(0,v.a)(e)||(0,f.x)(e)||(0,h.G)(e)||(0,p.f)(e),L=({dragItem:e,toPosition:n})=>{const{dimensionName:r,hierarchyName:l,levelName:i}=e.field,s=(0,d.Z)({dimensionName:r,hierarchyName:l,levelName:i,cube:t});P({serverKey:o,cubeName:t.name,hierarchyCoordinates:{dimensionName:r,hierarchyName:l},position:n,levelIndex:s,type:"create-filter"})};(0,w.z4)(((e,t)=>{if((0,g.t)(e)||(0,y.y)(e)||(0,b.r)(e)){const{dimensionName:o,hierarchyName:n,levelName:r}=(0,m.a)(e),l={fieldType:e.type,type:"DATA_TREE_FIELD",field:{dimensionName:o,hierarchyName:n,levelName:r}};A({dragItem:l})&&(L({dragItem:l,toPosition:{sectionName:"widget",tileIndex:I.widget.length}}),t.preventDefault())}}));const{formatMessage:$}=(0,u.useIntl)(),K=(0,a.useMemo)((()=>({widget:$({id:"aui.filters.section.widgetFilters"})})),[$]);return R?(0,n.Y)(S.CenteredTitle,{level:2,children:R.message}):F?(0,n.Y)(S.CenteredTitle,{level:2,children:$({id:"aui.dataVisualization.loadingDrillthroughColumns"})}):O?(0,n.FD)("div",{style:{height:"100%",display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[(0,n.Y)("div",{style:{flexGrow:1,minHeight:0},children:(0,n.Y)(D,{drillthroughColumns:O,onSelectedColumnUniqueNamesChange:Y,selectedColumnUniqueNames:z})}),(0,n.Y)("div",{style:{flexShrink:0,justifySelf:"flex-end"},children:(0,n.Y)(C.l,{canDrop:A,dragItemTypes:["DATA_TREE_FIELD","FIELD_IN_WIZARD","FILTER_IN_WIZARD"],serverKey:o,cubeName:t.name,filters:I,onFiltersChange:k,sectionCaptions:K,popoverConfiguration:E,onPopoverConfigurationChanged:P,mdxInViews:H,visibleSectionNames:W,onTileMoved:L})})]}):(0,n.Y)(S.CenteredTitle,{level:2,children:$({id:"aui.dataVisualization.missingDrillthroughColumns"})})},filtersEditor:e=>(0,n.Y)(i.FiltersEditor,{...e,queryType:"drillthrough"}),queryEditor:r.M,styleEditor:e=>{const{queryId:t,widgetState:o}=e,{query:{mdx:r}}=o,{cube:l,serverKey:s}=(0,i.useCube)(o),{data:d}=(0,L.J)({serverKey:s,queryId:t}),{locale:m}=(0,u.useIntl)(),f=(0,X.DP)(),[h]=(0,c.N)(s,l.name),p=(0,a.useMemo)((()=>{if(!d||!r||!h)return[];const{cells:e,headers:t}=(0,J.Q)(r,d.result,h);return(t??[]).map((({name:t,caption:o},n)=>{const r=(e??[]).every((e=>!isNaN(e[n].value)));return{value:t,label:o,type:"drillthroughHeader",isNumeric:r,isTime:!r&&(e??[]).every((e=>A()(e[n].value,{locale:m}).isValid()))}}))}),[d,h,r,m]);return(0,n.FD)(a.Fragment,{children:[(0,n.FD)("div",{css:P.css`
          border-bottom: 1px solid ${f.grayScale[4]};
          padding-bottom: 4px;
        `,children:[(0,n.Y)(V.j,{...e}),(0,n.Y)(U.S,{...e}),(0,n.Y)(Q.X,{...e}),(0,n.Y)(G.Y,{...e})]}),(0,n.Y)(_.G,{...e,fieldOptions:p,fieldStyleEditors:Z})]})},Icon:l.IconBusinessDrillthrough,initialState:oe,translations:{"en-US":{key:"Drillthrough",defaultName:"New drillthrough"},"fr-FR":{key:"Drillthrough",defaultName:"Nouveau drillthrough"}}}},89596:(e,t,o)=>{"use strict";o.d(t,{t:()=>c});var n=o(31529),r=o(93345),l=o(94216),i=o(67137),s=o(81573),a=o(35390),u=o(60824);function c(e){const{serverKey:t,cube:o}=(0,a.useCube)(e),c=o.name,[d,{isLoading:m}]=(0,l.N)(t,c),[f,,{isLoading:h}]=(0,i.i)("drillthrough.defaultSelectedColumns"),p=m||h,g=(0,r.useMemo)((()=>e.query.mdx??(0,s.getDefaultMdxDrillthrough)(c)),[e.query.mdx,c]),y=(0,r.useMemo)((()=>{const e=(0,u.h)(d??[]),t=(0,n.flatten)(["numeric","regular","date"].map((t=>e[t]??[])));return(0,n.map)(t,"name")}),[d]),b=f[c],w=(0,r.useMemo)((()=>b?(0,n.intersection)(b,y):y),[y,b]);return(0,r.useMemo)((()=>e.shouldUseDefaultColumns?p?{isLoading:!0}:{mdx:(0,s.setDrillthroughColumns)(g,{drillthroughColumnUniqueNames:w}),isLoading:!1}:{mdx:g,isLoading:p}),[g,e.shouldUseDefaultColumns,p,w])}},55308:(e,t,o)=>{"use strict";o.d(t,{o:()=>f,$:()=>m});var n=o(74389),r=o(90923),l=o(90147),i=o(31529),s=o(93345),a=o(95889),u=o(28040),c=o(68059),d=o(35390);const m=.3,f=e=>{const{formatMessage:t}=(0,a.useIntl)(),{selectedField:o,onStyleChanged:f,widgetState:h}=e,p=o.value,g=Boolean("measure"===o.type&&o.value&&o.value===h.style?.tupleImpactingRowStyle?.[0].namePath[0]),y=(0,s.useMemo)((()=>function({fieldName:e,widgetState:t}){if(!t)return;const{mapping:o}=t;if((o.columns??[]).some((e=>(0,d.isHierarchyInMapping)(e)||(0,d.isCompositeHierarchyInMapping)(e))))return"hierarchiesOnColumns";if((o.rows??[]).some(d.isAllMeasuresInMapping))return"measuresNotOnColumns";const n=t.style?.tupleImpactingRowStyle;return n&&n?.[0].namePath[0]!==e?"conditionalFormattingOfAnotherMeasureAlreadyApplied":void 0}({fieldName:p,widgetState:h})),[h,p]);return(0,n.FD)(n.FK,{children:[(0,n.Y)(u.j,{...e,colorOpacity:m}),(0,n.Y)(c.Tooltip,{trigger:o.isNumeric&&void 0!==y?["hover"]:[],placement:"right",title:t({id:"aui.conditionalStyle.applyToFullRowDisabled"},{cause:y}),children:(0,n.Y)("div",{children:(0,n.Y)(r.Checkbox,{onClick:()=>{const e=o.value,t=h.style??{},n=(0,l.produce)(t,(t=>{if(g)delete t?.tupleImpactingRowStyle;else{const o=[{dimensionName:"Measures",hierarchyName:"Measures",namePath:[e]}];(0,i.set)(t,["tupleImpactingRowStyle"],o)}}));f(n)},checked:g,disabled:!o.isNumeric||void 0!==y,children:t({id:"aui.conditionalStyle.applyToFullRow"})})})})]})}},24979:(e,t,o)=>{"use strict";o.d(t,{Y:()=>u});var n=o(74389),r=o(93345),l=o(94408),i=o(68059),s=o(26366);const a=(0,r.forwardRef)((({caption:e,className:t,style:o,tooltipContent:r},s)=>{const a=(0,n.Y)("div",{className:t,style:o,ref:s,"data-testid":"aui-cell",children:e});return r?(0,n.Y)(i.Tooltip,{title:(0,n.Y)(l.U,{content:r}),mouseEnterDelay:.3,placement:"right",overlayStyle:{maxWidth:350},children:a}):a}));a.displayName="DefaultTableCell";const u=(0,r.memo)((0,s.R)(a))},12273:(e,t,o)=>{"use strict";o.d(t,{Y:()=>s});var n=o(74389),r=o(95889),l=o(67137),i=o(90254);const s=e=>{const[t]=(0,l.i)("table.rowNumbers"),{formatMessage:o}=(0,r.useIntl)();return(0,n.Y)(i.u,{propertyName:"areRowNumbersVisible",checkedByDefault:t,label:o({id:"aui.dataVisualization.rowNumbers"}),...e})}},91262:(e,t,o)=>{"use strict";o.d(t,{XI:()=>Le,GR:()=>ke,aK:()=>Pe});var n=o(74389),r=o(90147),l=o(31529),i=o(93345),s=o.n(i),a=o(56155),u=o(5140),c=o(67137),d=o(49961),m=o(7396),f=o(68059);function h({x:e,y:t},o){return void 0!==o&&e>=o.left&&e<=o.right&&t>=o.top&&t<=o.bottom}function p(e,t,o){return(e-t)/(o-t)}const g=({left:e,width:t})=>{const{hoverColor:o}=(0,d.DP)(),r=(0,i.useMemo)((()=>`2px solid ${o}`),[o]);return(0,n.Y)("div",{"data-testid":"column-drag-highlight",style:{position:"absolute",top:0,left:e,width:t,height:"100%",border:r,borderBottom:"none"}})};var y=o(18729);const b=({left:e,width:t})=>{const{hoverColor:o}=(0,d.DP)(),{backgroundColor:r,border:l}=(0,i.useMemo)((()=>({backgroundColor:(0,y.j)(o,.07),border:`2px solid ${(0,y.j)(o,.27)}`})),[o]);return(0,n.Y)("div",{"data-testid":"column-drag-preview",style:{position:"absolute",top:0,left:e,width:t,height:"100%",backgroundColor:r,border:l,borderBottom:"none"}})},w=({tableId:e,columnWidth:t,left:o,columnIndex:r,onDrop:l})=>{const[{isOver:i,item:s},u]=(0,a.useDrop)((()=>({accept:ke,collect:e=>({isOver:e.isOver(),item:e.getItem()}),canDrop:t=>t.tableId===e,drop:e=>{l?.(e.columnIndex,r)}})),[r,l,e]),{hoverColor:c}=(0,d.DP)();let m={};return s&&i&&(m=r<s.columnIndex?{borderLeft:`2px solid ${c}`}:{borderRight:`2px solid ${c}`}),(0,n.Y)("div",{ref:u,"data-testid":"column-drop-area",style:{position:"absolute",left:o,width:t,height:"100%",pointerEvents:"auto",...m}})},v=({tableId:e,dragBounds:t,scrollLeft:o,defaultColumnWidth:r,columnWidths:s,visibleColumns:u,cumulatedWidthOfColumnsScrolledPast:c,onColumnReorder:d,onScroll:m})=>{const{itemType:f,isDragging:y,item:v,mousePosition:C,initialMousePosition:x,initialSourceClientOffset:S}=(0,a.useDragLayer)((e=>({isDragging:e.isDragging(),itemType:e.getItemType(),mousePosition:e.getClientOffset(),initialMousePosition:e.getInitialClientOffset(),initialSourceClientOffset:e.getInitialSourceClientOffset(),item:e.getItem()}))),O=(0,i.useCallback)((({visibleColumns:t,scrollLeft:o,cumulatedWidthOfColumnsScrolledPast:l})=>{if(!v)return[];let i=l;const a=[];for(let l=t.from;l<=t.to;l++){const t=s[l]??r;l!==v.columnIndex&&a.push((0,n.Y)(w,{tableId:e,columnWidth:t,left:i-o,columnIndex:l,onDrop:d})),i+=t}return a}),[s,r,v,d,e]),R=(0,i.useRef)(o);if(y||(R.current=o),f!==ke||!y||!v)return null;if(v.tableId!==e)return null;if(!C||!x||!S)return null;const I=t.right-t.left,H=S.x-t.left,M=C.x-x.x,F=H+R.current-o,z=(0,l.clamp)(H+M,0,I-v.columnWidth),Y=h(C,t);if(C.x<t.left+40){const e=1-p(C.x,t.left,t.left+40);m?.("left",(0,l.clamp)(e,0,1))}if(C.x>t.right-40){const e=p(C.x,t.right-40,t.right);m?.("right",(0,l.clamp)(e,0,1))}const D=O({visibleColumns:u,cumulatedWidthOfColumnsScrolledPast:c,scrollLeft:o});return(0,n.FD)(n.FK,{children:[...D,(0,n.Y)(g,{left:F,width:v.columnWidth}),Y&&(0,n.Y)(b,{left:z,width:v.columnWidth})]})};var C=o(24979);const x=e=>{const t=(0,d.DP)(),[o,r]=(0,i.useState)(!1),[l,s]=(0,i.useState)(e.position),a=(0,i.useRef)(l);return(0,i.useEffect)((()=>{s(e.position)}),[e.position]),(0,i.useEffect)((()=>{a.current=l}),[l]),(0,n.Y)("div",{className:"handle",onMouseDown:t=>{t.stopPropagation(),document.body.style.userSelect="none";const o=t.clientX;r(!0);const n=t=>{s(function(t){const n=t-o;return Math.max(l+n,e.minPosition)}(t.clientX))},i=()=>{document.body.style.userSelect="auto",document.body.removeEventListener("mousemove",n),document.body.removeEventListener("mouseup",i),r(!1),e.onResizeEnded(a.current)};document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",i)},onDoubleClick:e.onDoubleClicked,css:{position:"absolute",cursor:"col-resize",height:"100%",width:4,background:o?t.primaryColor:"transparent",top:0,left:l,zIndex:1,":hover":{background:t.primaryColor}}})};var S=o(95889),O=o(74860),R=o(70070);const I=R.A.default??R.A,H=s().forwardRef(((e,t)=>(0,n.Y)(I,{...e,ref:t,icon:O.A})));var M=o(58910);const F=({left:e,onClick:t,numberOfHiddenColumns:o})=>{const r=(0,d.DP)(),{formatMessage:l}=(0,S.useIntl)();return(0,n.Y)("div",{css:{cursor:"pointer",position:"absolute",top:0,left:e-15,height:14,width:26,zIndex:1,":hover":{border:`1px solid ${r.primaryColor}`,borderRadius:5,backgroundColor:r.white},display:"flex",justifyContent:"center",alignItems:"center"},onClick:t,onMouseDown:e=>{e.stopPropagation()},children:(0,n.Y)(f.Tooltip,{title:l({id:"aui.hiddenColumnsTooltip"},{numberOfHiddenColumns:o}),placement:"top",trigger:"hover",children:(0,n.FD)("span",{css:{width:24,height:12,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,n.Y)(H,{}),(0,n.Y)(M.A,{})]})})})};var z=o(40570);function Y({columnIndex:e,columnWidths:t,defaultColumnWidth:o,hiddenColumns:n}){return n&&n.has(e)?0:t?.[e]??o}const D=e=>{const t=(0,d.DP)(),{range:o}=e;if(!o)return null;const{left:r,width:l,top:s,height:a}=(({columnWidths:e={},defaultColumnWidth:t,defaultRowHeight:o,hiddenColumns:n,range:r,rowHeights:l,numberOfRowsInGrid:i,numberOfColumnsInGrid:s})=>{const{columns:a,rows:u}=r,c=Math.min(u.to,i-1)+1;let d=0,m=0;for(let o=0;o<Math.min(a.to,s-1)+1;o++){const r=Y({columnIndex:o,columnWidths:e,defaultColumnWidth:t,hiddenColumns:n});o<a.from?d+=r:m+=r}let f=0,h=0;if(l)for(let e=0;e<c;e++){const t=l[e]??o;e<u.from?f+=t:h+=t}else f=u.from*o,h=(c-u.from)*o;return{left:d,width:m,top:f,height:h}})({...e,range:o});return(0,n.Y)(i.Fragment,{children:(0,n.Y)("div",{css:z.css`
          background: ${t.selectionOverlayColor};
          position: absolute;
          top: ${s}px;
          left: ${r}px;
          height: ${a}px;
          width: ${l}px;
          pointer-events: none;
        `})})};var N=o(1654);const T={},W=e=>{const{Cell:t,cells:o,areColumnsResizable:r,areHiddenColumnGroupCaretsVisible:s,numberOfRows:a,numberOfColumns:u,defaultColumnWidth:c,defaultRowHeight:d,columnWidths:m=T,rowHeights:f,hiddenColumns:h,selection:p,style:g,getColumnProps:y,getRowProps:b,getRowStyle:w,isTotal:v,onColumnsShown:C,onColumnsWidthChanged:S,onColumnResizeHandleDoubleClicked:O,rowsRef:R,isVirtualized:I,contentWidth:H}=e,M=I?e.visibleRange:{rows:{from:0,to:a-1},columns:{from:0,to:u-1}},z=I?e.cumulatedWidthOfColumnsScrolledPast:0,Y=(0,i.useCallback)(((e,{left:r,rowIndex:l,columnIndex:i,rowProps:s,rowStyle:a,columnProps:u,parentTotalRowIndex:f})=>{const h=o[l][i],p=m[i]??c;return e.push((0,n.Y)(t,{className:"aui-table-cell",...h,rowIndex:l,columnIndex:i,left:r,width:p,parentTotalRowIndex:f,top:l*d,height:d,isVirtualized:I,style:{...a,userSelect:"none"},...s[i],...u[l]},`cell-${l}-${i}`)),r+p}),[t,o,m,c,d,I]),{cellElements:W,rowElements:E,resizeHintPositions:P,hiddenColumnGroups:k}=(0,i.useMemo)((()=>{const e=[],t=[],o=[],n=[];let l=M.rows.from;for(let i=M.rows.from;i<=Math.min(a-1,M.rows.to);i++){I||t.push([]);let s=z;const a=b?b(i):[],c=w?.(i);v?.(i)&&(l=i);for(let d=M.columns.from;d<=Math.min(u-1,M.columns.to);d++){const u=y?y(d):[];if(h&&h.has(d)){if(0===i){const e=n.at(-1);e?.to===d-1?e.to=d:n.push({from:d,to:d,left:s})}}else s=Y(I?e:t[i],{rowIndex:i,columnIndex:d,left:s,rowProps:a,columnProps:u,parentTotalRowIndex:l,rowStyle:c});r&&0===i&&o.push(s-3)}}return{rowElements:t,resizeHintPositions:o,cellElements:e,hiddenColumnGroups:n}}),[r,z,y,b,w,h,v,I,u,a,Y,M.columns.from,M.columns.to,M.rows.from,M.rows.to]);return(0,n.FD)("div",{style:{cursor:"cell",position:"relative",width:H,...!0===I&&{height:e.contentHeight},...g},children:[I?W:E.map(((t,o)=>(0,n.Y)("div",{css:{display:"flex",flexDirection:"row",...!e.wrapText&&{height:d}},ref:e=>{R?.(e,o)},children:t},`row-${o}`))),(p||[]).map(((e,t)=>(0,n.Y)(D,{range:e,defaultRowHeight:d,defaultColumnWidth:c,columnWidths:m,hiddenColumns:h,rowHeights:f,numberOfRowsInGrid:a,numberOfColumnsInGrid:u},t))),s&&k.map((({left:e,from:t,to:o},r)=>(0,n.Y)(F,{left:e,numberOfHiddenColumns:o-t+1,onClick:()=>((e,t)=>{C?.((0,l.range)(e,t+1))})(t,o)},r))),r&&P.map(((e,t)=>{const o=0===t?0:P[t-1],r=e-o;return(0,n.Y)(x,{position:e,minPosition:o+N.X,onDoubleClicked:()=>O?.(t),onResizeEnded:o=>{S?.({...m,[t]:r+o-e+3})}},t)}))]})},E=e=>{const t="small"===e.size?1:4,o=5-e.borderSize,r=e.height-(t+3);return(0,n.Y)("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",fontSize:12,boxSizing:"border-box",padding:`${t}px ${o}px 3px 0px`,lineHeight:`${r}px`,width:e.width,position:"absolute",left:e.left,top:e.top,borderRight:`${e.borderSize}px solid ${e.borderColor}`,backgroundColor:e.backgroundColor,userSelect:"none"},children:e.caption})};E.displayName="RowNumberCell";const P=(0,i.createContext)([[],()=>!1]),k=(0,i.createContext)([!1,l.noop]),A=P.Provider,L=k.Provider;function $(){return(0,i.useContext)(P)}function K(){return(0,i.useContext)(k)}function j(e){return e.body?.columns.to===1/0}function B(e){return e.body?.columns.to===1/0&&e.body.rows.to===1/0}function _(e){return e.length>=1&&B(e[0])}function q(e,{rowIndex:t}){return!!_(e)||e.some((e=>{const o=e.body;return void 0!==o&&j(e)&&o.rows.from<=t&&o.rows.to>=t}))}const V=({numberOfRows:e,defaultRowHeight:t,contentWidth:o,style:r,contentHeight:s,visibleRange:a})=>{const u=(0,d.DP)(),[c]=$(),m=_(c),f=(0,i.useMemo)((()=>(0,l.range)(1,e+1).map((e=>[{caption:`${e}`,value:e}]))),[e]);return(0,n.Y)(W,{Cell:E,cells:f,isVirtualized:!0,contentWidth:o,numberOfColumns:1,numberOfRows:e,getRowProps:e=>{const t=q(c,{rowIndex:e}),o=function(e,{rowIndex:t}){return!!q(e,{rowIndex:t})||e.some((e=>{const o=e.rowHeader;if(void 0!==o&&o.rows.from<=t&&o.rows.to>=t)return!0;const n=e.body;return void 0!==n&&n.rows.from<=t&&n.rows.to>=t}))}(c,{rowIndex:e}),n=o&&!m;return[{borderSize:n?2:1,borderColor:n?u.hoverColor:u.cellBorderColor,backgroundColor:t?u.selectionOverlayColor:o?u.activeMenuItemBackgroundColor:"transparent"}]},style:r,defaultColumnWidth:o,defaultRowHeight:t,contentHeight:s,visibleRange:a,cumulatedWidthOfColumnsScrolledPast:0})};var U=o(60003);const Q=({style:e})=>{const t=(0,d.DP)(),[o]=$(),r=_(o);return(0,n.Y)("div",{style:{width:"100%",height:"100%",padding:"3px",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-end",color:r?t.hoverColor:t.cellBorderColor,...e},children:(0,n.Y)(U.IconCornerArrow,{})})};let G=o(71177);G=G.default??G;const{ScrollSync:X,ScrollSyncPane:J}=G,Z=e=>{const{TopCell:t,TopLeftCell:o,LeftCell:r,BodyCell:l,numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:u,numberOfScrollableRows:c,rowHeaderStyle:d,staticHeaderStyle:m,columnWidths:f,defaultColumnWidth:h,defaultRowHeight:p,getRowProps:g}=e,[y]=$(),b=(0,i.useCallback)((e=>g(e+a)),[g,a]),w=(0,i.useCallback)((e=>{const{columnIndex:r}=e;return r<=s-1?(0,n.Y)(o,{...e,style:{...m,...e.style}}):(0,n.Y)(t,{...e,columnIndex:r-s})}),[t,o,s,m]),v=(0,i.useCallback)((e=>{const{columnIndex:t}=e;return t<=s-1?(0,n.Y)(r,{...e,style:{...d,...e.style}}):(0,n.Y)(l,{...e,columnIndex:t-s})}),[l,r,s,d]);return w.displayName="TopCellWhenNotEnoughWidth",v.displayName="BodyCellWhenNotEnoughWidth",(0,n.FD)(n.FK,{children:[(0,n.Y)(J,{group:"horizontal",children:(0,n.Y)("div",{ref:e.columnHeaderRef,className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},children:(0,n.Y)(W,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:e.columnHeaderCells,Cell:w,columnWidths:f,contentWidth:e.contentWidth,style:e.columnHeaderStyle,defaultColumnWidth:h,defaultRowHeight:p,wrapText:e.wrapHeaders,hiddenColumns:e.hiddenColumns,isVirtualized:!1,getRowProps:g,getColumnProps:e.getColumnProps,numberOfRows:a,numberOfColumns:s+u,onColumnsShown:e.onColumnsShown,selection:y.map((e=>e.columnHeader)),onColumnsWidthChanged:e.onColumnsWidthChanged,onColumnResizeHandleDoubleClicked:e.onColumnResizeHandleDoubleClicked})})}),(0,n.Y)(J,{group:Pe,children:(0,n.Y)("div",{ref:e.bodyRef,className:"aui-invisible-scrollbars",onScroll:e.handleScrolled,style:{gridArea:"body",overflow:"auto"},children:(0,n.Y)(W,{isVirtualized:!0,cumulatedWidthOfColumnsScrolledPast:e.cumulatedWidthOfColumnsScrolledPast,contentWidth:e.contentWidth,contentHeight:e.contentHeight,visibleRange:e.visibleRange,cells:e.bodyCells,Cell:v,columnWidths:f,defaultColumnWidth:h,defaultRowHeight:p,hiddenColumns:e.hiddenColumns,getRowProps:b,getColumnProps:e.getColumnProps,numberOfRows:c,numberOfColumns:s+u,selection:y.map((e=>e.body)),onColumnsShown:t=>e.onColumnsShown?.(t.map((e=>s+e)))})})})]})};var ee=o(90923),te=o(62795),oe=o(36668),ne=o(76103);function re({rows:e,columns:t}){return(e.to+1-e.from)*(t.to+1-t.from)}const{Option:le}=ee.Select,ie=new Intl.NumberFormat,se=({cells:e,hiddenFrozenColumns:t,hiddenScrollableColumns:r})=>{const{formatMessage:s}=(0,S.useIntl)(),[a]=$(),u=(c=a,(0,l.sumBy)((0,l.flatMap)(c.map((({body:e,columnHeader:t,rowHeader:o,staticHeader:n})=>[e,t,o,n].filter((e=>void 0!==e))))),re)>1e5);var c;const{result:d,loading:m}=(0,te.useAsyncAbortable)((async n=>{if(!n.aborted)return u?new Promise(((l,i)=>{const s=new Worker(new URL(o.p+o.u(9581),o.b));n.addEventListener("abort",(()=>{s.terminate(),i()})),s.onmessage=({data:e})=>{s.terminate(),l(e)},s.postMessage({cells:e,selection:a,hiddenFrozenColumns:t,hiddenScrollableColumns:r})})):function({selection:e,cells:{bodyCells:t,staticHeaderCells:o,columnHeaderCells:n,rowHeaderCells:r},hiddenFrozenColumns:l,hiddenScrollableColumns:i}){const s={},a=new Set;return e.forEach((e=>{[[e.body,t,i],[e.columnHeader,n,i],[e.staticHeader,o,l],[e.rowHeader,r,l]].forEach((([e,t,o])=>{const{numberOfRows:n,numberOfColumns:r}=void 0!==t&&t.length>0?(0,ne.Q)(t):{numberOfRows:0,numberOfColumns:0};if(e&&t)for(let l=e.rows.from;l<=Math.min(e.rows.to,n-1);l++)for(let n=e.columns.from;n<=Math.min(e.columns.to,r-1);n++){const e=`${l}:${n}`;if(!a.has(e)&&!o.has(n)){a.add(e);const o=t[l]?.[n];if(o){const e=Number(o.value);isNaN(e)||(s.sum=(s.sum??0)+e,s.min=Math.min(s.min??e,e),s.max=Math.max(s.max??e,e),s.countNumbers=(s.countNumbers??0)+1),s.count=(s.count??0)+1}}}}))})),{...s,...s.sum&&s.countNumbers?{avg:s.sum/s.countNumbers}:{}}}({cells:e,selection:a,hiddenFrozenColumns:t,hiddenScrollableColumns:r})}),[u,e,a,t,r],{setLoading:e=>({...e,loading:!0})}),[f,h]=(0,i.useState)("sum"),p=(0,i.useMemo)((()=>d?(0,oe.u)(d):[]),[d]);return d&&0!==p.length?(0,n.Y)(ee.Select,{bordered:!1,value:f,onChange:e=>h(e),popupMatchSelectWidth:175,loading:u&&m,children:["sum","min","max","avg","count","countNumbers"].map((e=>{const t=d[e];return(0,n.Y)(le,{value:e,children:(0,n.FD)("div",{css:{display:"flex",justifyContent:"space-between"},children:[(0,n.FD)("div",{css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[s({id:`aui.dataVisualization.statistics.${e}`}),"Â "]}),(0,n.Y)("div",{children:t?ie.format(t):""})]})},e)}))}):null},ae=e=>{const t=document.createElement("div");t.innerHTML=e,t.style.fontSize="12px",t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto",t.style.whiteSpace="nowrap",document.body.appendChild(t);const o=t.clientWidth+1;return document.body.removeChild(t),o},ue=["margin-left","margin-right","padding-left","padding-right"],ce=e=>{let t=0;if("style"in e&&"none"===e.style.display)return 0;if(ue.forEach((o=>{t+=parseFloat(window.getComputedStyle(e).getPropertyValue(o))})),"svg"===e.tagName)t+=e.getBoundingClientRect().width;else for(let o=0;o<e.children.length;o++)t+=ce(e.children[o]);return t},de=e=>"style"in e&&"none"===e.style.display,me=({gridElement:e,defaultRowHeight:t,defaultColumnWidth:o,columnWidths:n,hiddenColumns:r,rowHeights:l,x:i,y:s})=>{const a=e.getBoundingClientRect(),u=e.scrollTop+Math.max(0,Math.min(a.height,s-a.top));let c=0;if(l){let e=0;for(;c<l.length&&(e+=l[c]??t,e<u);)c+=1}else c=Math.floor(u/t);const d=function({distanceFromLeft:e,hiddenColumns:t,columnWidths:o,defaultColumnWidth:n}){let r=-1,l=0;for(;l<=e;)r++,l+=Y({columnIndex:r,columnWidths:o,defaultColumnWidth:n,hiddenColumns:t});return r}({distanceFromLeft:e.scrollLeft+Math.max(0,Math.min(a.width,i-a.left)),columnWidths:n,defaultColumnWidth:o,hiddenColumns:r});return{rowIndex:c,columnIndex:d}};var fe=o(32777);function he({from:e,to:t,anchor:o}){const n=o??{gridKey:"rowHeader",rowIndex:e,columnIndex:0},r=Math.min(e,t),l=Math.max(e,t);return{anchor:n,body:{columns:{from:0,to:1/0},rows:{from:r,to:l}},rowHeader:{columns:{from:0,to:1/0},rows:{from:r,to:l}}}}function pe(){return[{...he({from:0,to:1/0}),staticHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},columnHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},anchor:{columnIndex:0,rowIndex:0,gridKey:"body"}}]}const ge=["staticHeader","columnHeader","rowHeader","body"];function ye({rowIndex:e,columnIndex:t},{numberOfFrozenColumns:o,numberOfFrozenRows:n}){return e<n&&t<o?{gridKey:"staticHeader",rowIndex:e,columnIndex:t}:e<n?{gridKey:"columnHeader",rowIndex:e,columnIndex:t-o}:t<o?{gridKey:"rowHeader",rowIndex:e-n,columnIndex:t}:{gridKey:"body",rowIndex:e-n,columnIndex:t-o}}function be({gridKey:e,columnIndex:t,rowIndex:o},{numberOfFrozenColumns:n,numberOfFrozenRows:r}){return{columnIndex:t+(["body","columnHeader"].includes(e)?n:0),rowIndex:o+(["body","rowHeader"].includes(e)?r:0)}}function we({anchor:e,to:t},{numberOfFrozenColumns:o,numberOfFrozenRows:n,numberOfScrollableColumns:r,numberOfScrollableRows:i}){const s=Math.min(e.rowIndex,t.rowIndex),a=Math.max(e.rowIndex,t.rowIndex),u=Math.min(e.columnIndex,t.columnIndex),c=Math.max(e.columnIndex,t.columnIndex),d={staticHeader:{rows:{from:0,to:n-1},columns:{from:0,to:o-1}},columnHeader:{rows:{from:0,to:n-1},columns:{from:o,to:r-1}},rowHeader:{rows:{from:n,to:i-1},columns:{from:0,to:o-1}},body:{rows:{from:n,to:i-1},columns:{from:o,to:r-1}}},m={anchor:ye(e,{numberOfFrozenColumns:o,numberOfFrozenRows:n})};return ge.forEach((e=>{const t=d[e];if(a<t.rows.from||s>t.rows.from+t.rows.to||c<t.columns.from||u>t.columns.from+t.columns.to)return;(0,l.clamp)(u-t.columns.from,0,t.columns.to);const o={columns:{from:(0,l.clamp)(u-t.columns.from,0,t.columns.to),to:(0,l.clamp)(c-t.columns.from,0,t.columns.to)},rows:{from:(0,l.clamp)(s-t.rows.from,0,t.rows.to),to:(0,l.clamp)(a-t.rows.from,0,t.rows.to)}};m[e]=o})),m}function ve(e,{lastRange:t}){return e.length<=1?[t]:[...e.slice(0,-1),t]}function Ce(e,{key:t,shiftKey:o,ctrlKey:n,metaKey:r,numberOfScrollableColumns:i,numberOfScrollableRows:s,numberOfFrozenColumns:a,numberOfFrozenRows:u,numberOfVisibleRows:c}){const d={numberOfScrollableColumns:i,numberOfFrozenColumns:a,numberOfFrozenRows:u,numberOfScrollableRows:s},m={ArrowLeft:{columnOffset:-1},ArrowRight:{columnOffset:1},ArrowUp:{rowOffset:-1},ArrowDown:{rowOffset:1},PageUp:{rowOffset:-c},PageDown:{rowOffset:c},Home:{rowOffset:-1/0},End:{rowOffset:1/0}},f=e.at(-1);if(f&&j(f))switch(t){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":{const n=o,{range:r,targetCellPosition:i}=function(e,{isExtending:t=!1,rowOffset:o=0,numberOfScrollableRows:n,numberOfFrozenRows:r,numberOfFrozenColumns:i}){const{anchor:s,body:a}=e;if(!j(e)||void 0===a)return{range:e};if(!t){const e=(0,l.clamp)(s.rowIndex+o,0,n-1);return{range:he({from:e,to:e}),targetCellPosition:{columnIndex:i,rowIndex:e+r}}}const u=s.rowIndex===a.rows.from?"to":"from",c=(0,l.clamp)(a.rows[u]+o,0,n-1);return{range:he({anchor:s,...a.rows,[u]:c}),targetCellPosition:{rowIndex:c+r,columnIndex:i}}}(f,{...m[t],isExtending:n,...d});return{selection:n?ve(e,{lastRange:r}):[r],targetCellPosition:i}}}switch(t){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":return function(e,{isExtending:t=!1,rowOffset:o=0,columnOffset:n=0,numberOfScrollableColumns:r,numberOfScrollableRows:i,numberOfFrozenColumns:s,numberOfFrozenRows:a}){const u=function(e,t){if(!e)return{anchor:{columnIndex:0,rowIndex:0},to:{columnIndex:0,rowIndex:0}};const{anchor:o}=e,n=be(o,t),r=[];return ge.forEach((o=>{const n=e[o];n&&["from","to"].forEach((e=>{["from","to"].forEach((l=>{const i=be({gridKey:o,rowIndex:n.rows[e],columnIndex:n.columns[l]},t);r.push(i)}))}))})),{anchor:n,to:(0,l.maxBy)(r,(e=>{return t=e,o=n,Math.abs(o.columnIndex-t.columnIndex)+Math.abs(o.rowIndex-t.rowIndex);var t,o}))}}(e.at(-1),{numberOfFrozenColumns:s,numberOfFrozenRows:a}),c=a+i,d=s+r,{rowIndex:m,columnIndex:f}=t?u.to:u.anchor,h={rowIndex:(0,l.clamp)(m+o,0,c-1),columnIndex:(0,l.clamp)(f+n,0,d-1)},p=t?{anchor:u.anchor,to:h}:{anchor:h,to:h};return{selection:[we(p,{numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:r,numberOfScrollableRows:i})],targetCellPosition:p.to}}(e,{...m[t],isExtending:o,...d});case"a":if(fe.P?r:n)return{selection:pe()}}return{selection:e}}function xe({gridKey:e,rowIndex:t,columnIndex:o}){return{anchor:{gridKey:e,rowIndex:t,columnIndex:o},[e]:{rows:{from:t,to:t},columns:{from:o,to:o}}}}const Se={staticHeader:{horizontal:"left",vertical:"top"},rowHeader:{horizontal:"left",vertical:"bottom"},columnHeader:{horizontal:"right",vertical:"top"},body:{horizontal:"right",vertical:"bottom"}},Oe=e=>Se?.[e],Re=(e,t)=>{const o=Oe(e),n=Oe(t.gridKey),r={rowIndex:t.rowIndex,columnIndex:t.columnIndex};return n.horizontal!==o.horizontal&&(r.columnIndex="left"===o.horizontal?1/0:-1/0),n.vertical!==o.vertical&&(r.rowIndex="top"===o.vertical?1/0:-1/0),r},Ie=({columnWidths:e={},containerHeight:t,containerWidth:o,defaultColumnWidth:n,defaultRowHeight:r,hiddenColumns:l,numberOfColumns:i,numberOfRows:s,scrollLeft:a,scrollTop:u})=>{function c(t){return Y({columnIndex:t,columnWidths:e,defaultColumnWidth:n,hiddenColumns:l})}const[d,m,f]=function(){if(0===a||0===i)return[0,c(0),0];let e=0;for(let t=0;t<i;t++){const o=e+c(t);if(o>a)return[t,o-a,e];e=o}return[i-1,0,e]}(),h=function(e,t){if(e===i-1||t>o)return e;let n=t;for(let t=e+1;t<i;t++)if(n+=c(t),n>o)return t;return i-1}(d,m),p=Math.floor(u/r);return[{rows:{from:p,to:Math.min(p+Math.ceil(t/r),s-1)},columns:{from:d,to:h}},f]},He=({anchorFrom:e,anchorTo:t,columnWidths:o,defaultColumnWidth:n,defaultRowHeight:r,hiddenColumns:l,grid:i,gridKey:s,numberOfColumns:a,numberOfRows:u})=>{const c=Re(s,e),d=Re(s,t),m={rows:{from:Math.min(c.rowIndex,d.rowIndex),to:Math.max(c.rowIndex,d.rowIndex)},columns:{from:Math.min(c.columnIndex,d.columnIndex),to:Math.max(c.columnIndex,d.columnIndex)}},{height:f,width:h}=i.getBoundingClientRect(),[p]=Ie({columnWidths:o,containerHeight:f,containerWidth:h,defaultColumnWidth:n,defaultRowHeight:r,hiddenColumns:l,numberOfColumns:a,numberOfRows:u,scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}),g=["rows","columns"];for(let e=0;e<g.length;e++){const t=g[e],o=m[t],{from:n,to:r}=o;if(!isFinite(n)&&!isFinite(r))return;isFinite(n)?isFinite(r)||(o.to=p[t].to):o.from=p[t].from}return m};function Me({anchorFrom:e,anchorTo:t,grids:o,defaultColumnWidth:n,defaultRowHeight:r,frozenColumnWidths:l,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfFrozenColumns:u,numberOfFrozenRows:c,numberOfScrollableRows:d,numberOfScrollableColumns:m}){const f=ge.map((f=>{const h=o[f].current;if(!h)return;const p=["staticHeader","rowHeader"].includes(f),g=["staticHeader","columnHeader"].includes(f),y=He({anchorFrom:e,anchorTo:t,gridKey:f,grid:h,defaultColumnWidth:n,defaultRowHeight:r,columnWidths:p?l:i,hiddenColumns:p?s:a,numberOfColumns:p?u:m,numberOfRows:g?c:d});return void 0!==y?[f,y]:void 0})).filter((e=>void 0!==e));return{anchor:e,...Object.fromEntries(f)}}const Fe=100;function ze(e,t){return e.columnIndex<t?{...e,gridKey:"body"===e.gridKey?"rowHeader":"staticHeader"}:{...e,columnIndex:e.columnIndex-t}}function Ye(e,t){return{rows:e.rows,columns:{from:e.columns.from-t,to:e.columns.to-t}}}function De(e,t){return e?e.columns.to<t?[e,void 0]:e.columns.from>=t?[void 0,Ye(e,t)]:function(e,t){return[{rows:e.rows,columns:{from:e.columns.from,to:t-1}},{rows:e.rows,columns:{from:0,to:e.columns.to-t}}]}(e,t):[void 0,void 0]}const Ne=()=>{},Te={},We=new Set,Ee=()=>!1,Pe=["horizontal","vertical"],ke="TABLE_COLUMN",Ae=e=>{const t=(0,i.useMemo)((()=>(0,m.Y)()),[]),[o]=(0,c.i)("table.defaultSize"),s=(0,d.DP)(),{columnWidth:p,rowHeight:g}=N.L[e.size??o],y=e.wrapHeaders??!1,b=e.hiddenColumns??We,w=Boolean(e.areFrozenColumnsIgnored),x=Boolean(e.areRowNumbersVisible),S=Boolean(e.canReorderColumns),O=e.columnWidths??Te,R=e.Cell??C.Y,I=e.isTotal??Ee,H=e.onColumnsResized??Ne,M=e.onKeyDown??Ne,F=e.onKeyUp??Ne,z=e.onScrolled??Ne,D=e.onVisibleRangeChanged??Ne,T=e.onFrozenColumnsIgnored??Ne,E=e.onColumnsReordered??Ne,[P,k]=(0,i.useState)(0),[A,L]=(0,i.useState)(0),[U,G]=$(),ee=(0,i.useRef)(),te=(0,i.useRef)(null),re=e.containerRef??te,le=(0,i.useRef)(null),ie=(0,i.useRef)(null),ue=(0,i.useRef)(null),fe=(0,i.useRef)(null),ge=(0,i.useRef)(null),ye=(0,i.useRef)(null),{width:be,height:we}=(0,f.useDebouncedComponentSize)(fe),{numberOfRows:Se,numberOfColumns:Oe}=(0,ne.Q)(e.cells),Re=e.numberOfFrozenColumns??0,He=e.numberOfFrozenRows??0,Ye=Oe-Re,Ae=Se-He,Le=(0,i.useRef)({body:[],columnHeader:[],rowHeader:[],staticHeader:[]}),{staticHeaderStyle:$e,rowHeaderStyle:Ke,columnHeaderStyle:je,selectAllCellStyle:Be,rowNumbersStyle:_e}=(0,i.useMemo)((()=>({staticHeaderStyle:{borderRight:`2px solid ${s.cellBorderColor}`,borderBottom:`2px solid ${s.cellBorderColor}`},rowHeaderStyle:{borderRight:`2px solid ${s.cellBorderColor}`},columnHeaderStyle:{borderBottom:`2px solid ${s.cellBorderColor}`},selectAllCellStyle:{borderRight:`1px solid ${s.cellBorderColor}`,borderBottom:`2px solid ${s.cellBorderColor}`},rowNumbersStyle:{borderRight:`1px solid ${s.cellBorderColor}`}})),[s.cellBorderColor]),qe=(0,i.useMemo)((()=>({staticHeader:le,rowHeader:ie,columnHeader:ue,body:fe,rowNumbers:ge,selectAllCell:ye})),[le,ie,ue,fe,ge,ye]),[Ve,Ue]=(0,i.useMemo)((()=>{const e=new Set,t=new Set;return b.forEach((o=>{o<Re?e.add(o):t.add(o-Re)})),[e,t]}),[Re,b]),{rowNumbersColumnWidth:Qe,frozenColumnWidths:Ge,frozenColumnsTotalWidth:Xe,scrollableColumnsTotalWidth:Je,scrollableColumnWidths:Ze,scrollableRowsTotalHeight:et}=function({numberOfFrozenColumns:e,numberOfScrollableRows:t,numberOfScrollableColumns:o,columnWidths:n,defaultRowHeight:r,defaultColumnWidth:l,hiddenFrozenColumns:s,hiddenScrollableColumns:a}){const{frozenColumnWidths:u,scrollableColumnWidths:c}=(0,i.useMemo)((()=>{const t={},o={};for(const r in n){const l=Number.parseInt(r,10),i=n[l];l<e?t[r]=i:o[l-e]=i}return{frozenColumnWidths:t,scrollableColumnWidths:o}}),[n,e]),d=(0,i.useMemo)((()=>{let t=0;for(let o=0;o<e;o++)t+=Y({columnIndex:o,columnWidths:u,defaultColumnWidth:l,hiddenColumns:s});return t}),[l,u,s,e]),m=(0,i.useMemo)((()=>{let e=0;for(let t=0;t<o;t++)e+=Y({columnIndex:t,columnWidths:c,defaultColumnWidth:l,hiddenColumns:a});return e}),[l,a,o,c]),f=(0,i.useMemo)((()=>Math.max(ae(t.toString())+10,19)),[t]),h=(0,i.useMemo)((()=>t*r),[r,t]);return{rowNumbersColumnWidth:f,frozenColumnWidths:u,scrollableColumnWidths:c,scrollableRowsTotalHeight:h,frozenColumnsTotalWidth:d,scrollableColumnsTotalWidth:m}}({numberOfFrozenColumns:Re,numberOfScrollableRows:Ae,numberOfScrollableColumns:Ye,columnWidths:O,defaultRowHeight:g,defaultColumnWidth:p,hiddenFrozenColumns:Ve,hiddenScrollableColumns:Ue}),tt=(0,i.useMemo)((()=>{const e=ue.current?.getBoundingClientRect(),t=e?.left??0,o=e?.top??0;return{left:t,right:Math.min(t+be,t+Je),top:e?.top??0,bottom:o+we}}),[Je,be,we]),ot=w?Xe+Je:Je;(0,i.useEffect)((()=>{if(0===be&&0===we)return;const e=w?be:Xe+be;if(0===e)return;const t=Xe/e>.9;t!==w&&T(t)}),[T,w,be,Xe,we]);const{staticHeader:nt,rowHeader:rt,columnHeader:lt,body:it}=(0,i.useMemo)((()=>function(e,{numberOfFrozenRows:t,numberOfFrozenColumns:o,areFrozenColumnsIgnored:n}){const r=n?0:o,l={body:[],columnHeader:[],rowHeader:[],staticHeader:[]};return e.forEach(((e,o)=>{e.forEach(((e,n)=>{const i=function({rowIndex:e,columnIndex:t,numberOfFrozenRows:o,effectiveNumberOfFrozenColumns:n}){const r=e<o,l=t<n;return r&&l?"staticHeader":l?"rowHeader":r?"columnHeader":"body"}({rowIndex:o,columnIndex:n,numberOfFrozenRows:t,effectiveNumberOfFrozenColumns:r}),s=l[i];s.length===(o<t?o:o-t)&&s.push([]),s.at(-1).push(e)}))})),l}(e.cells,{areFrozenColumnsIgnored:w,numberOfFrozenRows:He,numberOfFrozenColumns:Re})),[e.cells,w,He,Re]),[st,at,ut]=function(){const e=(0,i.useRef)([]),t=(0,i.useRef)([]),o=(0,i.useRef)([]),n=(0,i.useRef)([]),r=(0,i.useCallback)((()=>{const[r,l]=[e.current,t.current].map((e=>e.filter((e=>null!==e))));function i(){for(let e=0;e<r.length;e++){const[t,o]=[r,l].map((t=>t[e])),[n,i]=[t,o].map((e=>e.clientHeight));n!==i&&(t.style.minHeight&&t.style.minHeight===`${n}px`||o.style.minHeight&&o.style.minHeight===`${i}px`)?(t.style.minHeight="",o.style.minHeight=""):n<i?t.style.minHeight=`${i}px`:i<n&&(o.style.minHeight=`${n}px`)}}const s=o.current,a=n.current;if(r.length===l.length&&r.length===s.length&&l.length===a.length||([...s,...a].forEach((e=>{e.disconnect()})),s.splice(0,s.length),a.splice(0,a.length)),0===s.length&&0===a.length&&r.length>0&&r.length===l.length)for(let e=0;e<r.length;e++){const t=new ResizeObserver(i);t.observe(r[e]),s.push(t);const o=new ResizeObserver(i);o.observe(l[e]),a.push(o)}}),[]);return[e,t,r]}(),[ct,dt,mt,ft]=function({container:e,defaultColumnWidth:t,defaultRowHeight:o,frozenColumnWidths:n,scrollableColumnWidths:r,hiddenFrozenColumns:s,hiddenScrollableColumns:a,grids:u,numberOfScrollableColumns:c,numberOfFrozenColumns:d,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfVisibleRows:p,columnHeaderRows:g,rowNumbersColumnWidth:y,canReorderColumns:b}){const[w,v]=$(),[,C]=K(),x=(0,i.useRef)(w);(0,i.useEffect)((()=>{x.current=w}),[w]);const S=(0,i.useCallback)(((i,c)=>{if(!e.current||!u.body.current)return null;const d=[u.selectAllCell,u.staticHeader,u.columnHeader],m=[u.columnHeader,u.body],f=(0,l.mapValues)(u,(e=>{const t=e.current;if(null===t)return;const o=d.includes(e),n=m.includes(e),r=t.getBoundingClientRect();return{left:r.left,right:n?1/0:r.right,top:o?0:r.top,bottom:o?r.bottom:1/0}})),p=f.selectAllCell??f.staticHeader??f.columnHeader,b=f.rowNumbers??f.rowHeader??f.body;p&&b&&(p.left=0,b.left=0);const w={selectAllCell:h({x:i,y:c},f.selectAllCell),rowNumbers:h({x:i,y:c},f.rowNumbers),staticHeader:h({x:i,y:c},f.staticHeader),rowHeader:h({x:i,y:c},f.rowHeader),columnHeader:h({x:i,y:c},f.columnHeader),body:h({x:i,y:c},f.body)},v=(0,oe.u)(u).find((e=>!0===w[e]));if(void 0===v||!u[v]||!u[v].current)return null;const C=["staticHeader","rowHeader"].includes(v),x=["staticHeader","columnHeader"].includes(v),S=["rowNumbers","selectAllCell"].includes(v);return{gridKey:v,...me({gridElement:u[v].current,defaultColumnWidth:S?y:t,columnWidths:S?{}:C?n:r,hiddenColumns:S?void 0:C?s:a,defaultRowHeight:o,rowHeights:x?g.map((e=>e?.clientHeight)):void 0,x:i,y:c})}}),[g,e,t,o,n,u,s,a,y,r]),O=(0,i.useCallback)((i=>{if(e.current?.focus(),0!==i.button||!((e,t)=>{const o=t.selectAllCell.current||t.staticHeader.current||t.columnHeader.current||t.body.current,n=t.body.current;if(!n||!o)return!1;const{top:r,left:l}=o.getBoundingClientRect(),{bottom:i,right:s}=n.getBoundingClientRect();return e.clientX>=l&&e.clientX<=s&&e.clientY>=r&&e.clientY<=i})(i,u))return;let h=i.clientX,p=i.clientY;const g=S(h,p);let y=g,w=!1,O=!1,R=!1;const I=e=>{h=e.clientX,p=e.clientY};if(g){const{gridKey:H,rowIndex:M,columnIndex:F}=g,z=x.current.at(-1);if(["rowNumbers","rowHeader","body"].includes(H)&&M>f-1)return;if(["columnHeader","body"].includes(H)&&F>c-1)return;if(C(!0),"selectAllCell"===H)v(pe()),C(!1);else if(i.shiftKey&&z&&!B(z))v(ve(x.current,"rowNumbers"===H?{lastRange:he({from:z.anchor.rowIndex,to:M,anchor:z.anchor})}:{lastRange:Me({anchorFrom:z.anchor,anchorTo:{gridKey:H,rowIndex:M,columnIndex:F},grids:u,defaultColumnWidth:t,defaultRowHeight:o,frozenColumnWidths:n,scrollableColumnWidths:r,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:c,numberOfFrozenColumns:d,numberOfFrozenRows:m,numberOfScrollableRows:f})}));else{let e;if("rowNumbers"===H?e=he({from:M,to:M}):(e=xe({gridKey:H,rowIndex:M,columnIndex:F}),"columnHeader"===H&&(R=!0)),(i.ctrlKey||i.metaKey)&&z&&!B(z))v([...x.current,e]);else{const t=v([e]);O=b&&!t&&R}}if(O)return void C(!1);const Y=()=>{w||(w=!0,requestAnimationFrame((()=>{e.current?.focus(),w=!1;const i=S(h,p);if(i&&!(0,l.isEqual)(i,y)){y=i;let{rowIndex:e,columnIndex:l}=i;const h=i.gridKey;["rowNumbers","rowHeader","body"].includes(h)&&(e=Math.min(e,f-1)),["columnHeader","body"].includes(h)&&(l=Math.min(l,c-1));const p=x.current.at(-1);if(p&&!B(p))if(j(p)){const t=["rowNumbers","rowHeader","body"].includes(h)?e:0;v(ve(x.current,{lastRange:he({from:p.anchor.rowIndex,to:t})}))}else{let i;i="selectAllCell"===h?{gridKey:"staticHeader",rowIndex:0,columnIndex:0}:"rowNumbers"===h?{gridKey:"rowHeader",rowIndex:e,columnIndex:0}:{gridKey:h,columnIndex:l,rowIndex:e},v(ve(x.current,{lastRange:Me({anchorFrom:p.anchor,anchorTo:i,grids:u,defaultColumnWidth:t,defaultRowHeight:o,frozenColumnWidths:n,scrollableColumnWidths:r,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:c,numberOfFrozenColumns:d,numberOfFrozenRows:m,numberOfScrollableRows:f})}))}}((e,t,{x:o,y:n})=>{const r=e.getBoundingClientRect();o<r.left?t.scrollLeft-=Fe:o>r.right&&(t.scrollLeft+=Fe),n<r.top?t.scrollTop-=Fe:n>r.bottom&&(t.scrollTop+=Fe)})(e.current,u.body.current,{x:h,y:p})})))},D=setInterval(Y,10),N=()=>{C(!1),document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",N),clearInterval(D)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",N)}}),[e,u,S,C,f,c,v,t,o,n,r,s,a,d,m,b]),R=(0,i.useCallback)((e=>{const t=e.pageX,o=e.pageY,n=S(t,o);if(!n)return w;const{columnIndex:r,gridKey:l,rowIndex:i}=n;if("selectAllCell"===l){if(!_(x.current)){const e=pe();return v(e),e}return w}if("rowNumbers"===l){if(!q(x.current,{rowIndex:i})){const e=[he({from:i,to:i})];return v(e),e}return w}if(!function(e,{gridKey:t,rowIndex:o,columnIndex:n}){return!!q(e,{rowIndex:o})||e.some((e=>void 0!==e[t]&&e[t].columns.from<=n&&e[t].columns.to>=n&&e[t].rows.from<=o&&e[t].rows.to>=o))}(w,{gridKey:l,columnIndex:r,rowIndex:i})){const e=[xe({gridKey:l,rowIndex:i,columnIndex:r})];return v(e),e}return w}),[S,w,v]);return[O,R,(l,i)=>{const{selection:h,targetCellPosition:g}=Ce(w,{...l,numberOfScrollableColumns:c,numberOfFrozenColumns:d,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfVisibleRows:p});if(h!==w){v(h),i(h),l.preventDefault();const c=u.body.current;if(!g||!c||!e.current)return;const m=e.current.scrollHeight,f=e.current.scrollWidth,{rowIndex:p,columnIndex:y}=g,b=Math.max(0,o*(p-2)),w=b+3*o;b<c.scrollTop?c.scrollTop=b:w>c.scrollTop+m&&(c.scrollTop=w-m);let C=0;for(let e=0;e<y;e++)C+=Y({columnIndex:e,columnWidths:e<d?n:r,defaultColumnWidth:t,hiddenColumns:e<d?s:a});C<c.scrollLeft?c.scrollLeft=C:C>c.scrollLeft+f&&(c.scrollLeft=C-f)}},(e,t)=>{"Escape"===e.key&&(v([]),t([]))}]}({container:re,rowNumbersColumnWidth:Qe,defaultColumnWidth:p,defaultRowHeight:g,grids:qe,hiddenFrozenColumns:Ve,hiddenScrollableColumns:Ue,numberOfFrozenRows:He,numberOfScrollableRows:Ae,numberOfVisibleRows:re.current?Math.floor(re.current.scrollHeight/g-He):0,...w?{frozenColumnWidths:{},numberOfScrollableColumns:Re+Ye,numberOfFrozenColumns:0,scrollableColumnWidths:O}:{frozenColumnWidths:Ge,numberOfScrollableColumns:Ye,numberOfFrozenColumns:Re,scrollableColumnWidths:Ze},columnHeaderRows:at.current,canReorderColumns:S}),ht=(0,i.useRef)(U);(0,i.useEffect)((()=>{ht.current=U}),[U]);const[pt,gt]=(0,i.useMemo)((()=>Ie({columnWidths:Ze,containerWidth:be,containerHeight:we,defaultColumnWidth:p,defaultRowHeight:g,hiddenColumns:w?b:Ue,numberOfColumns:w?Re+Ye:Ye,numberOfRows:Ae,scrollLeft:A,scrollTop:P})),[w,we,be,p,g,b,Ue,Re,Ye,Ae,A,P,Ze]);(0,i.useEffect)((()=>{0===pt.rows.from&&0===pt.rows.to&&0===pt.columns.from&&0===pt.columns.to||pt.rows.from===ee.current?.rows.from&&pt.rows.to===ee.current?.rows.to&&pt.columns.from===ee.current?.columns.from&&pt.columns.to===ee.current?.columns.to||(D(pt),ee.current=pt)}),[D,pt]);const yt=t=>{if(e.onSelectionChanged){const o=w?function({selection:e,numberOfFrozenColumns:t}){return e.map((e=>{const[o,n]=De(e.body,t),[r,l]=De(e.columnHeader,t);return{anchor:ze(e.anchor,t),staticHeader:r,columnHeader:l,rowHeader:o,body:n}}))}({selection:t,numberOfFrozenColumns:Re}):t;e.onSelectionChanged(o)}},bt=(0,i.useCallback)((t=>{const o=function(e,{numberOfFrozenColumns:t,numberOfScrollableColumns:o}){const n=e[0],r=[];if(n?.staticHeader){const{from:e,to:o}=n.staticHeader.columns,i=Math.min(o,t-1);r.push(...(0,l.range)(e,i+1))}if(n?.columnHeader){const{from:e,to:i}=n.columnHeader.columns,s=Math.min(i,o-1);r.push(...(0,l.range)(e+t,s+t+1))}return r}(ht.current,{numberOfFrozenColumns:w?0:Re,numberOfScrollableColumns:w?Re+Ye:Ye}),n=o.includes(t)?o:[t],r={};n.forEach((t=>{const o=(({cells:e,columnIndex:t,cellRefs:{body:o,columnHeader:n,rowHeader:r,staticHeader:l},numberOfFrozenColumns:i,numberOfFrozenRows:s,numberOfScrollableRows:a})=>{const u=s+a,c=t<i,d=c?t:t-i,[[m,f],[h,p]]=[{from:0,to:s,grid:c?l:n},{from:s,to:u,grid:c?r:o}].map((({from:o,to:n,grid:r})=>{let l="",i=0;const{numberOfColumns:a}=(0,ne.Q)(r);for(let u=o;u<n;u++){let o=null;if(r){const e=u<s?u:u-s,t=Math.min(d,a-1);if(o=r[e]?.[t],o){const e=ce(o);e>i&&(i=e)}}if(!o||!o?.children?.[0]||!de(o)&&!de(o.children[0])){const o=e[u][t]?.caption??"";o.length>l.length&&(l=o)}}return[l,i]})),g=ae(m)+f+6,y=ae(h)+p;return Math.max(g,y)+10})({cells:e.cells,cellRefs:Le.current,columnIndex:t,numberOfFrozenColumns:Re,numberOfFrozenRows:He,numberOfScrollableRows:Ae});r[t]=o})),H?.(r)}),[w,Re,Ye,H,e.cells,He,Ae]),wt=e=>{const t=e.target;P!==t.scrollTop&&k(t.scrollTop),A!==t.scrollLeft&&L(t.scrollLeft),!z||P===t.scrollTop&&A===t.scrollLeft||z({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})},{getRowProps:vt,getColumnProps:Ct,getRowStyle:xt}=e,St=(0,i.useMemo)((()=>(0,l.memoize)(vt??(()=>[]))),[vt]),Ot=(0,i.useMemo)((()=>(0,l.memoize)(Ct??(()=>[]))),[Ct]),Rt=(0,i.useMemo)((()=>(0,l.memoize)(xt??(()=>{}))),[xt]),It=(0,i.useCallback)((e=>St(e+He)),[St,He]),Ht=(0,i.useCallback)((e=>Ot(e+Re)),[Ot,Re]),Mt=(0,i.useCallback)((e=>Rt(e+He)),[Rt,He]),Ft=(0,i.useCallback)((t=>{const{columnIndex:o,rowIndex:r}=t,l=(0,i.useCallback)((e=>{const t=Le.current.staticHeader;void 0===t[r]&&(t[r]=[]),t[r][o]=e}),[o,r]);return(0,n.Y)(R,{ref:l,...t,size:e.size,wrapText:y,isRowFrozen:!0,isColumnFrozen:!0,rowIndex:r,columnIndex:o})}),[R,e.size,y]),zt=(0,i.useCallback)((t=>{const{columnIndex:o,rowIndex:r}=t,l=(0,i.useCallback)((e=>{const t=Le.current.rowHeader;void 0===t[r]&&(t[r]=[]),t[r][o]=e}),[o,r]);return(0,n.Y)(R,{ref:l,...t,rowIndex:r,columnIndex:o,size:e.size,isRowFrozen:!1,isColumnFrozen:!0})}),[R,e.size]),Yt=(0,i.useCallback)((o=>{const{columnIndex:r,rowIndex:l,width:s}=o,[c]=$(),[d]=K(),m=(0,i.useCallback)((e=>{const t=Le.current.columnHeader;void 0===t[l]&&(t[l]=[]),t[l][r]=e}),[r,l]),[,f,h]=(0,a.useDrag)((()=>({type:ke,item:{tableId:t,columnIndex:r,columnWidth:s},canDrag:S&&!d})),[r,d,s]),p=(0,i.useMemo)((()=>function({selection:e,columnIndex:t,canReorderColumns:o}){if(!o)return!1;if(1!==e.length)return!1;const n=e[0];return void 0===n.body&&void 0===n.rowHeader&&void 0===n.staticHeader&&void 0!==n.columnHeader&&n.columnHeader.columns.from===n.columnHeader.columns.to&&n.columnHeader.columns.from===t}({selection:c,columnIndex:r,canReorderColumns:S})),[r,c]),g=(0,i.useMemo)((()=>({...p&&{cursor:"grab"},...o.style})),[o.style,p]);return h((0,u.getEmptyImage)()),(0,n.Y)(R,{ref:e=>{m(e),S&&f(e)},...o,size:e.size,wrapText:y,isRowFrozen:!0,isColumnFrozen:!1,rowIndex:l,columnIndex:r,style:g})}),[R,S,e.size,t,y]),Dt=(0,i.useCallback)((t=>{const{columnIndex:o,rowIndex:r}=t,l=(0,i.useCallback)((e=>{const t=Le.current.body;void 0===t[r]&&(t[r]=[]),t[r][o]=e}),[o,r]);return(0,n.Y)(R,{...t,ref:l,rowIndex:r,columnIndex:o,size:e.size,isRowFrozen:!1,isColumnFrozen:!1})}),[R,e.size]);return Ft.displayName="TopLeftCell",zt.displayName="LeftCell",Yt.displayName="TopCell",Dt.displayName="BodyCell",(0,n.FD)("div",{style:{...e.style,paddingBottom:2,paddingRight:2,height:"100%",display:"flex",flexDirection:"column",outline:"none"},css:{"@media print .aui-table-cell":{padding:"4px 0px 3px !important"}},children:[(0,n.Y)(X,{children:(0,n.FD)("div",{css:{outline:"none",position:"relative",overflow:"hidden",flexGrow:1,display:"grid",gridTemplateAreas:'\n              "selectAllCell  staticHeader  columnHeader          ."\n              "rowNumbers       rowHeader     body                verticalScrollbar"\n              ".                .             horizontalScrollbar ."\n            ',gridTemplateRows:"min-content auto min-content",gridTemplateColumns:"min-content min-content auto min-content"},onKeyDown:e=>{mt(e,yt),M(e)},onKeyUp:e=>{ft(e,yt),F(e)},onMouseDown:e=>{ct(e);const t=e=>{document.removeEventListener("mouseup",t),0===e.button&&yt(ht.current)};document.addEventListener("mouseup",t)},onContextMenu:e=>{const t=dt(e);t!==U&&yt(t)},ref:re,tabIndex:0,children:[(0,n.Y)("div",{"data-testid":"reorder-columns-wrapper",style:{position:"relative",gridRowStart:"columnHeader-start",gridRowEnd:"body-end",gridColumn:"body",overflow:"hidden",zIndex:100,pointerEvents:"none"},children:S&&(0,n.Y)(v,{tableId:t,dragBounds:tt,scrollLeft:ue.current?.scrollLeft??0,defaultColumnWidth:p,columnWidths:Ze,visibleColumns:pt.columns,cumulatedWidthOfColumnsScrolledPast:gt,onColumnReorder:(e,t)=>{E(e,t),G([xe({gridKey:"columnHeader",columnIndex:t,rowIndex:0})])},onScroll:(e,t)=>{const o="left"===e?-1:1;ue.current?.scrollBy({left:o*t*14})}})}),x&&(0,n.FD)(n.FK,{children:[(0,n.Y)("div",{ref:ye,style:{gridArea:"selectAllCell"},children:(0,n.Y)(Q,{style:Be})}),(0,n.Y)(J,{group:"vertical",children:(0,n.Y)("div",{ref:ge,className:"aui-invisible-scrollbars",style:{gridArea:"rowNumbers",overflowY:"auto"},children:(0,n.Y)(V,{numberOfRows:Ae,defaultRowHeight:g,contentWidth:Qe,contentHeight:et,visibleRange:{rows:pt.rows,columns:{from:0,to:Ae-1}},style:_e})})})]}),w?(0,n.Y)(Z,{columnHeaderRef:ue,LeftCell:zt,TopCell:Yt,BodyCell:Dt,TopLeftCell:Ft,numberOfFrozenColumns:Re,numberOfFrozenRows:He,numberOfScrollableColumns:Ye,numberOfScrollableRows:Ae,rowHeaderStyle:Ke,columnHeaderStyle:je,staticHeaderStyle:$e,wrapHeaders:y,columnHeaderCells:lt,bodyCells:it,defaultColumnWidth:p,defaultRowHeight:g,bodyRef:fe,hiddenColumns:b,columnWidths:O,onColumnsShown:e.onColumnsShown,style:e.style,onColumnsWidthChanged:t=>{e.onColumnsResized?.({...O,...t})},getColumnProps:Ot,getRowProps:St,visibleRange:pt,contentWidth:Xe+Je,contentHeight:et,handleScrolled:wt,cumulatedWidthOfColumnsScrolledPast:gt}):(0,n.FD)(n.FK,{children:[(0,n.Y)("div",{ref:le,className:"aui-invisible-scrollbars",style:{gridArea:"staticHeader"},children:(0,n.Y)(W,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:nt,Cell:Ft,columnWidths:Ge,defaultColumnWidth:p,defaultRowHeight:g,wrapText:y,hiddenColumns:Ve,isVirtualized:!1,style:$e,numberOfRows:He,numberOfColumns:Re,onColumnsShown:e.onColumnsShown,onColumnsWidthChanged:t=>{e.onColumnsResized?.({...O,...t})},onColumnResizeHandleDoubleClicked:bt,selection:U.map((e=>e.staticHeader)),getRowProps:St,getColumnProps:Ot,rowsRef:(e,t)=>{st.current[t]=e,ut()},rowHeights:st.current.map((e=>e?.clientHeight)),contentWidth:Xe})}),(0,n.Y)(J,{group:"horizontal",children:(0,n.Y)("div",{ref:ue,className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},children:(0,n.Y)(W,{areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:lt,Cell:Yt,columnWidths:Ze,style:je,defaultColumnWidth:p,wrapText:y,hiddenColumns:Ue,isVirtualized:!1,defaultRowHeight:g,numberOfColumns:Ye,numberOfRows:He,onColumnsShown:t=>e.onColumnsShown?.(t.map((e=>Re+e))),onColumnsWidthChanged:t=>{const o=(0,r.produce)(O??{},(e=>{for(let o=0;o<Re+Ye;o++)t[o]&&(e[Re+o]=t[o])}));e.onColumnsResized?.({...O,...o})},onColumnResizeHandleDoubleClicked:e=>bt(Re+e),selection:U.map((e=>e.columnHeader)),getRowProps:St,getColumnProps:Ht,rowsRef:(e,t)=>{at.current[t]=e,ut()},rowHeights:at.current.map((e=>e?.clientHeight)),contentWidth:Je})})}),(0,n.Y)(J,{group:"vertical",children:(0,n.Y)("div",{ref:ie,className:"aui-invisible-scrollbars",style:{gridArea:"rowHeader",overflowY:"auto"},children:(0,n.Y)(W,{cells:rt,Cell:zt,cumulatedWidthOfColumnsScrolledPast:0,columnWidths:Ge,defaultColumnWidth:p,hiddenColumns:Ve,isTotal:I,style:Ke,defaultRowHeight:g,numberOfColumns:Re,numberOfRows:Ae,selection:U.map((e=>e.rowHeader)),getRowProps:It,getRowStyle:Mt,getColumnProps:Ot,contentWidth:Xe,isVirtualized:!0,contentHeight:et,visibleRange:{rows:pt.rows,columns:{from:0,to:Re-1}}})})}),(0,n.Y)(J,{group:Pe,children:(0,n.Y)("div",{ref:fe,className:"aui-invisible-scrollbars",onScroll:wt,style:{gridArea:"body",overflow:"auto"},children:(0,n.Y)(W,{Cell:Dt,cells:it,isVirtualized:!0,columnWidths:Ze,defaultColumnWidth:p,hiddenColumns:Ue,isTotal:I,defaultRowHeight:g,numberOfColumns:Ye,numberOfRows:Ae,selection:U.map((e=>e.body)),getRowStyle:Mt,getRowProps:It,getColumnProps:Ht,contentWidth:Je,contentHeight:et,visibleRange:pt,cumulatedWidthOfColumnsScrolledPast:gt})})})]}),(0,n.Y)(J,{group:"vertical",children:(0,n.Y)("div",{style:{gridArea:"verticalScrollbar",overflowY:"auto"},children:(0,n.Y)("div",{style:{height:et,width:1}})})}),(0,n.Y)(J,{group:"horizontal",children:(0,n.Y)("div",{style:{gridArea:"horizontalScrollbar",overflowX:"auto"},children:(0,n.Y)("div",{style:{width:ot,height:1}})})})]})}),(0,n.Y)("div",{css:{textAlign:"right",paddingRight:25,flexShrink:0},children:(0,n.Y)(se,{cells:{bodyCells:it,staticHeaderCells:nt,rowHeaderCells:rt,columnHeaderCells:lt},hiddenFrozenColumns:Ve,hiddenScrollableColumns:Ue})})]})},Le=e=>{const[t,o]=(0,i.useState)([]),[r,s]=(0,i.useState)(!1),a=(0,i.useCallback)((e=>!(0,l.isEqual)(e,t)&&(o(e),!0)),[t]),u=(0,i.useMemo)((()=>[t,a]),[t,a]),c=(0,i.useMemo)((()=>[r,s]),[r]);return(0,n.Y)(A,{value:u,children:(0,n.Y)(L,{value:c,children:(0,n.Y)(Ae,{...e})})})}},59350:(e,t,o)=>{"use strict";o.d(t,{j:()=>c});var n=o(74389),r=o(90923),l=o(90147),i=o(95889),s=o(67137),a=o(68059);const u=["large","medium","small"],c=e=>{const{formatMessage:t}=(0,i.useIntl)(),[o]=(0,s.i)("table.defaultSize");return(0,n.FD)("div",{css:{paddingTop:4,width:"100%",alignItems:"center",display:"grid"},children:[(0,n.Y)(a.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.tableSize"})}),(0,n.Y)(r.Select,{style:{width:125,marginTop:8},value:e.widgetState.style?.size??o,options:u.map((e=>({value:e,label:(0,n.FD)(n.FK,{children:[t({id:`aui.dataVisualization.tableSizeOptions.${e}`}),o===e&&(0,n.FD)(a.Text,{small:!0,type:"secondary",children:["Â (",t({id:"aui.default"}).toLowerCase(),")"]})]})}))),onChange:t=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{e.style={...e.style,size:t}})))}})]})}},97628:(e,t,o)=>{"use strict";o.d(t,{X:()=>s});var n=o(74389),r=o(95889),l=o(67137),i=o(90254);const s=e=>{const{formatMessage:t}=(0,r.useIntl)(),[o]=(0,l.i)("table.tooltips");return(0,n.Y)(i.u,{propertyName:"areTooltipsVisible",label:t({id:"aui.tooltips"}),checkedByDefault:o,...e})}},74335:(e,t,o)=>{"use strict";o.d(t,{S:()=>s});var n=o(74389),r=o(95889),l=o(67137),i=o(90254);const s=e=>{const{formatMessage:t}=(0,r.useIntl)(),[o]=(0,l.i)("table.headers.wrap");return(0,n.Y)(i.u,{propertyName:"wrapHeaders",label:t({id:"aui.dataVisualization.wrapHeaders"}),checkedByDefault:o,...e})}},16215:(e,t,o)=>{"use strict";o.d(t,{O:()=>r});var n=o(31529);function r(e,{numberOfFrozenColumns:t,numberOfFrozenRows:o,numberOfColumnsInBody:r,numberOfRowsInBody:l}){const i={body:{columns:r,rows:l},columnHeader:{columns:r,rows:o},rowHeader:{columns:t,rows:l},staticHeader:{columns:t,rows:o}};return e.map((e=>{const{anchor:t,...o}=e;return{anchor:t,...(0,n.mapValues)(o,((e,t)=>{const o=i[t];return e?{columns:{from:Math.max(0,e.columns.from),to:Math.min(o.columns-1,e.columns.to)},rows:{from:Math.max(0,e.rows.from),to:Math.min(o.rows-1,e.rows.to)}}:void 0}))}}))}},32381:(e,t,o)=>{"use strict";o.d(t,{M:()=>n});const n=(e,t)=>{const o=[];if(e)for(let n=e.rows.from;n<=e.rows.to;n++){o.push([]);for(let r=e.columns.from;r<=e.columns.to;r++){const l=t(r,n);o[n-e.rows.from].push(l)}}return o}},76103:(e,t,o)=>{"use strict";function n(e){return 0===e.length?{numberOfRows:0,numberOfColumns:0}:{numberOfRows:e.length,numberOfColumns:e[0].length}}o.d(t,{Q:()=>n})},33524:(e,t,o)=>{"use strict";o.d(t,{R:()=>s});var n=o(84577);function r(e,t){let o="";for(const n of e){o+="<tr>\n";for(const e of n)o+=`<${t}>${e}</${t}>`;o+="</tr>\n"}return o}function l({header:e,body:t}){let o="<table>\n";return e.length>0&&(o+="<thead>\n",o+=r(e,"th"),o+="</thead>\n"),t.length>0&&(o+="<tbody>\n",o+=r(t,"td"),o+="</tbody>\n"),o+="</table>",o}function i({header:e,body:t}){return[...e,...t].map((e=>e.map((e=>(0,n.$)(e,{token:","}))))).join("\n")}function s({header:e,body:t}){return{"text/html":l({header:e,body:t}),"text/plain":i({header:e,body:t})}}},1654:(e,t,o)=>{"use strict";o.d(t,{L:()=>r,X:()=>n});const n=10,r={small:{columnWidth:90,rowHeight:15},medium:{columnWidth:100,rowHeight:20},large:{columnWidth:120,rowHeight:25}}},26366:(e,t,o)=>{"use strict";o.d(t,{R:()=>l});var n=o(74389),r=o(93345);function l(e){const t=(0,r.forwardRef)(((t,o)=>{const l=(0,r.useMemo)((()=>{const e="small"===t.size?1:4;return{display:"flex",alignItems:"center",justifyContent:t.isColumnFrozen||t.isRowFrozen?"start":"end",fontSize:12,textOverflow:"ellipsis",boxSizing:"border-box",padding:`${e}px 4px 3px`,lineHeight:`${t.height}px`,width:t.width,...!t.wrapText&&{overflow:"hidden",height:t.height,whiteSpace:"nowrap"},...!1!==t.isVirtualized&&{position:"absolute",left:t.left,top:t.top},...t.style}}),[t.height,t.isColumnFrozen,t.isRowFrozen,t.left,t.size,t.style,t.top,t.width,t.isVirtualized,t.wrapText]);return(0,n.Y)(e,{ref:o,...t,style:l})}));return t.displayName="WithDefaultCellStyle",t}},84577:(e,t,o)=>{"use strict";function n(e,{token:t}){return e.includes(t)||e.includes('"')?`"${e.replace(/"/g,'""')}"`:e}o.d(t,{$:()=>n})},32777:(e,t,o)=>{"use strict";o.d(t,{P:()=>n});const n=globalThis.window?.navigator.platform.startsWith("Mac")??!1},18982:(e,t,o)=>{"use strict";function n(e){return Object.entries(e)}o.d(t,{W:()=>n})},36668:(e,t,o)=>{"use strict";function n(e){return Object.keys(e)}o.d(t,{u:()=>n})},55730:(e,t,o)=>{"use strict";o.d(t,{y:()=>l});var n=o(90147),r=o(31529);const l=function(e,t,o){return(0,n.produce)(e,(e=>{(0,r.update)(e,t,o)}))}},76194:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm496 424c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zm144 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-center",theme:"outlined"}},57418:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"}},50493:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 424H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 212H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-right",theme:"outlined"}},74860:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"}},90459:(e,t,o)=>{"use strict";o.d(t,{d4:()=>c,ld:()=>s});var n=o(93345),r=o(3599),l=o(67388);let i=o(58510).w;const s=e=>{i=e},a=(e,t)=>e===t;function u(e=l.t){const t=e===l.t?r.n:()=>(0,n.useContext)(e);return function(e,o=a){const{store:r,subscription:l,getServerState:s}=t(),u=i(l.addNestedSub,r.getState,s||r.getState,e,o);return(0,n.useDebugValue)(u),u}}const c=u()},71177:function(e,t,o){var n;n=function(e,t){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=10)}([function(e,t){var o,n,r=e.exports={};function l(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===l||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:l}catch(e){o=l}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,u=[],c=!1,d=-1;function m(){c&&a&&(c=!1,a.length?u=a.concat(u):d=-1,u.length&&f())}function f(){if(!c){var e=s(m);c=!0;for(var t=u.length;t;){for(a=u,u=[];++d<t;)a&&a[d].run();d=-1,t=u.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];u.push(new h(e,t)),1!==u.length||c||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,o){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,o){"use strict";(function(t){var o=function(e){};"production"!==t.env.NODE_ENV&&(o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,n,r,l,i,s,a){if(o(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,l,i,s,a],d=0;(u=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(t,o(0))},function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,o){t.exports=e},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=((n=o(4))&&n.__esModule?n:{default:n}).default.createContext({registerPane:function(){},unregisterPane:function(){}});t.default=r,e.exports=t.default},function(e,t,o){"use strict";(function(t){var n,r=o(1);"production"!==t.env.NODE_ENV&&(n=function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var r=0,l="Warning: "+e.replace(/%s/g,(function(){return o[r++]}));"undefined"!=typeof console&&console.error(l);try{throw new Error(l)}catch(e){}},r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var o=arguments.length,r=Array(o>2?o-2:0),l=2;l<o;l++)r[l-2]=arguments[l];n.apply(void 0,[t].concat(r))}}),e.exports=r}).call(t,o(0))},function(e,t,o){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=o(13)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}),!0)}else e.exports=o(12)()}).call(t,o(0))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(4),l=a(r),i=a(o(7)),s=a(o(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return o=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.panes={},n.registerPane=function(e,t){t.forEach((function(t){n.panes[t]||(n.panes[t]=[]),n.findPane(e,t)||(n.panes[t].length>0&&n.syncScrollPosition(n.panes[t][0],e),n.panes[t].push(e))})),n.addEvents(e,t)},n.unregisterPane=function(e,t){t.forEach((function(t){n.findPane(e,t)&&(n.removeEvents(e),n.panes[t].splice(n.panes[t].indexOf(e),1))}))},n.addEvents=function(e,t){e.onscroll=n.handlePaneScroll.bind(n,e,t)},n.removeEvents=function(e){e.onscroll=null},n.findPane=function(e,t){return!!n.panes[t]&&n.panes[t].find((function(t){return t===e}))},n.handlePaneScroll=function(e,t){n.props.enabled&&window.requestAnimationFrame((function(){n.syncScrollPositions(e,t)}))},n.syncScrollPositions=function(e,t){t.forEach((function(o){n.panes[o].forEach((function(r){e!==r&&(n.removeEvents(r,o),n.syncScrollPosition(e,r),window.requestAnimationFrame((function(){n.addEvents(r,t)})))}))})),n.props.onSync&&n.props.onSync(e)},u(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"getContextValue",value:function(){return{registerPane:this.registerPane,unregisterPane:this.unregisterPane}}},{key:"syncScrollPosition",value:function(e,t){var o=e.scrollTop,n=e.scrollHeight,r=e.clientHeight,l=e.scrollLeft,i=e.scrollWidth,s=e.clientWidth,a=n-r,u=i-s,c=this.props,d=c.proportional,m=c.vertical,f=c.horizontal,h=t.scrollHeight-r,p=t.scrollWidth-s;m&&a>0&&(t.scrollTop=d?h*o/a:o),f&&u>0&&(t.scrollLeft=d?p*l/u:l)}},{key:"render",value:function(){return l.default.createElement(s.default.Provider,{value:this.getContextValue()},l.default.Children.only(this.props.children))}}]),t}(r.Component);c.propTypes={onSync:i.default.func,children:i.default.element.isRequired,proportional:i.default.bool,vertical:i.default.bool,horizontal:i.default.bool,enabled:i.default.bool},c.defaultProps={proportional:!0,vertical:!0,horizontal:!0,enabled:!0},t.default=c,e.exports=t.default},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(4),l=a(o(14)),i=a(o(7)),s=a(o(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return o=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.toArray=function(e){return[].concat(e)},u(n,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.props.enabled&&(this.node=this.props.attachTo||l.default.findDOMNode(this),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentDidUpdate",value:function(e){this.props.enabled&&this.props.group!==e.group&&(this.context.unregisterPane(this.node,this.toArray(e.group)),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentWillUnmount",value:function(){this.props.enabled&&this.context.unregisterPane(this.node,this.toArray(this.props.group))}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);c.contextType=s.default,c.propTypes={children:i.default.node.isRequired,attachTo:i.default.object,group:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),enabled:i.default.bool},c.defaultProps={group:"default",enabled:!0},c.contextTypes={registerPane:i.default.func,unregisterPane:i.default.func},t.default=c,e.exports=t.default},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(8);Object.defineProperty(t,"ScrollSync",{enumerable:!0,get:function(){return l(n).default}});var r=o(9);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ScrollSyncPane",{enumerable:!0,get:function(){return l(r).default}})},function(e,t,o){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var n=o(2),r=o(6),l=o(3),i={};e.exports=function(e,o,s,a,u){if("production"!==t.env.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var d;try{n("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",s,c),d=e[c](o,c,a,s,null,l)}catch(e){d=e}if(r(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",s,c,typeof d),d instanceof Error&&!(d.message in i)){i[d.message]=!0;var m=u?u():"";r(!1,"Failed %s type: %s%s",s,d.message,null!=m?m:"")}}}}).call(t,o(0))},function(e,t,o){"use strict";var n=o(1),r=o(2),l=o(3);e.exports=function(){function e(e,t,o,n,i,s){s!==l&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return o.checkPropTypes=n,o.PropTypes=o,o}},function(e,t,o){"use strict";(function(t){var n=o(1),r=o(2),l=o(6),i=o(3),s=o(11);e.exports=function(e,o){var a="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",c={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:m(n.thatReturnsNull),arrayOf:function(e){return m((function(t,o,n,r,l){if("function"!=typeof e)return new d("Property `"+l+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[o];if(!Array.isArray(s))return new d("Invalid "+r+" `"+l+"` of type `"+p(s)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<s.length;a++){var u=e(s,a,n,r,l+"["+a+"]",i);if(u instanceof Error)return u}return null}))},element:m((function(t,o,n,r,l){var i=t[o];return e(i)?null:new d("Invalid "+r+" `"+l+"` of type `"+p(i)+"` supplied to `"+n+"`, expected a single ReactElement.")})),instanceOf:function(e){return m((function(t,o,n,r,l){if(!(t[o]instanceof e)){var i=e.name||u;return new d("Invalid "+r+" `"+l+"` of type `"+((s=t[o]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}var s;return null}))},node:m((function(e,t,o,n,r){return h(e[t])?null:new d("Invalid "+n+" `"+r+"` supplied to `"+o+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(t,o,n,r,l){if("function"!=typeof e)return new d("Property `"+l+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[o],a=p(s);if("object"!==a)return new d("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var c=e(s,u,n,r,l+"."+u,i);if(c instanceof Error)return c}return null}))},oneOf:function(e){return Array.isArray(e)?m((function(t,o,n,r,l){for(var i=t[o],s=0;s<e.length;s++)if(a=i,u=e[s],a===u?0!==a||1/a==1/u:a!=a&&u!=u)return null;var a,u;return new d("Invalid "+r+" `"+l+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var o=0;o<e.length;o++){var r=e[o];if("function"!=typeof r)return l(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",y(r),o),n.thatReturnsNull}return m((function(t,o,n,r,l){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,o,n,r,l,i))return null;return new d("Invalid "+r+" `"+l+"` supplied to `"+n+"`.")}))},shape:function(e){return m((function(t,o,n,r,l){var s=t[o],a=p(s);if("object"!==a)return new d("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var m=c(s,u,n,r,l+"."+u,i);if(m)return m}}return null}))}};function d(e){this.message=e,this.stack=""}function m(e){if("production"!==t.env.NODE_ENV)var n={},s=0;function a(a,c,m,f,h,p,g){if(f=f||u,p=p||m,g!==i)if(o)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+m;!n[y]&&s<3&&(l(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),n[y]=!0,s++)}return null==c[m]?a?null===c[m]?new d("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`."):new d("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(c,m,f,h,p)}var c=a.bind(null,!1);return c.isRequired=a.bind(null,!0),c}function f(e){return m((function(t,o,n,r,l,i){var s=t[o];return p(s)!==e?new d("Invalid "+r+" `"+l+"` of type `"+g(s)+"` supplied to `"+n+"`, expected `"+e+"`."):null}))}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var o=function(e){var t=e&&(a&&e[a]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!o)return!1;var n,r=o.call(t);if(o!==t.entries){for(;!(n=r.next()).done;)if(!h(n.value))return!1}else for(;!(n=r.next()).done;){var l=n.value;if(l&&!h(l[1]))return!1}return!0;default:return!1}}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(null==e)return""+e;var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return d.prototype=Error.prototype,c.checkPropTypes=s,c.PropTypes=c,c}}).call(t,o(0))},function(e,o){e.exports=t}])},e.exports=n(o(93345),o(7628))},98870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!1}),t.default=function(e,t){if(e===t)return 0;var o=e.length,n=t.length;if(!o)return n;if(!n)return o;if(o>n){var r=[t,e];e=r[0],t=r[1];var l=[n,o];o=l[0],n=l[1]}for(;o>0&&e[o-1]===t[n-1];)o--,n--;var i=0;if(e[0]===t[0]||!o){for(;i<o&&e[i]===t[i];)i++;if(n-=i,!(o-=i))return n;t=t.slice(i,i+n)}for(var s=new Array(n),a=new Array(n),u=0;u<n;u++)s[u]=u+1;for(var c=e[0],d=0,m=0;m<o;m++){var f=c,h=0,p=t[0],g=m;d=m+1,c=e[i+m];for(var y=0;y<n;y++){var b=d,w=p,v=h;p=t[y],h=a[y],a[y]=d=g,g=s[y],c!==p&&(g<d&&(d=g),b<d&&(d=b),d++,0!==m&&0!==y&&c===w&&p===f&&++v<d&&(d=v)),s[y]=d}}return d},t.limited=function(e,t,o){if(t===o)return 0;var n=t.length,r=o.length;if(!n)return r>e?1/0:r;if(!r)return n>e?1/0:n;if(n>r){var l=[o,t];t=l[0],o=l[1];var i=[r,n];n=i[0],r=i[1]}for(;n>0&&t[n-1]===o[r-1];)n--,r--;var s=0;if(t[0]===o[0]||!n){for(;s<n&&t[s]===o[s];)s++;if(r-=s,!(n-=s))return r>e?1/0:r;o=o.slice(s,s+r)}var a=r-n;if(e>r)e=r;else if(a>e)return 1/0;var u=new Array(r),c=new Array(r),d=void 0;for(d=0;d<e;d++)u[d]=d+1;for(;d<r;d++)u[d]=e+1;var m=e-a,f=e<r,h=0,p=e,g=t[0],y=0;for(d=0;d<n;d++){var b=g,w=0,v=o[0],C=d;y=d+1,g=t[s+d],p+=p<r?1:0;for(var x=h+=d>m?1:0;x<p;x++){var S=y,O=v,R=w;v=o[x],w=c[x],c[x]=y=C,C=u[x],g!==v&&(C<y&&(y=C),S<y&&(y=S),y++,0!==d&&0!==x&&g===O&&v===b&&++R<y&&(y=R)),u[x]=y}if(f&&u[d+a]>e)return 1/0}return y<=e?y:1/0},e.exports=t.default,t.default.limited=t.limited}}]);