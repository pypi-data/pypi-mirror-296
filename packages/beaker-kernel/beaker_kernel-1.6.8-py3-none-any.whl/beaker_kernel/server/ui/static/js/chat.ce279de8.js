var beaker_vue;(function(){var e={93440:function(e,t,n){"use strict";n.r(t);var o=n(31601),a=n.n(o),r=n(76314),l=n.n(r),i=l()(a());i.push([e.id,".agent-input-card .p-card-body .p-card-content{padding:0}.agent-query-container{background-color:var(--surface-b)}.agent-query-container div{padding:0}.query-input-container{display:flex;align-items:flex-start;align-self:flex-end;margin-bottom:0;padding:0}.query-input-container textarea{margin-bottom:0}.agent-submit-button{flex:0 1 3rem;align-self:flex-end;height:3rem}",""]),t["default"]=i},81498:function(e,t,n){"use strict";n.r(t);var o=n(31601),a=n.n(o),r=n(76314),l=n.n(r),i=l()(a());i.push([e.id,".cell-container{position:relative;display:flex;flex:1;flex-direction:column;background-color:var(--surface-a);z-index:3;overflow:auto;margin-top:1rem}.flex-background{flex:1}.chat-help-text-display{background-color:var(--surface-c);padding:0 1rem 0 1rem;margin:0 0 1rem 0;border-radius:var(--border-radius)}",""]),t["default"]=i},24660:function(e,t,n){"use strict";n.r(t);var o=n(31601),a=n.n(o),r=n(76314),l=n.n(r),i=l()(a());i.push([e.id,".help-pane[data-v-c260bf50]{display:flex;flex-direction:row;gap:4rem;padding:.5rem;margin:0}.help-pane>div[data-v-c260bf50]{min-width:24rem;overflow:hidden;position:relative}.help-pane-closed[data-v-c260bf50]{width:0}.help-pane-open[data-v-c260bf50]{width:24rem}.slide-enter-active[data-v-c260bf50],.slide-leave-active[data-v-c260bf50]{transition:width .1s ease-out}.slide-enter-from[data-v-c260bf50]{width:0}.slide-enter-to[data-v-c260bf50]{width:24rem}.slide-leave-to[data-v-c260bf50]{width:0}",""]),t["default"]=i},34158:function(e,t,n){"use strict";n.r(t);var o=n(31601),a=n.n(o),r=n(76314),l=n.n(r),i=l()(a());i.push([e.id,".vertical-toolbar.p-toolbar{flex-direction:column;padding:.5rem;background:none;border:none}.vertical-toolbar.p-toolbar div{flex-direction:column}.vertical-toolbar-divider{background-color:var(--surface-200);height:1px;width:80%}.vertical-toolbar .p-toolbar-group-center{width:80%}",""]),t["default"]=i},17568:function(e,t,n){"use strict";n.r(t);var o=n(31601),a=n.n(o),r=n(76314),l=n.n(r),i=l()(a());i.push([e.id,'#app{margin:0;padding:0;overflow:hidden;background-color:var(--surface-b)}header{grid-area:l-sidebar;display:flex;justify-content:space-between;align-items:center}main{grid-area:main}footer{grid-area:r-sidebar}.main-panel{display:flex;flex-direction:column}.main-panel:focus{outline:none}div.beaker-notebook{padding-top:1rem}.central-panel{flex:1000;display:flex;flex-direction:column;max-width:820px;margin:auto}.beaker-dev-interface{padding-bottom:1rem;height:100vh;width:100vw;display:grid;grid-gap:1px;grid-template-areas:"l-sidebar main r-sidebar" "l-sidebar main r-sidebar" "l-sidebar main r-sidebar";grid-template-columns:auto 1fr auto;grid-template-rows:auto 1fr auto}div.cell-container{position:relative;display:flex;flex:1;background-color:var(--surface-b);flex-direction:column;z-index:3;overflow:auto}div.llm-query-cell.beaker-chat-cell{padding:0}div.llm-prompt-container{margin-right:0}div.llm-prompt-container h2.llm-prompt-text{font-size:1.25rem;max-width:70%;margin-left:auto;background-color:var(--surface-a);padding:1rem;border-radius:16px}div.llm-prompt-container{text-align:right;max-width:60%;align-self:end}div.query{display:flex;flex-direction:column}div.query-steps{display:none}div.events div.query-answer{background-color:var(--surface-b)}div.beaker-toolbar,div.beaker-toolbar div{flex-direction:column}div.beaker-notebook,div.central-panel{height:100%}button.connection-button{border:none}div.code-cell{margin-bottom:2rem}div.code-cell.query-event-code-cell{margin-bottom:.25rem}',""]),t["default"]=i},27815:function(e,t,n){"use strict";var o=n(45130),a=n(99119),r=n(18648),l=n(26883),i=n(8271),s=n(419),c=(n(44114),n(14603),n(47566),n(98721),n(56768)),d=n(90144),u=n(24232),p=n(43985),v=n(42775),f=n(55296);const g={class:"query-input-container"};var b=(0,c.pM)({__name:"AgentQuery",emits:["select-cell","run-cell"],setup(e,{emit:t}){const n=(0,c.WQ)("beakerSession"),o=(0,d.KR)(""),a=(0,c.WQ)("session"),r=e=>{const t=a.notebook;if(!o.value.trim())return;if(1===t.cells.length){const e=t.cells[0];"code"===e.cell_type&&""===e.source&&null===e.execution_count&&0===e.outputs.length&&t.removeCell(0)}const r=a.addQueryCell(o.value);o.value="",(0,c.dY)((()=>{n.findNotebookCellById(r.id).execute()}))};return(e,t)=>((0,c.uX)(),(0,c.Wv)((0,d.R1)(p.A),{class:"agent-input-card"},{content:(0,c.k6)((()=>[(0,c.Lk)("div",g,[(0,c.bF)(f.A,{onSubmit:r,modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),style:{flex:"1","margin-right":"0.75rem"},placeholder:"How can the agent help?"},null,8,["modelValue"]),(0,c.bF)((0,d.R1)(v.A),{onClick:r,class:"agent-submit-button",icon:"pi pi-reply"})])])),_:1}))}});n(39242);const m=b;var h=m;const k={class:"cell-container"},y={class:"flex-background"},x={class:"chat-help-text-display"};var w=(0,c.pM)({__name:"ChatPanel",props:["cellMap"],setup(e){const t=(0,c.WQ)("session"),n=e;return(e,o)=>((0,c.uX)(),(0,c.CE)("div",k,[(0,c.Lk)("div",y,[(0,c.RG)(e.$slots,"notebook-background")]),(0,c.Lk)("span",x,[(0,c.RG)(e.$slots,"help-text")]),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)((0,d.R1)(t).notebook.cells,((e,t)=>((0,c.uX)(),(0,c.Wv)((0,c.$y)(n.cellMap[e.cell_type]),{cell:e,key:t,class:"beaker-chat-cell"},null,8,["cell"])))),128))]))}});n(46008);const _=w;var R=_,C={__name:"DarkModeButton",props:["toggleDarkMode"],setup(e){const t=e,n=(0,c.WQ)("theme"),o=(0,c.EW)((()=>"pi pi-"+("dark"===n?"sun":"moon")));return(e,n)=>{const a=(0,c.gN)("tooltip");return(0,c.bo)(((0,c.uX)(),(0,c.Wv)((0,d.R1)(v.A),{text:"",onClick:t.toggleDarkMode,style:{margin:"0",color:"var(--gray-500)"},icon:o.value},null,8,["onClick","icon"])),[[a,{value:"Swap Theme",showDelay:300},void 0,{right:!0}]])}}};const A=C;var M=A,L=n(77729),S=(0,c.pM)({__name:"VerticalToolbar",setup(e){return(e,t)=>((0,c.uX)(),(0,c.Wv)((0,d.R1)(L.A),{class:"vertical-toolbar"},{start:(0,c.k6)((()=>[(0,c.RG)(e.$slots,"start",{},(()=>[(0,c.RG)(e.$slots,"start-extra")]))])),center:(0,c.k6)((()=>[(0,c.RG)(e.$slots,"center",{},(()=>[(0,c.RG)(e.$slots,"center-extra")]))])),end:(0,c.k6)((()=>[(0,c.RG)(e.$slots,"end",{},(()=>[(0,c.RG)(e.$slots,"end-extra")]))])),_:3}))}});n(56564);const F=S;var I=F;const O=e=>((0,c.Qi)("data-v-c260bf50"),e=e(),(0,c.jt)(),e),E=O((()=>(0,c.Lk)("div",null,[(0,c.Lk)("h3",null,"Beaker Chat"),(0,c.Lk)("h3",null,"Help"),(0,c.Lk)("h4",null,"Setting the Context:"),(0,c.Lk)("p",null,"Use the filled circle in the top left to open context selection."),(0,c.Lk)("h4",null,"Changing to Notebook View:"),(0,c.Lk)("p",null,"Use the last button on the left toolbar to switch back and forth in different views."),(0,c.Lk)("h3",null,"About"),(0,c.Lk)("p",null,"Placeholder text here.")],-1))),K=[E];var j=(0,c.pM)({__name:"HelpSidebar",setup(e){const t=(0,d.KR)(!1);return(e,n)=>{const a=(0,c.gN)("tooltip");return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.bF)(I,{style:{"align-self":"flex-start"}},{start:(0,c.k6)((()=>[(0,c.bo)((0,c.bF)((0,d.R1)(v.A),{onClick:n[0]||(n[0]=e=>t.value=!t.value),icon:"pi pi-question",size:"small",severity:"info",text:""},null,512),[[a,{value:"About",showDelay:300},void 0,{left:!0}]])])),_:1}),(0,c.bF)(o.eB,{name:"slide"},{default:(0,c.k6)((()=>[t.value?((0,c.uX)(),(0,c.CE)("div",{key:0,class:(0,u.C4)(["help-pane",t.value?"help-pane-open":"help-pane-closed"])},K,2)):(0,c.Q3)("",!0)])),_:1})],64)}}}),q=(n(36554),n(71241));const D=(0,q.A)(j,[["__scopeId","data-v-c260bf50"]]);var W=D,P=n(35940),N=n(36026),X=n(80713),$=n(91152),U=n(84483),z=n(27962),T=n(21972),G=n(67229),Q=n(51288),B=n(3598),V=n(42151),H=n(46030),J=n(6512);const Y={id:"app"},Z={class:"beaker-dev-interface"},ee={style:{"justify-content":"center"}},te=(0,c.Lk)("div",{class:"vertical-toolbar-divider"},null,-1),ne=["href"],oe={style:{display:"flex","overflow-y":"auto","overflow-x":"hidden"}},ae={class:"central-panel"},re=(0,c.Lk)("p",null,"Hi! I'm your Beaker Agent and I can help you do programming and software engineering tasks.",-1),le=(0,c.Lk)("p",null,"Feel free to ask me about whatever the context specializes in..",-1),ie=(0,c.Lk)("p",null," On top of answering questions, I can actually run code in a python environment, and evaluate the results. This lets me do some pretty awesome things like: web scraping, or plotting and exploring data. Just shoot me a message when you're ready to get started. ",-1),se=(0,c.Lk)("div",{class:"welcome-placeholder"},null,-1);var ce=(0,c.pM)({__name:"ChatInterface",props:["config","connectionSettings","sessionName","sessionId","defaultKernel","renderers"],setup(e){const{theme:t,toggleDarkMode:n}=(0,c.WQ)("theme"),o=(0,V.d)(),a=(0,d.KR)(!1),r=(0,d.KR)(!1),l=({title:e,detail:t,life:n=3e3,severity:a="success"})=>{o.add({summary:e,detail:t,life:n,severity:a})};(0,c.Gt)("show_toast",l);const i=new URLSearchParams(window.location.search),s=i.has("session")?i.get("session"):"dev_session",p=e,f=[...T.dn.map((e=>new G.hC(e))).map(H.ft),H.oH,H.En,H.nk],g={code:P.A,markdown:X.A,query:N.A,raw:$.A},b=(0,d.KR)(),m=e=>{b.value.toggle(e)},k=async()=>{const e=A.value.session;e.reset()},y=(0,d.KR)("connecting"),x=(0,d.KR)([]),w=(0,d.KR)([]),_=(0,d.KR)(),C=(0,d.KR)(),A=(0,d.KR)(),L={unknown:"Unknown",starting:"Starting",idle:"Ready",busy:"Busy",terminating:"Terminating",restarting:"Restarting",autorestarting:"Autorestarting",dead:"Dead",connected:"Connected",connecting:"Connecting"},S={connected:"green-300",idle:"green-400",connecting:"green-200",busy:"orange-400"},F=(0,c.EW)((()=>L[A?.value?.status]||"unknown")),O=(0,c.EW)((()=>S[A?.value?.status]||"grey-200")),E=e=>{"preview"===e.header.msg_type?_.value=e.content:"debug_event"===e.header.msg_type?x.value.push({type:e.content.event,body:e.content.body,timestamp:e.header.date}):"job_response"===e.header.msg_type&&A.value.session.addMarkdownCell(e.content.response)},K=(e,t)=>{w.value.push({type:t,body:e,timestamp:e.header.date})},j=e=>{console.log("Unhandled message recieved",e)},q=e=>{y.value="idle"==e?"connected":e};(0,c.KC)((()=>{var e;document.title="Analyst UI";try{e=JSON.parse(localStorage.getItem("notebookData"))||{}}catch(t){console.error(t),e={}}e[s]?.data&&(0,c.dY)((()=>{const t=A?.value?.session?.notebook;t&&t.loadFromIPynb(e[s].data)})),C.value=setInterval(D,3e4),window.addEventListener("beforeunload",D)})),(0,c.hi)((()=>{clearInterval(C.value),C.value=null,window.removeEventListener("beforeunload",D)}));const D=()=>{var e;try{e=JSON.parse(localStorage.getItem("notebookData"))||{}}catch(n){console.error(n),e={}}const t=A.value.session?.notebook;t&&(e[s]={data:t.toIPynb()},localStorage.setItem("notebookData",JSON.stringify(e)))};return(e,t)=>{const o=(0,c.gN)("tooltip"),l=(0,c.gN)("autoscroll");return(0,c.uX)(),(0,c.CE)("div",Y,[(0,c.bF)(z.Ay,{ref_key:"beakerSessionRef",ref:A,connectionSettings:p.config,sessionName:"dev_interface",sessionId:(0,d.R1)(s),defaultKernel:"beaker_kernel",renderers:f,onIopubMsg:E,onUnhandledMsg:j,onAnyMsg:K,onSessionStatusChanged:q},{default:(0,c.k6)((()=>[(0,c.Lk)("div",Z,[(0,c.Lk)("header",ee,[(0,c.bF)(I,{style:{"align-self":"flex-start"}},{start:(0,c.k6)((()=>[(0,c.bo)(((0,c.uX)(),(0,c.Wv)((0,d.R1)(v.A),{outlined:"",size:"small",icon:"pi pi-angle-down",iconPos:"right",class:"connection-button",onClick:t[0]||(t[0]=()=>{a.value=!a.value}),label:A.value?.activeContext?.slug,loading:!A.value?.activeContext?.slug},{default:(0,c.k6)((()=>[(0,c.Lk)("i",{class:"pi pi-circle-fill",style:(0,u.Tr)(`font-size: inherit; color: var(--${O.value});`)},null,4)])),_:1},8,["label","loading"])),[[o,{value:`${F.value}: ${A.value?.activeContext?.slug||""}`,showDelay:300},void 0,{right:!0}]]),(0,c.bo)((0,c.bF)((0,d.R1)(v.A),{onClick:k,icon:"pi pi-refresh",size:"small",severity:"info",text:""},null,512),[[o,{value:"Reset notebook",showDelay:300},void 0,{right:!0}]]),(0,c.bo)((0,c.bF)((0,d.R1)(v.A),{onClick:m,icon:"pi pi-file-export",size:"small",severity:"info",text:""},null,512),[[o,{value:"Show file menu",showDelay:300},void 0,{right:!0}]]),(0,c.bF)((0,d.R1)(Q.A),{ref_key:"isFileMenuOpen",ref:b,style:{"overflow-y":"auto",height:"40em"}},{default:(0,c.k6)((()=>[(0,c.bF)(U.A)])),_:1},512),(0,c.bF)(M,{"toggle-dark-mode":(0,d.R1)(n)},null,8,["toggle-dark-mode"])])),center:(0,c.k6)((()=>[te])),end:(0,c.k6)((()=>[(0,c.bo)(((0,c.uX)(),(0,c.CE)("a",{href:"/"+("dev_session"==(0,d.R1)(s)?"":"?session="+(0,d.R1)(s))},[(0,c.bF)((0,d.R1)(v.A),{icon:"pi pi-book",size:"small",severity:"info",text:""})],8,ne)),[[o,{value:"To Notebook View",showDelay:300},void 0,{right:!0}]])])),_:1})]),(0,c.Lk)("main",oe,[(0,c.Lk)("div",ae,[(0,c.bo)(((0,c.uX)(),(0,c.Wv)(R,{"cell-map":g},{"help-text":(0,c.k6)((()=>[re,le,ie])),"notebook-background":(0,c.k6)((()=>[se])),_:1})),[[l]]),(0,c.bF)(h,{class:"agent-query-container"})]),(0,c.bF)(W)])]),(0,c.bF)(J.A,{isOpen:a.value,contextProcessing:r.value,onContextChanged:t[1]||(t[1]=e=>{A.value.setContext(e)}),onCloseContextSelection:t[2]||(t[2]=e=>a.value=!1)},null,8,["isOpen","contextProcessing"])])),_:1},8,["connectionSettings","sessionId"]),(0,c.bF)((0,d.R1)(B.A),{position:"bottom-right"})])}}});n(54810);const de=ce;var ue=de,pe=n(98124),ve=n(31577),fe=(n(96153),n(17198),n(47997));const ge=fe.PageConfig.getBaseUrl();(async()=>{const e=fe.URLExt.join(ge,"/config"),t=await fetch(e),n=await t.json(),c=(0,o.Ef)(ue,{config:n});c.use(a.Ay),c.use(l.A),c.use(s.Ay),c.directive("tooltip",r.A),c.directive("focustrap",i.A),c.directive("keybindings",ve.c),c.directive("autoscroll",pe.n),c.mount("#app")})()},77974:function(e,t,n){"use strict";n.d(t,{Cb:function(){return a}});n(14603),n(47566),n(98721);const o=e=>{if("string"===typeof e.getAttribute("tabindex"))return!0};function a(e){while(void 0!==e&&null!==e&&e!==document.body){if(o(e))return e;e=e.parentElement}}},39242:function(e,t,n){var o=n(93440);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(68459).A;a("37db7da2",o,!0,{sourceMap:!1,shadowMode:!1})},46008:function(e,t,n){var o=n(81498);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(68459).A;a("70fe47a6",o,!0,{sourceMap:!1,shadowMode:!1})},36554:function(e,t,n){var o=n(24660);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(68459).A;a("66a24cd4",o,!0,{sourceMap:!1,shadowMode:!1})},56564:function(e,t,n){var o=n(34158);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(68459).A;a("f4c60fcc",o,!0,{sourceMap:!1,shadowMode:!1})},54810:function(e,t,n){var o=n(17568);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var a=n(68459).A;a("d2e91a80",o,!0,{sourceMap:!1,shadowMode:!1})}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={id:o,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,r){if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],r=e[d][2];for(var i=!0,s=0;s<o.length;s++)(!1&r||l>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(i=!1,r<l&&(l=r));if(i){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.j=377}(),function(){n.p="/"}(),function(){n.b=document.baseURI||self.location.href;var e={377:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,l=o[0],i=o[1],s=o[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(s)var d=s(n)}for(t&&t(o);c<l.length;c++)r=l[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self["webpackChunkbeaker_vue"]=self["webpackChunkbeaker_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504,996],(function(){return n(27815)}));o=n.O(o),beaker_vue=o})();
//# sourceMappingURL=chat.ce279de8.js.map