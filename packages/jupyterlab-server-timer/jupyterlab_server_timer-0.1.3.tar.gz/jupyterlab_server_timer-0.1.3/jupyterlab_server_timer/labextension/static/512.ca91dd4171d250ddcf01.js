"use strict";(self.webpackChunkjupyterlab_server_timer=self.webpackChunkjupyterlab_server_timer||[]).push([[512],{512:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r(768),s=r(212),a=r(44),i=r(760);const o="jl-server-timer-red",l={id:"jupyterlab-server-timer:plugin",description:"A JupyterLab extension that displays the remaining server run time in the status bar.",autoStart:!0,requires:[a.IStatusBar],activate:(e,t)=>{(async function(e="",t={}){const r=s.ServerConnection.makeSettings(),a=n.URLExt.join(r.baseUrl,"jupyterlab-server-timer",e);let i;try{i=await s.ServerConnection.makeRequest(a,t,r)}catch(e){throw new s.ServerConnection.NetworkError(e)}let o=await i.text();if(o.length>0)try{o=JSON.parse(o)}catch(e){console.log("Not a JSON response body.",i)}if(!i.ok)throw new s.ServerConnection.ResponseError(i,o.message||o);return o})("get-life-span").then((e=>{console.log(e);const r=document.createElement("div"),n=document.createElement("span");r.appendChild(n),n.classList.add("jp-StatusBar-TextItem");let s=(new Date).getTime()/1e3|0;var a=e["end-time"]-s|0;function l(){let e=a/60,t=(e/60|0).toString();t.length<2&&(t="0"+t);let r=(e%60|0).toString();r.length<2&&(r="0"+r);let s="Time until server terminates: <b>"+t+":"+r+"</b>";a<15&&(s="<b>SERVER TERMINATES ANY MOMENT NOW - SAVE YOUR WORK!</b>"),a<120?a%2==0?n.classList.add(o):n.classList.remove(o):a<300&&n.classList.add(o),n.innerHTML=s}setInterval((()=>{a-=1,l()}),1e3),l();const c=new i.Widget({node:r});t.registerStatusItem("lab-status",{align:"middle",item:c})})).catch((e=>{console.error(`The jupyterlab_server_timer server extension appears to be missing.\n${e}`)}))}}}}]);