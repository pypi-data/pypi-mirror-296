{"version":3,"file":"index-6f66efe1.js","sources":["../../../../js/app/src/components/Floating/StaticFloating.svelte","../../../../js/app/src/components/Floating/index.ts"],"sourcesContent":["<script lang=\"ts\">\n\timport { onMount } from \"svelte\";\n\n\texport let init_x: string;\n\texport let init_y: string;\n\texport let width: string;\n\texport let drag: string;\n\texport let equal_height = true;\n\texport let elem_id: string;\n\texport let elem_classes: string[] = [];\n\texport let visible = true;\n\texport let variant: \"default\" | \"panel\" | \"compact\" = \"default\";\n\n\t$: styles = {\n\t\tinit_x,\n\t\tinit_y,\n\t\twidth,\n\t\tdrag\n\t};\n\n\t$: cssVarStyles = Object.entries(styles)\n\t\t.map(([key, value]) => `--${key}:${value}`)\n\t\t.join(\";\");\n\n\tlet isDragging = false;\n\tlet offsetX = 0;\n\tlet offsetY = 0;\n\n\tlet container: HTMLDivElement;\n\n\tonMount(() => {\n\t\tdocument.addEventListener(\"mousemove\", handleMouseMove);\n\t\tdocument.addEventListener(\"mouseup\", handleMouseUp);\n\t});\n\n\tfunction handleMouseDown(event: MouseEvent) {\n\t\tif (drag != \"forbidden\") {\n\t\t\tisDragging = true;\n\t\t\toffsetX = event.clientX - container.offsetLeft;\n\t\t\toffsetY = event.clientY - container.offsetTop;\n\t\t}\n\t}\n\n\tfunction handleMouseMove(event: MouseEvent) {\n\t\tif (drag != \"forbidden\") {\n\t\t\tif (isDragging) {\n\t\t\t\tcontainer.style.left = event.clientX - offsetX + \"px\";\n\t\t\t\tcontainer.style.top = event.clientY - offsetY + \"px\";\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseUp() {\n\t\tif (drag != \"forbidden\") {\n\t\t\tisDragging = false;\n\t\t}\n\t}\n</script>\n\n<div\n\tclass:compact={variant === \"compact\"}\n\tclass:panel={variant === \"panel\"}\n\tclass:unequal-height={equal_height === false}\n\tclass:stretch={equal_height}\n\tclass:hide={!visible}\n\tclass:floating-component={true}\n\tid={elem_id}\n\tbind:this={container}\n\tstyle={cssVarStyles}\n\tclass={elem_classes.join(\" \")}\n\ton:mousedown={drag === \"everywhere\" ? handleMouseDown : null}\n>\n\t<div\n\t\tclass:drag-area={true}\n\t\tclass:hide={!(visible && drag === \"top\")}\n\t\tstyle=\"height: {visible && drag === 'top' ? '20px' : '0px'};\"\n\t\ton:mousedown={handleMouseDown}\n\t>\n\t\t拖动此处 (drag here to move)\n\t</div>\n\t<slot />\n</div>\n\n<style>\n\t.drag-area {\n\t\tbackground: var(--background-fill-secondary);\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\n\t.hide {\n\t\tdisplay: none;\n\t}\n\t.compact > :global(*),\n\t.compact :global(.box) {\n\t\tborder-radius: 0;\n\t}\n\t.compact,\n\t.panel {\n\t\tborder-radius: var(--container-radius);\n\t\tbackground: var(--background-fill-secondary);\n\t\tpadding: var(--size-2);\n\t}\n\t.unequal-height {\n\t\talign-items: flex-start;\n\t}\n\n\t.stretch {\n\t\talign-items: stretch;\n\t}\n\n\tdiv > :global(*),\n\tdiv > :global(.form > *) {\n\t\tflex: 1 1 0%;\n\t\tflex-wrap: wrap;\n\t\tmin-width: min(20px, 100%);\n\t}\n\n\t.floating-component {\n\t\tposition: fixed;\n\t\tz-index: 100;\n\t\tpadding: 5px;\n\t\tborder-radius: 5px;\n\t\twidth: var(--width);\n\t\tleft: var(--init_x);\n\t\ttop: var(--init_y);\n\t\toverflow: visible;\n\t\tgap: var(--layout-gap);\n\t}\n</style>\n","export { default as Component } from \"./StaticFloating.svelte\";\nexport const modes = [\"static\"];\n"],"names":["ctx","toggle_class","div1","insert","target","anchor","append","div0","is_function","init_x","$$props","init_y","width","drag","equal_height","elem_id","elem_classes","visible","variant","isDragging","offsetX","offsetY","container","onMount","handleMouseMove","handleMouseUp","handleMouseDown","event","$$value","$$invalidate","styles","cssVarStyles","key","value","modes"],"mappings":"uTA6EC,0BAEA,8BAJiBA,EAAO,CAAA,GAAIA,EAAI,CAAA,IAAK,MAAQ,OAAS,KAAK,gDAFzC,EAAI,eACPA,EAAO,CAAA,GAAIA,EAAI,CAAA,IAAK,MAAK,WARpCA,EAAO,CAAA,CAAA,cAEJA,EAAY,CAAA,CAAA,kBACZA,EAAY,CAAA,EAAC,KAAK,GAAG,CAAA,EAAA,iBAAA,EATbC,EAAAC,EAAA,UAAAF,OAAY,SAAS,EACvBC,EAAAC,EAAA,QAAAF,OAAY,OAAO,EACVC,EAAAC,EAAA,iBAAAF,OAAiB,EAAK,gBAC7BA,EAAY,CAAA,CAAA,cACdA,EAAO,CAAA,CAAA,2BACM,EAAI,UAN/BG,EAsBKC,EAAAF,EAAAG,CAAA,EATJC,EAOKJ,EAAAK,CAAA,oEAHUP,EAAe,CAAA,CAAA,6BANhBQ,EAAAR,OAAS,aAAeA,EAAe,CAAA,EAAG,IAAI,IAA9CA,EAAI,CAAA,IAAK,aAAeA,EAAe,CAAA,EAAG,MAAI,MAAA,KAAA,SAAA,kDAK3CA,EAAO,CAAA,GAAIA,EAAI,CAAA,IAAK,MAAQ,OAAS,KAAK,2BAD5CA,EAAO,CAAA,GAAIA,EAAI,CAAA,IAAK,MAAK,6FARpCA,EAAO,CAAA,CAAA,2BAEJA,EAAY,CAAA,CAAA,qBACZA,EAAY,CAAA,EAAC,KAAK,GAAG,CAAA,EAAA,gDATbC,EAAAC,EAAA,UAAAF,OAAY,SAAS,cACvBC,EAAAC,EAAA,QAAAF,OAAY,OAAO,cACVC,EAAAC,EAAA,iBAAAF,OAAiB,EAAK,4BAC7BA,EAAY,CAAA,CAAA,0BACdA,EAAO,CAAA,CAAA,sCACM,EAAI,iJA9DnB,OAAAS,CAAc,EAAAC,GACd,OAAAC,CAAc,EAAAD,GACd,MAAAE,CAAa,EAAAF,GACb,KAAAG,CAAY,EAAAH,EACZ,CAAA,aAAAI,EAAe,EAAI,EAAAJ,GACnB,QAAAK,CAAe,EAAAL,GACf,aAAAM,EAAY,EAAA,EAAAN,EACZ,CAAA,QAAAO,EAAU,EAAI,EAAAP,EACd,CAAA,QAAAQ,EAA2C,SAAS,EAAAR,EAa3DS,EAAa,GACbC,EAAU,EACVC,EAAU,EAEVC,EAEJC,EAAO,IAAA,CACN,SAAS,iBAAiB,YAAaC,CAAe,EACtD,SAAS,iBAAiB,UAAWC,CAAa,IAG1C,SAAAC,EAAgBC,EAAiB,CACrCd,GAAQ,cACXM,EAAa,GACbC,EAAUO,EAAM,QAAUL,EAAU,WACpCD,EAAUM,EAAM,QAAUL,EAAU,WAI7B,SAAAE,EAAgBG,EAAiB,CACrCd,GAAQ,aACPM,QACHG,EAAU,MAAM,KAAOK,EAAM,QAAUP,EAAU,KAAIE,CAAA,MACrDA,EAAU,MAAM,IAAMK,EAAM,QAAUN,EAAU,KAAIC,CAAA,YAK9CG,GAAa,CACjBZ,GAAQ,cACXM,EAAa,6CAaJG,EAASM,0YAtDnBC,EAAA,GAAEC,EACF,CAAA,OAAArB,EACA,OAAAE,EACA,MAAAC,EACA,KAAAC,CAAA,CAAA,mBAGAgB,EAAA,EAAEE,EAAe,OAAO,QAAQD,CAAM,EACrC,MAAME,EAAKC,CAAK,IAAW,KAAAD,KAAOC,GAAK,EACvC,KAAK,GAAG,CAAA,2MCrBEC,GAAQ,CAAC,QAAQ"}