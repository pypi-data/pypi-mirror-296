provider: "openai"  # LLM provider
file_ignore:  # File to ignore when generating a commit
  - "bun.lockb"
  - "Cargo.lock"
  - "composer.lock"
  - "Gemfile.lock"
  - "package-lock.json"
  - "pnpm-lock.yaml"
  - "poetry.lock"
  - "yarn.lock"
  - "pdm.lock"
  - "Pipfile.lock"
  - "*.py[cod]"

output:
  lang: "en"  # Commit message language

console:
  verbose: True

openai:
  api_base: "https://api.openai.com/v1"  # GPT base URL, default openai api
  api_key: "sk-xxxxxx"
  model: "text-davinci-003"
  retries: 2
  proxy: ""
  max_tokens: 4096
  top_p: 0.7
  temperature: 0.7
  frequency_penalty: 0
  extra_headers: "{}"  # JSON string

prompt:
  brief_commit_message: |
    you are an expert software engineer responsible for writing a clear and concise commit message.
    Task: Write a concise commit message based on the provided git diff content.

    Guidelines:
    - start with a concise, informative title.
    - follow with a high-level summary in bullet points (imperative tense).
    - focus on the most significant changes.

    use one of the following labels for the title:

    - build: changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)
    - chore: updating libraries, copyrights or other repo setting, includes updating dependencies.
    - ci: changes to our CI configuration files and scripts (example scopes: Travis, Circle, gitHub Actions)
    - docs: non-code changes, such as fixing typos or adding new documentation
    - feat: a commit of the type feat introduces a new feature to the codebase
    - fix: a commit of the type fix patches a bug in your codebase
    - perf: a code change that improves performance
    - refactor: a code change that neither fixes a bug nor adds a feature
    - style: changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)
    - test: adding missing tests or correcting existing tests

    the commit message templete is <title>: <summary>

    your answer should only include a single commit message less than 70 characters, no other text.
    Examples:

    Git diff:
    diff --git a/tests/test_stylize.py b/tests/test_stylize.py
    index 519b928..0b4584f 100644
    --- a/tests/test_stylize.py
    +++ b/tests/test_stylize.py
    @@ -1,7 +1,7 @@
    from rich.panel import Panel
    from rich.text import Text

    -from gptcomet.utils import stylize
    +from gptcomet.styles import stylize


    def test_stylize_text():

    Commit Message: test: update import of stylize test

    Git diff:
    diff --git a/gptcomet/clis/config/__init__.py b/gptcomet/clis/config/__init__.py
    index 094713d..7b4ad45 100644
    --- a/gptcomet/clis/config/__init__.py
    +++ b/gptcomet/clis/config/__init__.py
    @@ -1,6 +1,6 @@
    import typer

    -from gptcomet.clis.config import get, reset, set
    +from gptcomet.clis.config import get, path, reset, set
    from gptcomet.clis.config import list as _list
    from gptcomet.utils import CONTEXT_SETTINGS

    @@ -12,3 +12,4 @@ app.command(name="get")(get.entry)
    app.command(name="list")(_list.entry)
    app.command(name="reset")(reset.entry)
    app.command(name="set")(set.entry)
    +app.command(name="path")(path.entry)

    Output: feat: Add path command to config management

    Git diff:
    diff --git a/gptcomet/config_manager.py b/gptcomet/config_manager.py
    index 8bdca4b..bb98c1c 100644
    --- a/gptcomet/config_manager.py
    +++ b/gptcomet/config_manager.py
    @@ -27,17 +27,16 @@ class ConfigManager:
    -    def __init__(self, local: bool = False):
    +    def __init__(self, config_path: Path, local: bool = False):
    -        self.current_config_path = self.get_config_file()
    +        self.current_config_path = config_path

    @@ -72,7 +71,14 @@ class ConfigManager:
    -    def get_config_file(self) -> Path:
    +    @classmethod
    +    def get_config_path(cls, local: bool = False) -> Path:
    +        if local:
    +            return Path.cwd() / ".git" / "gptcomet.toml"
    +        else:
    +            return Path.home() / ".local" / "gptcomet" / "gptcomet.toml"

    Output: refactor: Refactor configmanger init with config_path and get_config_path classmethod

    Git diff:
    diff --git a/src/utils.java b/src/utils.java
    index 8bdca4b..bb98c1c 100644
    --- a/src/utils.java
    +++ b/src/utils.java
    - for (int i = 0; i < list.size(); i++) {
    -     processItem(list.get(i));
    + for (Item item : list) {
    +     processItem(item);
    }

    Output: perf: Improve performance of item processing loop

    Git diff:
    diff --git a/src/utils.java b/src/utils.java
    index 8bdca4b..bb98c1c 100644
    --- a/src/utils.java
    +++ b/src/utils.java
    - String passwordHash = hashPassword(user.getPassword());
    + String passwordHash = hashPassword(user.getPassword(), SALT);

    Commit Message: fix: Fix password hashing vulnerability

    Git diff:
    {{ placeholder }}

    Commit Message:
  # Prompt for brief commit message

  translation: |
    You are a professional polyglot programmer and translator. You are translating a git commit message.
    You want to ensure that the translation is high level and in line with the programmer's consensus, taking care to keep the formatting intact.

    Translate the following message into {{ output_language }}.

    GIT COMMIT MESSAGE:

    {{ placeholder }}

    Remember translate all given git commit message and give me only the translation.
    THE TRANSLATION:
  # Prompt for translation commit message to target language
