"use strict";(self.webpackChunk_jupytercad_jupytercad_core=self.webpackChunk_jupytercad_jupytercad_core||[]).push([[813],{2813:(e,t,r)=>{r.r(t),r.d(t,{JupyterCadWidgetFactory:()=>u,JupyterCadWorkerRegistry:()=>_,default:()=>E});var i=r(4796),o=r(3001),n=r(2200),s=r(131),a=r(8032),c=r(7313),p=r(6887),d=r(5215),l=r(7460),m=r(2135),y=r(353);class u extends m.ABCWidgetFactory{constructor(e){const{backendCheck:t,externalCommandRegistry:r}=e;super(function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]])}return r}(e,["backendCheck","externalCommandRegistry"])),this.options=e,this._backendCheck=t,this._commands=e.commands,this._workerRegistry=e.workerRegistry,this._externalCommandRegistry=r}createNewWidget(e){if(this._backendCheck&&!this._backendCheck())throw new Error("Requested backend is not installed");const{model:t}=e,r=new y.JupyterCadPanel({model:t,workerRegistry:this._workerRegistry,manager:this.options.manager,contentFactory:this.options.contentFactory,mimeTypeService:this.options.mimeTypeService,rendermime:this.options.rendermime,consoleTracker:this.options.consoleTracker,commandRegistry:this.options.commands}),i=new y.ToolbarWidget({commands:this._commands,model:t,externalCommands:this._externalCommandRegistry.getCommands()});return new y.JupyterCadWidget({context:e,content:r,toolbar:i})}}class h{constructor(e){this.collaborative=!0,this._disposed=!1,this._annotationModel=e.annotationModel}get name(){return"jupytercad-jcadmodel"}get contentType(){return"jcad"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){return new o.JupyterCadModel({sharedModel:e.sharedModel,languagePreference:e.languagePreference,annotationModel:this._annotationModel})}}const g="JupyterCAD .jcad Viewer";var f;!function(e){e.createNew="jupytercad:create-new-jcad-file"}(f||(f={}));const b={id:"jupytercad:jcadplugin",requires:[o.IJupyterCadDocTracker,n.IThemeManager,o.IAnnotationToken,c.IFileBrowserFactory,o.IJCadWorkerRegistryToken,o.IJCadExternalCommandRegistryToken,a.ConsolePanel.IContentFactory,s.IEditorServices,d.IRenderMimeRegistry,a.IConsoleTracker],optional:[p.ILauncher,n.ICommandPalette,i.ICollaborativeDrive],autoStart:!0,activate:(e,t,r,i,n,s,a,c,p,d,m,y,b,P)=>{const C=new u({name:g,modelName:"jupytercad-jcadmodel",fileTypes:["jcad"],defaultFor:["jcad"],tracker:t,commands:e.commands,workerRegistry:s,externalCommandRegistry:a,manager:e.serviceManager,contentFactory:c,rendermime:d,mimeTypeService:p.mimeTypeService,consoleTracker:m});e.docRegistry.addWidgetFactory(C);const A=new h({annotationModel:i});e.docRegistry.addModelFactory(A),e.docRegistry.addFileType({name:"jcad",displayName:"JCAD",mimeTypes:["text/json"],extensions:[".jcad",".JCAD"],fileFormat:"text",contentType:"jcad"});P&&P.sharedModelFactory.registerDocumentFactory("jcad",(()=>new o.JupyterCadDoc)),C.widgetCreated.connect(((i,o)=>{o.context.pathChanged.connect((()=>{t.save(o)})),r.themeChanged.connect(((e,t)=>o.context.model.themeChanged.emit(t))),t.add(o),e.shell.activateById("jupytercad::leftControlPanel"),e.shell.activateById("jupytercad::rightControlPanel")})),e.commands.addCommand(f.createNew,{label:e=>"New JCAD File",caption:"Create a new JCAD Editor",icon:e=>e.isPalette?void 0:l.fileIcon,execute:async t=>{var r;const i=t.cwd||(null===(r=n.tracker.currentWidget)||void 0===r?void 0:r.model.path);let o=await e.serviceManager.contents.newUntitled({path:i,type:"file",ext:".jcad"});return o=await e.serviceManager.contents.save(o.path,Object.assign(Object.assign({},o),{format:"text",size:void 0,content:'{\n\t"objects": [],\n\t"options": {},\n\t"metadata": {},\n\t"outputs": {}}'})),e.commands.execute("docmanager:open",{path:o.path,factory:g})}}),y&&y.add({command:f.createNew,category:"Other",rank:1}),b&&b.addItem({command:f.createNew,args:{isPalette:!0},category:"JupyterCAD"})}};class P{constructor(){this.collaborative=!0,this._disposed=!1}get name(){return"jupytercad-stepmodel"}get contentType(){return"step"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){return new o.JupyterCadModel({sharedModel:e.sharedModel,languagePreference:e.languagePreference})}}var C=r(7262),A=r(4602);class j extends o.JupyterCadDoc{constructor(){super(),this.editable=!1,this.toJcadEndpoint="jupytercad/export",this._sourceObserver=e=>{const t=[];e.forEach((e=>{e.keys.forEach(((r,i)=>{t.push({name:"Step File",key:i,newValue:C.JSONExt.deepCopy(e.target.toJSON())})}))})),this._objectChanged.emit({objectChange:t}),this._changed.emit({objectChange:t})},this._objectChanged=new A.Signal(this),this._source=this.ydoc.getText("source"),this._source.observeDeep(this._sourceObserver)}get version(){return"0.1.0"}get objectsChanged(){return this._objectChanged}get objects(){return this._source.toJSON()?[{name:"Step File",visible:!0,shape:"Part::Any",parameters:{Content:this._source.toJSON(),Type:"STEP"}}]:[]}static create(){return new j}}const x={id:"jupytercad:stepplugin",requires:[o.IJupyterCadDocTracker,n.IThemeManager,o.IJCadWorkerRegistryToken,o.IJCadExternalCommandRegistryToken],optional:[i.ICollaborativeDrive],autoStart:!0,activate:(e,t,r,i,o,n)=>{const s=new u({name:"JupyterCAD STEP Viewer",modelName:"jupytercad-stepmodel",fileTypes:["step"],defaultFor:["step"],tracker:t,commands:e.commands,workerRegistry:i,externalCommandRegistry:o});e.docRegistry.addWidgetFactory(s);const a=new P;e.docRegistry.addModelFactory(a),e.docRegistry.addFileType({name:"step",displayName:"STEP",mimeTypes:["text/json"],extensions:[".step",".STEP"],fileFormat:"text",contentType:"step"});n&&n.sharedModelFactory.registerDocumentFactory("step",(()=>new j)),s.widgetCreated.connect(((i,o)=>{o.context.pathChanged.connect((()=>{t.save(o)})),r.themeChanged.connect(((e,t)=>o.context.model.themeChanged.emit(t))),t.add(o),e.shell.activateById("jupytercad::leftControlPanel"),e.shell.activateById("jupytercad::rightControlPanel")}))}};class T{constructor(){this.collaborative=!0,this._disposed=!1}get name(){return"jupytercad-stlmodel"}get contentType(){return"stl"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){return new o.JupyterCadModel({sharedModel:e.sharedModel,languagePreference:e.languagePreference})}}class v extends o.JupyterCadDoc{constructor(){super(),this.editable=!1,this._sourceObserver=e=>{const t=[];e.forEach((e=>{e.keys.forEach(((r,i)=>{t.push({name:"Stl File",key:i,newValue:C.JSONExt.deepCopy(e.target.toJSON())})}))})),this._objectChanged.emit({objectChange:t}),this._changed.emit({objectChange:t})},this._objectChanged=new A.Signal(this),this._source=this.ydoc.getText("source"),this._source.observeDeep(this._sourceObserver)}get version(){return"0.1.0"}get objectsChanged(){return this._objectChanged}get objects(){return this._source.toJSON()?[{name:"Stl File",visible:!0,shape:"Part::Any",parameters:{Content:this._source.toJSON(),Type:"STL"}}]:[]}static create(){return new v}}const k={id:"jupytercad:stlplugin",requires:[o.IJupyterCadDocTracker,n.IThemeManager,o.IJCadWorkerRegistryToken,o.IJCadExternalCommandRegistryToken],optional:[i.ICollaborativeDrive],autoStart:!0,activate:(e,t,r,i,o,n)=>{const s=new u({name:"JupyterCAD STL Viewer",modelName:"jupytercad-stlmodel",fileTypes:["stl"],defaultFor:["stl"],tracker:t,commands:e.commands,workerRegistry:i,externalCommandRegistry:o});e.docRegistry.addWidgetFactory(s);const a=new T;e.docRegistry.addModelFactory(a),e.docRegistry.addFileType({name:"stl",displayName:"STL",mimeTypes:["text/json"],extensions:[".stl",".STL"],fileFormat:"text",contentType:"stl"});n&&n.sharedModelFactory.registerDocumentFactory("stl",(()=>new v)),s.widgetCreated.connect(((i,o)=>{o.context.pathChanged.connect((()=>{t.save(o)})),r.themeChanged.connect(((e,t)=>o.context.model.themeChanged.emit(t))),t.add(o),e.shell.activateById("jupytercad::leftControlPanel"),e.shell.activateById("jupytercad::rightControlPanel")}))}};var S=r(6241),w=r(2678),R=r(7987);class _{constructor(){this._registry=new Map;const e=new Worker(new URL(r.p+r.u(201),r.b));this._defaultWorker=new R.OccWorker({worker:e})}registerWorker(e,t){this._registry.has(e)?console.error("Worker is already registered!"):this._registry.set(e,t)}unregisterWorker(e){this._registry.has(e)||this._registry.delete(e)}getDefaultWorker(){return this._defaultWorker}getWorker(e){return this._registry.get(e)}getAllWorkers(){return[...this._registry.values()]}}const I=JSON.parse('{"Part::GeomCircle":{"type":"object","required":["TypeId","CenterX","CenterY","CenterZ","NormalX","NormalY","NormalZ","AngleXU","Radius"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomCircle","description":"Geometry type"},"CenterX":{"type":"number","description":"CenterX"},"CenterY":{"type":"number","description":"CenterY"},"CenterZ":{"type":"number","description":"CenterZ"},"NormalX":{"type":"number","description":"NormalX"},"NormalY":{"type":"number","description":"NormalY"},"NormalZ":{"type":"number","description":"NormalZ"},"AngleXU":{"type":"number","description":"AngleXU"},"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius"}}},"Part::GeomLineSegment":{"type":"object","required":["TypeId","StartX","StartY","StartZ","EndX","EndY","EndZ"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomLineSegment","description":"Geometry type"},"StartX":{"type":"number","description":"StartX"},"StartY":{"type":"number","description":"StartY"},"StartZ":{"type":"number","description":"StartZ"},"EndX":{"type":"number","description":"EndX"},"EndY":{"type":"number","description":"EndY"},"EndZ":{"type":"number","description":"EndZ"}}},"Placement of the object":{"type":"object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}},"Post::Operator":{"type":"object","required":["Object"],"additionalProperties":true,"properties":{"Object":{"type":"string","description":"The name of input object"}}},"Part::Any":{"type":"object","required":["Content","Type"],"additionalProperties":false,"properties":{"Content":{"type":"string","description":"The string content of the object"},"Type":{"type":"string","enum":["brep","step","stl"]},"Color":{"type":"string","description":"The color of the object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Box":{"type":"object","required":["Length","Width","Height","Placement"],"additionalProperties":false,"properties":{"Length":{"type":"number","exclusiveMinimum":0,"description":"The length of the box"},"Width":{"type":"number","exclusiveMinimum":0,"description":"The width of the box"},"Height":{"type":"number","exclusiveMinimum":0,"description":"The height of the box"},"Color":{"type":"string","description":"The color of the box","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Cone":{"type":"object","required":["Radius1","Radius2","Height","Angle","Placement"],"additionalProperties":false,"properties":{"Radius1":{"type":"number","exclusiveMinimum":0,"description":"The bottom radius of the cone"},"Radius2":{"type":"number","exclusiveMinimum":0,"description":"The top radius of the cone"},"Height":{"type":"number","exclusiveMinimum":0,"description":"The height of the cone"},"Angle":{"type":"number","exclusiveMinimum":0,"description":"The angle of the cone"},"Color":{"type":"string","description":"The color of the cone","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Chamfer":{"type":"object","required":["Base","Edge","Dist","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The name of input object"},"Edge":{"type":"number","minimum":0,"description":"The edge index"},"Dist":{"type":"number","minimum":0,"description":"The distance of the symmetric chamfer"},"Color":{"type":"string","description":"The color of the chamfer","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Cut":{"type":"object","required":["Base","Tool","Refine","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The base of the cut operator","fcType":"App::PropertyLink"},"Tool":{"type":"string","description":"The tool of the cut operator","fcType":"App::PropertyLink"},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the cut object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Extrusion":{"type":"object","required":["Base","Dir","LengthFwd","LengthRev","Solid","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"Shape to extrude","fcType":"App::PropertyLink"},"Dir":{"type":"array","description":"Direction of extrusion","items":{"type":"number"}},"LengthFwd":{"type":"number","description":"Length of extrusion along the direction"},"LengthRev":{"type":"number","description":"Length of extrusion against the direction"},"Solid":{"type":"boolean","description":"If true, creating a solid"},"Color":{"type":"string","description":"The color of the extrusion","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Fillet":{"type":"object","required":["Base","Edge","Radius","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The name of input object"},"Edge":{"type":"number","minimum":0,"description":"The edge index"},"Radius":{"type":"number","exclusiveMinimum":0,"description":"The radius for the fillet"},"Color":{"type":"string","description":"The color of the fillet","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::MultiFuse":{"type":"object","required":["Shapes","Refine","Placement"],"additionalProperties":false,"properties":{"Shapes":{"type":"array","description":"The shapes of the individual elements","fcType":"App::PropertyLinkList","items":{"type":"string"}},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the fused object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::MultiCommon":{"type":"object","required":["Shapes","Refine","Placement"],"additionalProperties":false,"properties":{"Shapes":{"type":"array","description":"The objects to intersect","fcType":"App::PropertyLinkList","items":{"type":"string"}},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the intersection","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Sketcher::SketchObject":{"type":"object","required":["AttachmentOffset","Geometry"],"additionalProperties":false,"properties":{"AttachmentOffset":{"description":"The attachment offset","type":"object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}},"Geometry":{"type":"array","description":"The geometry list","items":{"anyOf":[{"type":"object","description":"Part::GeomCircle","title":"IGeomCircle","required":["TypeId","CenterX","CenterY","CenterZ","NormalX","NormalY","NormalZ","AngleXU","Radius"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomCircle","description":"Geometry type"},"CenterX":{"type":"number","description":"CenterX"},"CenterY":{"type":"number","description":"CenterY"},"CenterZ":{"type":"number","description":"CenterZ"},"NormalX":{"type":"number","description":"NormalX"},"NormalY":{"type":"number","description":"NormalY"},"NormalZ":{"type":"number","description":"NormalZ"},"AngleXU":{"type":"number","description":"AngleXU"},"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius"}}},{"type":"object","description":"Part::GeomLineSegment","title":"IGeomLineSegment","required":["TypeId","StartX","StartY","StartZ","EndX","EndY","EndZ"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomLineSegment","description":"Geometry type"},"StartX":{"type":"number","description":"StartX"},"StartY":{"type":"number","description":"StartY"},"StartZ":{"type":"number","description":"StartZ"},"EndX":{"type":"number","description":"EndX"},"EndY":{"type":"number","description":"EndY"},"EndZ":{"type":"number","description":"EndZ"}}}]}},"Color":{"type":"string","description":"The color of the sketch object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Sphere":{"type":"object","required":["Radius","Angle1","Angle2","Angle3","Placement"],"additionalProperties":false,"properties":{"Radius":{"type":"number","exclusiveMinimum":0,"description":"The radius of the sphere"},"Angle1":{"type":"number","description":"The angle of the sphere"},"Angle2":{"type":"number","description":"The angle of the sphere"},"Angle3":{"type":"number","description":"The angle of the sphere"},"Color":{"type":"string","description":"The color of the sphere","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Torus":{"type":"object","required":["Radius1","Radius2","Angle1","Angle2","Angle3","Placement"],"additionalProperties":false,"properties":{"Radius1":{"type":"number","exclusiveMinimum":0,"description":"The radius of the torus"},"Radius2":{"type":"number","exclusiveMinimum":0,"description":"The radius of the torus"},"Angle1":{"type":"number","description":"The angle of the torus"},"Angle2":{"type":"number","description":"The angle of the torus"},"Angle3":{"type":"number","description":"The angle of the torus"},"Color":{"type":"string","description":"The color of the torus","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}},"Part::Cylinder":{"type":"object","required":["Radius","Angle","Height","Placement"],"additionalProperties":false,"properties":{"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius of the cylinder"},"Height":{"type":"number","exclusiveMinimum":0,"description":"Height of the cylinder"},"Angle":{"type":"number","exclusiveMinimum":0,"description":"Angle of the cylinder"},"Color":{"type":"string","description":"The color of the cylinder","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position of the Placement","items":{"type":"number"}},"Axis":{"type":"array","description":"Axis of the Placement","items":{"type":"number"}},"Angle":{"type":"number","description":"Angle of the Placement"}}}}}}');class M{constructor(){this._registry=new Map(Object.entries(I))}registerSchema(e,t){this._registry.has(e)?console.error("Worker is already registered!"):this._registry.set(e,t)}has(e){return this._registry.has(e)}getSchemas(){return this._registry}}class q{constructor(){this._registry=new Set}registerCommand(e){this._registry.add(e)}getCommands(){return[...this._registry]}}const E=[{id:"jupytercad:core:tracker",autoStart:!0,requires:[w.ITranslator],optional:[S.IMainMenu],provides:o.IJupyterCadDocTracker,activate:(e,t,r)=>{const i=new n.WidgetTracker({namespace:"jupytercad"});return console.log("jupytercad:core:tracker is activated!"),i}},{id:"jupytercad:core:annotation",autoStart:!0,requires:[o.IJupyterCadDocTracker],provides:o.IAnnotationToken,activate:(e,t)=>{var r;const i=new y.AnnotationModel({context:null===(r=t.currentWidget)||void 0===r?void 0:r.context});return t.currentChanged.connect(((e,t)=>{i.context=(null==t?void 0:t.context)||void 0})),i}},{id:"jupytercad:core:worker-registry",autoStart:!0,requires:[],provides:o.IJCadWorkerRegistryToken,activate:e=>new _},b,x,k,{id:"jupytercad:core:form-schema-registry",autoStart:!0,requires:[],provides:o.IJCadFormSchemaRegistryToken,activate:e=>new M},{id:"jupytercad:core:external-command-registry",autoStart:!0,requires:[],provides:o.IJCadExternalCommandRegistryToken,activate:e=>new q}]}}]);