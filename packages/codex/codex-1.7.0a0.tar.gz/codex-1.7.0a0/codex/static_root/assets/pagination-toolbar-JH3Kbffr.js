import{B as re,K as ge,c1 as Ke,M as me,ax as We,av as F,P as ve,Q as r,az as De,_ as U,V as d,aA as b,ag as ae,c2 as Ze,aE as N,aC as I,c3 as Qe,a$ as Oe,R as se,S as pe,aJ as f,W as V,al as J,aB as z,T as S,af as j,aN as ce,U as Q,l as Xe,c4 as Je,bD as et,c5 as tt,m as at,aP as lt,aQ as st,aT as Ce,aS as rt,bF as it,am as Y,aM as nt,ak as de,a_ as ot,bf as ut,bd as ye,bs as ke,aO as dt,c6 as ct,b5 as mt,c7 as vt,h,c8 as Te,O as Se,s as Ve,r as be,X as ft,p as ht,$ as Ge,c9 as pt,i as $e,ca as bt,aj as gt,G as X,aH as Be,aY as yt,cb as kt,bR as St,cc as _t,b6 as wt,au as Ne,aq as Ct}from"./admin-drawer-panel-BAT7GA64.js";import{u as K,k as Tt,C as Vt,c as Bt,l as Nt,G as Me,A as Mt,h as It,g as Pt,m as Rt}from"./main-CmjU2oTp.js";import{b as Lt,c as Ft,d as Et}from"./VSelect-txrnRiNJ.js";import{P as Dt}from"./unauthorized-BHgBRF4z.js";import{V as Ot}from"./VDialog-GbxvFMMN.js";import{m as Gt,a as $t,u as At,V as Ie,b as zt}from"./VSelectionControl-CY6RmcvW.js";import{a as jt}from"./settings-drawer-BdyFhA_r.js";const Ut=re({...ge(),...Ke({variant:"text"})},"VToolbarItems"),kl=me()({name:"VToolbarItems",props:Ut(),setup(e,t){let{slots:a}=t;return We({VBtn:{color:F(e,"color"),height:"inherit",variant:F(e,"variant")}}),ve(()=>{var i;return r("div",{class:["v-toolbar-items",e.class],style:e.style},[(i=a.default)==null?void 0:i.call(a)])}),{}}}),qt={name:"BookCover",props:{group:{type:String,required:!0},pks:{type:Array,required:!0},childCount:{type:Number,default:1},finished:{type:Boolean},mtime:{type:Number,default:Date.now()}},data(){return{showPlaceholder:!1}},computed:{...De(K,["coverSettings"]),coverSrc(){return Tt({group:this.group,pks:this.pks},this.coverSettings,this.mtime)},multiPkClasses(){const e=this.pks.length,t={};return e>=4?t.stack4=!0:e>1&&(t[`stack${e}`]=!0),t}},mounted:function(){this.delayPlaceholder()},methods:{delayPlaceholder:function(){setTimeout(()=>{this.showPlaceholder=!0},2e3)}}},xt={class:"bookCover"},Ht={key:1,class:"childCount"};function Yt(e,t,a,i,n,l){return d(),b("div",xt,[r(Ze,{src:l.coverSrc,class:ae(["coverImg",l.multiPkClasses])},null,8,["src","class"]),a.finished!==!0?(d(),b("div",{key:0,class:ae({unreadFlag:!0,mixedreadFlag:a.finished===null})},null,2)):N("",!0),a.group!=="c"?(d(),b("span",Ht,I(a.childCount),1)):N("",!0)])}const Kt=U(qt,[["render",Yt],["__scopeId","data-v-31ac8578"]]),Wt=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Zt=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Qt=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Xt=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Pe=(e,t,a)=>{let i=e;return typeof t=="string"||Array.isArray(t)?i=e.toLocaleString(t,a):(t===!0||a!==void 0)&&(i=e.toLocaleString(void 0,a)),i};function Jt(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};const a=t.bits?t.binary?Xt:Qt:t.binary?Zt:Wt,i=t.space?" ":"";if(t.signed&&e===0)return` 0${i}${a[0]}`;const n=e<0,l=n?"-":t.signed?"+":"";n&&(e=-e);let o;if(t.minimumFractionDigits!==void 0&&(o={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(o={maximumFractionDigits:t.maximumFractionDigits,...o}),e<1){const B=Pe(e,t.locale,o);return l+B+i+a[0]}const s=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),a.length-1);e/=(t.binary?1024:1e3)**s,o||(e=e.toPrecision(3));const v=Pe(Number(e),t.locale,o),m=a[s];return l+v+i+m}const Re=Vt.browser.vuetifyNullCode,Le=new Set(["",Re,Re.toString(),void 0]),ea=function(e){let t;return Le.has(e)?t=e:e instanceof Object?Le.has(e.pk)?t=void 0:t={value:e.pk,title:e.name}:t={value:e,title:e.toString()},e!=null&&e.url&&(t.url=e.url),t},ta=function(e,t){return e.title<t.title?-1:e.title>t.title?1:0},aa=function(e,t){return Number.parseFloat(e.title)-Number.parseFloat(t.title)},la=function(e,t,a=!1){var s;const i=e||[],n=t&&t.toLowerCase();let l=[];for(const v of i){const m=ea(v);m!=null&&(!n||(s=m==null?void 0:m.title)!=null&&s.toLowerCase().includes(n))&&l.push(m)}const o=a?aa:ta;return l.sort(o)},sa={name:"MetadataTags",props:{label:{type:String,required:!0},values:{type:Array,default(){return[]}},filter:{type:String,required:!1,default:void 0}},data(){return{mdiFilter:Qe,mdiOpenInNew:Oe}},computed:{...se(K,{filterValues(e){const t=this.filter||this.label.toLowerCase();return e.settings.filters[t]},topGroup:e=>e.settings.topGroup}),model(){return la(this.values)},chipClass(e){return{browseChip:this.filter&&e}}},methods:{...pe(K,["setSettings"]),chipColor(e){return this.filterValues&&this.filterValues.includes(e)?this.$vuetify.theme.current.colors["primary-darken-1"]:""},onClick(e){if(!this.filter||!e)return;const t=["f","s"].includes(this.topGroup)?this.topGroup:"r",a=t==="s"&&this.filter==="storyArcs";if(!a){const o={filters:{[this.filter]:[e]}};this.setSettings(o)}const l={name:"browser",params:{group:t,pk:a?e:0,page:1}};this.$router.push(l)}}},ra={key:0,class:"tags"},ia={class:"chipGroupLabel"},na=["href"];function oa(e,t,a,i,n,l){return l.model&&l.model.length>0?(d(),b("div",ra,[f("div",ia,I(a.label),1),r(Ft,{column:!0,multiple:"",value:l.model},{default:V(()=>[(d(!0),b(J,null,z(l.model,o=>(d(),S(Lt,{key:`${a.label}/${o.value}`,color:l.chipColor(o.value),value:o.value,onClick:s=>l.onClick(o.value)},{default:V(()=>[o.url?(d(),b("a",{key:0,href:o.url,target:"_blank"},[j(I(o.title),1),r(ce,null,{default:V(()=>[j(I(n.mdiOpenInNew),1)]),_:1})],8,na)):(d(),b("span",{key:1,class:ae(l.chipClass)},I(o.title),3))]),_:2},1032,["color","value","onClick"]))),128))]),_:1},8,["value"])])):N("",!0)}const Ae=U(sa,[["render",oa],["__scopeId","data-v-75fd687b"]]),ua={name:"MetadataContributorsTable",components:{MetadataTags:Ae},props:{value:{type:Array,default:void 0}},computed:{contributorsDict(){const e={};if(!this.value)return e;for(const{role:i,person:n}of this.value){const l=Bt(i.name)+"s";e[l]||(e[l]=[]),e[l].push(n)}const t=Object.keys(e).sort((i,n)=>i.localeCompare(n)),a={};for(const i of t)a[i]=e[i].sort((n,l)=>n.name.localeCompare(l.name));return a}}},da={key:0};function ca(e,t,a,i,n,l){const o=Q("MetadataTags");return Object.keys(l.contributorsDict).length>0?(d(),b("div",da,[t[0]||(t[0]=f("h3",null,"Contributors",-1)),(d(!0),b(J,null,z(Object.entries(l.contributorsDict),([s,v])=>(d(),S(o,{key:s,values:v,label:s,filter:"contributors"},null,8,["values","label"]))),128))])):N("",!0)}const ma=U(ua,[["render",ca]]),Fe="(Empty)",va={name:"MetadataTextBox",props:{label:{type:String,required:!0},value:{type:[Object,String,Number,Boolean],default:void 0},link:{type:[Boolean,String],default:!1},group:{type:String,default:""},obj:{type:Object,default:void 0}},data(){return{mdiOpenInNew:Oe}},computed:{...se(K,{browserShow:e=>e.settings.show,browserTopGroup:e=>e.settings.topGroup,folderViewEnabled:e=>e.page.adminFlags.folderView}),computedValue(){return this.value&&this.value.name!==void 0?this.value.name:this.value},lastSlashIndex(){return this.computedValue.lastIndexOf("/")+1},displayValue(){let e;return this.group&&this.computedValue===""?e=Fe:this.group==="f"&&this.computedValue?e=this.computedValue.substring(0,this.lastSlashIndex):e=this.computedValue,e},empty(){return this.displayValue===Fe},_browserGroupHref(){const e=this.group,t=this.$router.currentRoute.value.params;if(!e||t.group===e||e==="f"&&!this.folderViewEnabled||!["a","f"].includes(e)&&!this.browserShow[e])return;const a=this.value.ids?this.value.ids:[this.value.pk];if(!a||!a.length)return;const n={topGroup:this.getTopGroup(e)};return Nt({group:e,pks:a,query:n})},_linkHref(){return this.link===!0?this.displayValue:this.link?this.link:!1},href(){return this._browserGroupHref?this._browserGroupHref:this._linkHref},target(){return this.link?"_blank":""},title(){return this._browserGroupHref?`Browse to ${this.label}`:this.label},baseName(){return this.group==="f"?this.computedValue.substring(this.lastSlashIndex):""},highlight(){var e;return((e=this.obj)==null?void 0:e.group)===this.group}},methods:{getTopGroup(e){let t;if(this.browserTopGroup===e||["a","f"].includes(e))t=e;else{const a=Me.indexOf(e);for(const i of Me.slice(a))if(i!=="r"&&this.browserShow[i]){t=i;break}}return t}}},fa={class:"textLabel"},ha=["href","title","target"],pa={key:1,class:"textContent"},ba={key:2};function ga(e,t,a,i,n,l){return l.displayValue?(d(),b("div",{key:0,class:ae(["text",{highlight:l.highlight}])},[f("div",fa,I(a.label),1),f("div",{class:ae(["textValue",{empty:l.empty}])},[l.href?(d(),b("a",{key:0,href:l.href,title:l.title,target:l.target},[j(I(l.displayValue)+" ",1),a.link?(d(),S(ce,{key:0,size:"small"},{default:V(()=>[j(I(n.mdiOpenInNew),1)]),_:1})):N("",!0)],8,ha)):(d(),b("div",pa,I(l.displayValue),1)),l.baseName?(d(),b("span",ba,I(l.baseName),1)):N("",!0)],2)],2)):N("",!0)}const ya=U(va,[["render",ga],["__scopeId","data-v-3a00dd0e"]]),ze=new Set("rtl","btt");Object.freeze(ze);const ka=({ids:e,page:t,readingDirection:a,pageCount:i},n)=>{if(e.length<1||n&&!i)return"";const l=e[0];if(t)t=Number(t);else if(ze.has(a)){const o=Number(i)-1;t=Math.max(o,0)}else t=0;return{name:"reader",params:{pk:l,page:t}}},Ee=Xe("metadata",{state:()=>({md:void 0}),actions:{async loadMetadata({group:e,pks:t}){await Mt.getMetadata({group:e,pks:t},K().metadataSettings).then(a=>{const i={...a.data};return i.loaded=!0,this.md=i,!0}).catch(a=>{console.error(a),this.clearMetadata()})},clearMetadata(){this.md=void 0}}}),Sa=1160,_a=.05,wa=250,Ca={name:"MetadataButton",components:{BookCover:Kt,CloseButton:Je,MetadataContributorsTable:ma,MetadataTags:Ae,MetadataText:ya,PlaceholderLoading:Dt},props:{group:{type:String,required:!0},book:{type:Object,required:!0},children:{type:Number,default:1},toolbar:{type:Boolean,default:!1}},data(){return{mdiDownload:et,mdiTagOutline:tt,dialog:!1,progress:0}},computed:{...De(at,["isUserAdmin"]),...se(K,{twentyFourHourTime:e=>{var t;return(t=e.settings)==null?void 0:t.twentyFourHourTime},readingDirectionTitles:e=>e.choices.static.readingDirection,identifierTypes:e=>e.choices.static.identifierType,importMetadata:e=>{var t,a;return(a=(t=e.page)==null?void 0:t.adminFlags)==null?void 0:a.importMetadata}}),...se(Ee,{md:e=>e.md}),...se(K,{q:e=>e.settings.q}),showContainer(){var e;return((e=this.md)==null?void 0:e.loaded)||!1},buttonVariant(){return this.toolbar?"plain":"text"},downloadURL(){return this.book?It(this.book):""},downloadFilename(){const e=this.md;if(!e)return"Unknown.cbz";if(e.filename)return e.filename;const t=Pt({seriesName:this.firstNameFromList(e.seriesList),volumeName:this.firstNameFromList(e.volumeList),issueNumber:e.issueNumber,issueSuffix:e.issueSuffix}),a="."+this.fileType.toLowerCase();return t+a},isReadButtonShown(){return this.group==="c"&&this.$route.name!="reader"},isReadButtonEnabled(){return!!this.readerRoute},readButtonIcon(){return this.isReadButtonEnabled?lt:st},readerRoute(){var e;return(e=this.md)!=null&&e.ids?ka(this.md,this.importMetadata):{}},formattedIssue(){if(!this.md)return"Unknown";if(!((this.md.issueNumber===null||this.md.issueNumber===void 0)&&!this.md.issueSuffix))return Rt(this.md)},readingDirectionText(){return this.md?this.readingDirectionTitles[this.md.readingDirection]:"Unknown"},pages(){let e="";if(!this.md)return e;if(this.md.page){const a=Ce.format(this.md.page);e+=`Read ${a} of `}const t=Ce.format(this.md.pageCount);return e+=`${t} pages`,this.md.progress>0&&(e+=` (${Math.round(this.md.progress)}%)`),e},size(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.size)>0?Jt(this.md.size):0},fileType(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.fileType)||"Unknown"},titledIdentifiers(){var t;const e=[];if(!((t=this==null?void 0:this.md)!=null&&t.identifiers))return e;for(const a of this.md.identifiers){const i=a.name.split(":"),n=i[0],l=i[1],o=this.identifierTypeTitle(n);let s="";o&&o!=="None"&&(s+=o+":"),s+=l,e.push({...a,name:s})}return e},multiGroup(){var e;return(e=this.md)!=null&&e.ids?this.md.ids.length>1:!1}},watch:{dialog(e){e?this.dialogOpened():this.clearMetadata()}},methods:{...pe(Ee,["clearMetadata","loadMetadata"]),...pe(K,["identifierTypeTitle"]),dialogOpened(){const e=this.book.ids?this.book.ids:[this.book.pk],t={group:this.group,pks:e};this.loadMetadata(t),this.startProgress()},startProgress(){this.startTime=Date.now(),this.estimatedMS=Math.max(_a,this.children/Sa)*1e3,this.updateProgress()},updateProgress(){const e=Date.now()-this.startTime;this.progress=e/this.estimatedMS*100,!(this.progress>=100||this.md)&&setTimeout(()=>{this.updateProgress()},wa)},formatDateTime(e){return rt(e,this.twentyFourHourTime)},download(){it(this.downloadURL,this.downloadFilename)},firstNameFromList(e){let t="";if(e){for(const a of Object.values(e))if(a.name){t=a.name;break}}return t}}},Ta={id:"metadataHeader"},Va={id:"metadataBookCoverWrapper"},Ba={class:"inlineRow"},Na={class:"inlineRow"},Ma={class:"inlineRow"},Ia={key:1,class:"inlineRow"},Pa={id:"metadataBody"},Ra={class:"mdSection"},La={class:"quintRow"},Fa={class:"mdSection"},Ea={class:"quarterRow"},Da={class:"lastSmallRow"},Oa={class:"halfRow mdSection"},Ga={class:"mdSection"},$a={class:"mdSection"},Aa={class:"mdSection"},za={class:"mdSection"},ja={class:"mdSection"},Ua={class:"mdSection inlineRow"},qa={class:"inlineRow"},xa={id:"footerLinks"},Ha={key:1,id:"placeholderContainer"};function Ya(e,t,a,i,n,l){const o=Q("CloseButton"),s=Q("MetadataText"),v=Q("BookCover"),m=Q("MetadataTags"),B=Q("MetadataContributorsTable"),_=Q("PlaceholderLoading");return d(),S(Ot,{modelValue:n.dialog,"onUpdate:modelValue":t[3]||(t[3]=c=>n.dialog=c),fullscreen:"",transition:"dialog-bottom-transition"},{activator:V(({props:c})=>[r(de,Y({"aria-label":"tags",class:"tagButton cardControlButton",variant:l.buttonVariant,icon:n.mdiTagOutline,title:"Tags"},c,{onClick:t[0]||(t[0]=nt(()=>{},["prevent"]))}),null,16,["variant","icon"])]),default:V(()=>[l.showContainer?(d(),b("div",{key:0,id:"metadataContainer",onKeyup:t[2]||(t[2]=ut(c=>n.dialog=!1,["esc"]))},[r(o,{class:"closeButton",title:"Close Metadata (esc)",onClick:t[1]||(t[1]=c=>n.dialog=!1)}),f("header",Ta,[e.q?(d(),S(s,{key:0,id:"search",value:e.q,label:"Search Query",highlight:!0},null,8,["value"])):N("",!0),f("div",Va,[r(v,{id:"bookCover",group:a.group,pks:e.md.ids,"child-count":e.md.childCount,finished:e.md.finished,mtime:e.md.mtime},null,8,["group","pks","child-count","finished","mtime"]),r(ot,{class:"bookCoverProgress","model-value":e.md.progress,rounded:"","background-color":"inherit",height:"2","aria-label":"% read"},null,8,["model-value"])]),f("div",Ba,[(d(!0),b(J,null,z(e.md.publisherList,c=>(d(),S(s,{id:"publisher",key:c.ids,value:c,group:"p",label:"Publisher",obj:{ids:e.md.ids,group:e.md.group}},null,8,["value","obj"]))),128)),(d(!0),b(J,null,z(e.md.imprintList,c=>(d(),S(s,{id:"imprint",key:c.ids,value:c,group:"i",label:"Imprint",obj:{ids:e.md.ids,group:e.md.group}},null,8,["value","obj"]))),128))]),f("div",Na,[(d(!0),b(J,null,z(e.md.seriesList,c=>(d(),S(s,{id:"series",key:c.ids,value:c,label:"Series",group:"s",obj:{ids:e.md.ids,group:e.md.group}},null,8,["value","obj"]))),128))]),f("div",Ma,[(d(!0),b(J,null,z(e.md.volumeList,c=>(d(),S(s,{id:"volume",key:c.ids,value:c,label:"Volume",group:"v",obj:{ids:e.md.ids,group:e.md.group}},null,8,["value","obj"]))),128)),r(s,{value:e.md.seriesVolumeCount,label:"Volume Count"},null,8,["value"]),r(s,{id:"issue",value:l.formattedIssue,label:"Issue",group:"c",obj:{ids:e.md.ids,group:e.md.group}},null,8,["value","obj"]),r(s,{value:e.md.volumeIssueCount,label:"Issue Count"},null,8,["value"]),r(s,{value:e.md.name,label:"Title"},null,8,["value"])]),e.md.year||e.md.month||e.md.day?(d(),b("div",Ia,[r(s,{value:e.md.year,label:"Year",class:"datePicker",type:"number"},null,8,["value"]),r(s,{value:e.md.month,label:"Month",class:"datePicker"},null,8,["value"]),r(s,{value:e.md.day,label:"Day",class:"datePicker"},null,8,["value"])])):N("",!0)]),f("div",Pa,[f("section",Ra,[f("div",La,[r(s,{value:l.pages,label:"Pages"},null,8,["value"]),r(s,{label:"Finished",value:(!!e.md.finished).toString()},null,8,["value"]),r(s,{label:"Reading Direction",value:l.readingDirectionText},null,8,["value"]),r(s,{value:(!!e.md.monochrome).toString(),label:"Monochrome"},null,8,["value"]),r(s,{value:e.md.original_format,label:"Original Format"},null,8,["value"])])]),f("section",Fa,[f("div",Ea,[e.md.createdAt?(d(),S(s,{key:0,value:l.formatDateTime(e.md.createdAt),label:"Created at",class:"mtime"},null,8,["value"])):N("",!0),e.md.updatedAt?(d(),S(s,{key:1,value:l.formatDateTime(e.md.updatedAt),label:"Updated at",class:"mtime"},null,8,["value"])):N("",!0),r(s,{value:l.size,label:"Size"},null,8,["value"]),r(s,{value:l.fileType,label:"File Type"},null,8,["value"])]),f("div",Da,[r(s,{group:"f",value:{pk:e.md.parentFolderId,name:e.md.path},label:"Path"},null,8,["value"])])]),f("section",Oa,[r(s,{value:e.md.country,label:"Country"},null,8,["value"]),r(s,{value:e.md.language,label:"Language"},null,8,["value"])]),f("section",Ga,[r(m,{values:l.titledIdentifiers,label:"Identifiers"},null,8,["values"])]),f("section",$a,[r(s,{value:e.md.summary,label:"Summary"},null,8,["value"]),r(s,{value:e.md.review,label:"Review"},null,8,["value"])]),f("section",Aa,[r(s,{value:e.md.communityRating,label:"Community Rating"},null,8,["value"]),r(s,{value:e.md.criticalRating,label:"Critical Rating"},null,8,["value"]),r(s,{value:e.md.ageRating,label:"Age Rating"},null,8,["value"])]),f("section",za,[r(m,{values:e.md.genres,label:"Genres",filter:"genres"},null,8,["values"]),r(m,{values:e.md.characters,label:"Characters",filter:"characters"},null,8,["values"]),r(m,{values:e.md.teams,label:"Teams",filter:"teams"},null,8,["values"]),r(m,{values:e.md.locations,label:"Locations",filter:"locations"},null,8,["values"]),r(m,{values:e.md.seriesGroups,label:"Series Groups",filter:"seriesGroups"},null,8,["values"]),r(m,{values:e.md.stories,label:"Stories",filter:"stories"},null,8,["values"]),r(m,{values:e.md.storyArcNumbers,label:"Story Arcs",filter:"storyArcs"},null,8,["values"]),r(m,{values:e.md.tags,label:"Tags",filter:"tags"},null,8,["values"])]),f("section",ja,[r(B,{value:e.md.contributors},null,8,["value"])]),f("section",Ua,[r(s,{value:e.md.notes,label:"Notes"},null,8,["value"])]),f("section",qa,[r(s,{value:e.md.tagger,label:"Tagger"},null,8,["value"]),r(s,{value:e.md.scanInfo,label:"Scan"},null,8,["value"])])]),f("footer",xa,[a.group==="c"?(d(),S(de,{key:0,id:"downloadButton",title:"Download Comic Archive",onClick:l.download},{default:V(()=>[a.group==="c"?(d(),S(ce,{key:0},{default:V(()=>[j(I(n.mdiDownload),1)]),_:1})):N("",!0),t[4]||(t[4]=j(" Download "))]),_:1},8,["onClick"])):N("",!0),l.isReadButtonShown?(d(),S(de,{key:1,to:l.readerRoute,title:"Read Comic",disabled:!l.isReadButtonEnabled},{default:V(()=>[r(ce,null,{default:V(()=>[j(I(l.readButtonIcon),1)]),_:1}),t[5]||(t[5]=j(" Read "))]),_:1},8,["to","disabled"])):N("",!0)])],32)):(d(),b("div",Ha,[t[6]||(t[6]=f("div",{id:"placeholderTitle"},"Tags Loading",-1)),r(_,{"model-value":n.progress,indeterminate:n.progress>=100,class:"placeholder"},null,8,["model-value","indeterminate"])]))]),_:1},8,["modelValue"])}const Sl=U(Ca,[["render",Ya],["__scopeId","data-v-6a6504d8"]]),Ka={name:"ToolbarSelect",props:{selectLabel:{type:String,default:""},maxSelectLen:{type:Number,default:0}},computed:{style(){if(this.maxSelectLen){const e=this.$vuetify.display.xs?"max-width":"width",t=this.maxSelectLen*.7+"em";return`${e}: ${t}`}return""}}};function Wa(e,t,a,i,n,l){return d(),S(Et,Y(e.$attrs,{label:a.selectLabel,"aria-label":a.selectLabel,class:"toolbarSelect",density:"compact","full-width":"","menu-props":{maxHeight:void 0},"hide-details":"auto",style:l.style,variant:"plain"}),ye({item:V(({item:o,props:s})=>[r(dt,Y(s,{density:"compact",variant:"plain",title:o.title,value:o.value}),null,16,["title","value"])]),_:2},[z(e.$slots,(o,s)=>({name:s,fn:V(v=>[ke(e.$slots,s,Y({props:o},v),void 0,!0)])}))]),1040,["label","aria-label","style"])}const _l=U(Ka,[["render",Wa],["__scopeId","data-v-e88da460"]]),wl=ct("v-spacer","div","VSpacer"),Za={name:"PaginationNavButton",props:{narrow:{type:Boolean,default:!0}},computed:{classes(){return{narrowButton:this.narrow}}}};function Qa(e,t,a,i,n,l){return d(),S(de,{variant:"plain",density:"compact",class:ae(["paginationNavButton",l.classes]),size:"medium"},ye({_:2},[z(e.$slots,(o,s)=>({name:s,fn:V(v=>[ke(e.$slots,s,Y({props:o},v),void 0,!0)])}))]),1032,["class"])}const Cl=U(Za,[["render",Qa],["__scopeId","data-v-0450dab6"]]),_e=Symbol.for("vuetify:v-slider");function Xa(e,t,a){const i=a==="vertical",n=t.getBoundingClientRect(),l="touches"in e?e.touches[0]:e;return i?l.clientY-(n.top+n.height/2):l.clientX-(n.left+n.width/2)}function Ja(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const el=re({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...mt(),...vt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),tl=e=>{const t=h(()=>parseFloat(e.min)),a=h(()=>parseFloat(e.max)),i=h(()=>+e.step>0?parseFloat(e.step):0),n=h(()=>Math.max(Te(i.value),Te(t.value)));function l(o){if(o=parseFloat(o),i.value<=0)return o;const s=Ge(o,t.value,a.value),v=t.value%i.value,m=Math.round((s-v)/i.value)*i.value+v;return parseFloat(Math.min(m,a.value).toFixed(n.value))}return{min:t,max:a,step:i,decimals:n,roundValue:l}},al=e=>{let{props:t,steps:a,onSliderStart:i,onSliderMove:n,onSliderEnd:l,getActiveThumb:o}=e;const{isRtl:s}=Se(),v=F(t,"reverse"),m=h(()=>t.direction==="vertical"),B=h(()=>m.value!==v.value),{min:_,max:c,step:E,decimals:q,roundValue:G}=a,W=h(()=>parseInt(t.thumbSize,10)),x=h(()=>parseInt(t.tickSize,10)),$=h(()=>parseInt(t.trackSize,10)),D=h(()=>(c.value-_.value)/E.value),Z=F(t,"disabled"),O=h(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),g=h(()=>t.error||t.disabled?void 0:t.trackColor??t.color),P=h(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),w=Ve(!1),C=Ve(0),R=be(),L=be();function p(u){var we;const k=t.direction==="vertical",je=k?"top":"left",Ue=k?"height":"width",qe=k?"clientY":"clientX",{[je]:xe,[Ue]:He}=(we=R.value)==null?void 0:we.$el.getBoundingClientRect(),Ye=Ja(u,qe);let he=Math.min(Math.max((Ye-xe-C.value)/He,0),1)||0;return(k?B.value:B.value!==s.value)&&(he=1-he),G(_.value+he*(c.value-_.value))}const A=u=>{l({value:p(u)}),w.value=!1,C.value=0},H=u=>{L.value=o(u),L.value&&(L.value.focus(),w.value=!0,L.value.contains(u.target)?C.value=Xa(u,L.value,t.direction):(C.value=0,n({value:p(u)})),i({value:p(u)}))},M={passive:!0,capture:!0};function ee(u){n({value:p(u)})}function ie(u){u.stopPropagation(),u.preventDefault(),A(u),window.removeEventListener("mousemove",ee,M),window.removeEventListener("mouseup",ie)}function ne(u){var k;A(u),window.removeEventListener("touchmove",ee,M),(k=u.target)==null||k.removeEventListener("touchend",ne)}function fe(u){var k;H(u),window.addEventListener("touchmove",ee,M),(k=u.target)==null||k.addEventListener("touchend",ne,{passive:!1})}function T(u){u.preventDefault(),H(u),window.addEventListener("mousemove",ee,M),window.addEventListener("mouseup",ie,{passive:!1})}const y=u=>{const k=(u-_.value)/(c.value-_.value)*100;return Ge(isNaN(k)?0:k,0,100)},te=F(t,"showTicks"),le=h(()=>te.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(u=>({value:u,position:y(u),label:u.toString()})):Object.keys(t.ticks).map(u=>({value:parseFloat(u),position:y(parseFloat(u)),label:t.ticks[u]})):D.value!==1/0?ft(D.value+1).map(u=>{const k=_.value+u*E.value;return{value:k,position:y(k)}}):[]:[]),oe=h(()=>le.value.some(u=>{let{label:k}=u;return!!k})),ue={activeThumbRef:L,color:F(t,"color"),decimals:q,disabled:Z,direction:F(t,"direction"),elevation:F(t,"elevation"),hasLabels:oe,isReversed:v,indexFromEnd:B,min:_,max:c,mousePressed:w,numTicks:D,onSliderMousedown:T,onSliderTouchstart:fe,parsedTicks:le,parseMouseMove:p,position:y,readonly:F(t,"readonly"),rounded:F(t,"rounded"),roundValue:G,showTicks:te,startOffset:C,step:E,thumbSize:W,thumbColor:O,thumbLabel:F(t,"thumbLabel"),ticks:F(t,"ticks"),tickSize:x,trackColor:g,trackContainerRef:R,trackFillColor:P,trackSize:$,vertical:m};return ht(_e,ue),ue},ll=re({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...ge()},"VSliderThumb"),sl=me()({name:"VSliderThumb",directives:{Ripple:pt},props:ll(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:i}=t;const n=$e(_e),{isRtl:l,rtlClasses:o}=Se();if(!n)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:v,disabled:m,thumbSize:B,thumbLabel:_,direction:c,isReversed:E,vertical:q,readonly:G,elevation:W,mousePressed:x,decimals:$,indexFromEnd:D}=n,Z=h(()=>m.value?void 0:W.value),{elevationClasses:O}=bt(Z),{textColorClasses:g,textColorStyles:P}=gt(s),{pageup:w,pagedown:C,end:R,home:L,left:p,right:A,down:H,up:M}=_t,ee=[w,C,R,L,p,A,H,M],ie=h(()=>v.value?[1,2,3]:[1,5,10]);function ne(T,y){if(!ee.includes(T.key))return;T.preventDefault();const te=v.value||.1,le=(e.max-e.min)/te;if([p,A,H,M].includes(T.key)){const ue=(q.value?[l.value?p:A,E.value?H:M]:D.value!==l.value?[p,M]:[A,M]).includes(T.key)?1:-1,u=T.shiftKey?2:T.ctrlKey?1:0;y=y+ue*te*ie.value[u]}else if(T.key===L)y=e.min;else if(T.key===R)y=e.max;else{const oe=T.key===C?1:-1;y=y-oe*te*(le>100?le/10:10)}return Math.max(e.min,Math.min(e.max,y))}function fe(T){const y=ne(T,e.modelValue);y!=null&&i("update:modelValue",y)}return ve(()=>{const T=X(D.value?100-e.position:e.position,"%");return r("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&x.value},e.class,o.value],style:[{"--v-slider-thumb-position":T,"--v-slider-thumb-size":X(B.value)},e.style],role:"slider",tabindex:m.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!G.value,"aria-orientation":c.value,onKeydown:G.value?void 0:fe},[r("div",{class:["v-slider-thumb__surface",g.value,O.value],style:{...P.value}},null),Be(r("div",{class:["v-slider-thumb__ripple",g.value],style:P.value},null),[[yt("ripple"),e.ripple,null,{circle:!0,center:!0}]]),r(kt,{origin:"bottom center"},{default:()=>{var y;return[Be(r("div",{class:"v-slider-thumb__label-container"},[r("div",{class:["v-slider-thumb__label"]},[r("div",null,[((y=a["thumb-label"])==null?void 0:y.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(v.value?$.value:1)])])]),[[St,_.value&&e.focused||_.value==="always"]])]}})])}),{}}}),rl=re({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ge()},"VSliderTrack"),il=me()({name:"VSliderTrack",props:rl(),emits:{},setup(e,t){let{slots:a}=t;const i=$e(_e);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:n,parsedTicks:l,rounded:o,showTicks:s,tickSize:v,trackColor:m,trackFillColor:B,trackSize:_,vertical:c,min:E,max:q,indexFromEnd:G}=i,{roundedClasses:W}=wt(o),{backgroundColorClasses:x,backgroundColorStyles:$}=Ne(B),{backgroundColorClasses:D,backgroundColorStyles:Z}=Ne(m),O=h(()=>`inset-${c.value?"block":"inline"}-${G.value?"end":"start"}`),g=h(()=>c.value?"height":"width"),P=h(()=>({[O.value]:"0%",[g.value]:"100%"})),w=h(()=>e.stop-e.start),C=h(()=>({[O.value]:X(e.start,"%"),[g.value]:X(w.value,"%")})),R=h(()=>s.value?(c.value?l.value.slice().reverse():l.value).map((p,A)=>{var M;const H=p.value!==E.value&&p.value!==q.value?X(p.position,"%"):void 0;return r("div",{key:p.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":p.position>=e.start&&p.position<=e.stop,"v-slider-track__tick--first":p.value===E.value,"v-slider-track__tick--last":p.value===q.value}],style:{[O.value]:H}},[(p.label||a["tick-label"])&&r("div",{class:"v-slider-track__tick-label"},[((M=a["tick-label"])==null?void 0:M.call(a,{tick:p,index:A}))??p.label])])}):[]);return ve(()=>r("div",{class:["v-slider-track",W.value,e.class],style:[{"--v-slider-track-size":X(_.value),"--v-slider-tick-size":X(v.value)},e.style]},[r("div",{class:["v-slider-track__background",D.value,{"v-slider-track__background--opacity":!!n.value||!B.value}],style:{...P.value,...Z.value}},null),r("div",{class:["v-slider-track__fill",x.value],style:{...C.value,...$.value}},null),s.value&&r("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":s.value==="always"}]},[R.value])])),{}}}),nl=re({...Gt(),...el(),...$t(),modelValue:{type:[Number,String],default:0}},"VSlider"),ol=me()({name:"VSlider",props:nl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:a,emit:i}=t;const n=be(),{rtlClasses:l}=Se(),o=tl(e),s=Ct(e,"modelValue",void 0,g=>o.roundValue(g??o.min.value)),{min:v,max:m,mousePressed:B,roundValue:_,onSliderMousedown:c,onSliderTouchstart:E,trackContainerRef:q,position:G,hasLabels:W,readonly:x}=al({props:e,steps:o,onSliderStart:()=>{i("start",s.value)},onSliderEnd:g=>{let{value:P}=g;const w=_(P);s.value=w,i("end",w)},onSliderMove:g=>{let{value:P}=g;return s.value=_(P)},getActiveThumb:()=>{var g;return(g=n.value)==null?void 0:g.$el}}),{isFocused:$,focus:D,blur:Z}=At(e),O=h(()=>G(s.value));return ve(()=>{const g=Ie.filterProps(e),P=!!(e.label||a.label||a.prepend);return r(Ie,Y({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||W.value,"v-slider--focused":$.value,"v-slider--pressed":B.value,"v-slider--disabled":e.disabled},l.value,e.class],style:e.style},g,{focused:$.value}),{...a,prepend:P?w=>{var C,R;return r(J,null,[((C=a.label)==null?void 0:C.call(a,w))??(e.label?r(zt,{id:w.id.value,class:"v-slider__label",text:e.label},null):void 0),(R=a.prepend)==null?void 0:R.call(a,w)])}:void 0,default:w=>{let{id:C,messagesId:R}=w;return r("div",{class:"v-slider__container",onMousedown:x.value?void 0:c,onTouchstartPassive:x.value?void 0:E},[r("input",{id:C.value,name:e.name||C.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:s.value},null),r(il,{ref:q,start:0,stop:O.value},{"tick-label":a["tick-label"]}),r(sl,{ref:n,"aria-describedby":R.value,focused:$.value,min:v.value,max:m.value,modelValue:s.value,"onUpdate:modelValue":L=>s.value=L,position:O.value,elevation:e.elevation,onFocus:D,onBlur:Z,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),ul={name:"PaginationSlider",props:{min:{type:Number,default:0}}};function dl(e,t,a,i,n,l){return d(),S(ol,Y({"thumb-size":"36",class:"paginationSlider",density:"compact","hide-details":"auto",min:a.min,rounded:!0,"show-ticks":"always",step:1,"thumb-label":"always"},e.$attrs),{"tick-label":V(({index:o})=>[j(I(o+a.min),1)]),_:1},16,["min"])}const Tl=U(ul,[["render",dl],["__scopeId","data-v-01b67afd"]]),cl={name:"PaginationToolbar"};function ml(e,t,a,i,n,l){return d(),S(jt,{class:"paginationToolbar codexToolbar",density:"compact",transform:"center bottom"},ye({_:2},[z(e.$slots,(o,s)=>({name:s,fn:V(v=>[ke(e.$slots,s,Y({props:o},v),void 0,!0)])}))]),1024)}const Vl=U(cl,[["render",ml],["__scopeId","data-v-cfa8cce0"]]);export{Kt as B,Sl as M,Le as N,Cl as P,_l as T,kl as V,wl as a,Tl as b,Vl as c,ka as g,Jt as p,la as t};
