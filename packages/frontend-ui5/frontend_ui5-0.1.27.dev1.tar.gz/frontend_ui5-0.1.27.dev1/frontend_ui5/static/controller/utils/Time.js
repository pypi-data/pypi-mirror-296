"use strict";sap.ui.define([],function(){"use strict";function t(t,e){e.push(T(o(t.start_date),o(t.end_date)));const n=o(t.end_date)-o(t.start_date);const r=g(e).size;return r===n}function e(t,e){const n=[t,...e];const r=o(t.end_date)-o(t.start_date);const s=_(n).size;return s===r}function n(e,n){const r=[];for(const t of e.participants){const s=n.filter(n=>n.person===t&&!(n.end_date.getTime()<=e.start_date.getTime())&&!(n.start_date.getTime()>=e.end_date.getTime()));const i=u(s);r.push(i)}return t(e,r)}function r(t){t.setMinutes(t.getMinutes()-t.getMinutes()%5);t.setSeconds(0);t.setMilliseconds(0);return t}function s(t){const e=t.getDay();if(e!==1){const n=e===0?1:8-e;t.setDate(t.getDate()+n)}return t}function i(t){const e=t.getDay();if(e!==1){const n=e===0?6:e-1;t.setDate(t.getDate()-n)}return t}function a(t){const e=t.getDay();if(e!==0){t.setDate(t.getDate()-e)}return t}function o(t){return t.getTime()/1e3/60/5}function c(t,e,n,r,s){const i=d(t,e,n,r,s);const a=d(t,e,n,r,s,true);const c=o(t.end_date)-o(t.start_date);let u=f(a,c,"forward");if(u&&u.getTime()==t.start_date.getTime()){u=f(a,c,"backward")}if(u){return u.getTime()==t.start_date.getTime()?null:u}u=f(i,c,"forward");if(u&&u.getTime()==t.start_date.getTime()){u=f(i,c,"backward")}if(u&&u.getTime()==t.start_date.getTime()){return null}return u}function f(t,e,n){if(n==="forward"){let n=1;const r=Array.from(t).sort();for(let t=0;t<=r.length-2;t++){if(r[t+1]-r[t]>1){n=1}else{n+=1}if(n==e){return new Date((r[t+1]-n+1)*1e3*60*5)}}}else{let n=1;const r=Array.from(t).sort().reverse();for(let t=0;t<=r.length-2;t++){if(r[t]-r[t+1]>1){n=1}else{n+=1}if(n==e){return new Date(r[t+1]*1e3*60*5)}}}}function d(t,e,n,r,s){let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;const a=[];const o=[];for(const c of t.participants){const f=n.filter(t=>t.person===c&&!(t.end_date.getTime()<r.getTime())&&!(t.start_date.getTime()>s.getTime())&&(!i||t.is_preferred));const d=e.filter(e=>t.id!==e.id&&e.participants.includes(c)&&!(e.end_date.getTime()<r.getTime())&&!(e.start_date.getTime()>s.getTime()));a.push(u(f));o.push(u(d))}if(a.length===0){return null}let c=a[0];for(let t=1;t<a.length;t++){c=c.intersection(a[t])}for(let t=0;t<o.length;t++){c=c.difference(o[t])}return c}function u(t){const e=new Set;for(let n=0;n<t.length;n++){const r=o(t[n].start_date);const s=o(t[n].end_date);for(let t=r;t<s;t++){e.add(t)}}return e}function l(t,e){let n=0;const r=new Set(t.participants);for(const s of e){if(m(s,t)){if(new Set(s.participants).intersection(r).size>=1){n+=1;if(n>1){break}}}}return n-1>0}function g(t){let e=new Set(t[0]);for(let n=1;n<t.length;n++){e=e.intersection(t[n])}return e}function _(t){if(t.length===0){return new Set}const e=t.map(t=>{const e=o(t.start_date);const n=o(t.end_date);return T(e,n)});let n=new Set(e[0]);for(let t=1;t<e.length;t++){n=n.intersection(e[t])}return n}function m(t,e){const n=t.start_date.getTime();const r=t.end_date.getTime();const s=e.start_date.getTime();const i=e.end_date.getTime();if(n==i){return false}else if(s==r){return false}else if(n<s&&r>i){return true}else if(s<n&&i>r){return true}else{return n<=i&&i<=r||n<=s&&s<=r}}function T(t,e){const n=new Set;for(let r=t;r<e;r++){n.add(r)}return n}var p={__esModule:true};p.dateFitsInAllRanges=t;p.dateFitsInAllSlots=e;p.dateFitsInSlots=n;p.dateToFiveMinutes=r;p.dateToNextMonday=s;p.dateToPreviousMonday=i;p.dateToPreviousSunday=a;p.findBetterStartDate=c;p.getRanges=u;p.hasConflictingAppointments=l;p.overlapOfSets=g;return p});
//# sourceMappingURL=Time.js.map