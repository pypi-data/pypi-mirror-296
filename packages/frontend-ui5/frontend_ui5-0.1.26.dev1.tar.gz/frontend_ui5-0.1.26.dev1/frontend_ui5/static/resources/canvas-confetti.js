sap.ui.define(["exports"],function(t){"use strict";var e={};(function t(e,a,r,n){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);var o=typeof Path2D==="function"&&typeof DOMMatrix==="function";var l=function(){if(!e.OffscreenCanvas){return false}var t=new OffscreenCanvas(1,1);var a=t.getContext("2d");a.fillRect(0,0,1,1);var r=t.transferToImageBitmap();try{a.createPattern(r,"no-repeat")}catch(t){return false}return true}();function s(){}function c(t){var r=a.exports.Promise;var n=r!==void 0?r:e.Promise;if(typeof n==="function"){return new n(t)}t(s,s);return null}var f=function(t,e){return{transform:function(a){if(t){return a}if(e.has(a)){return e.get(a)}var r=new OffscreenCanvas(a.width,a.height);var n=r.getContext("2d");n.drawImage(a,0,0);e.set(a,r);return r},clear:function(){e.clear()}}}(l,new Map);var u=function(){var t=Math.floor(1e3/60);var e,a;var r={};var n=0;if(typeof requestAnimationFrame==="function"&&typeof cancelAnimationFrame==="function"){e=function(e){var a=Math.random();r[a]=requestAnimationFrame(function i(o){if(n===o||n+t-1<o){n=o;delete r[a];e()}else{r[a]=requestAnimationFrame(i)}});return a};a=function(t){if(r[t]){cancelAnimationFrame(r[t])}}}else{e=function(e){return setTimeout(e,t)};a=function(t){return clearTimeout(t)}}return{frame:e,cancel:a}}();var h=function(){var e;var a;var n={};function o(t){function e(e,a){t.postMessage({options:e||{},callback:a})}t.init=function e(a){var r=a.transferControlToOffscreen();t.postMessage({canvas:r},[r])};t.fire=function r(i,o,l){if(a){e(i,null);return a}var s=Math.random().toString(36).slice(2);a=c(function(r){function o(e){if(e.data.callback!==s){return}delete n[s];t.removeEventListener("message",o);a=null;f.clear();l();r()}t.addEventListener("message",o);e(i,s);n[s]=o.bind(null,{data:{callback:s}})});return a};t.reset=function e(){t.postMessage({reset:true});for(var a in n){n[a]();delete n[a]}}}return function(){if(e){return e}if(!r&&i){var a=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{e=new Worker(URL.createObjectURL(new Blob([a])))}catch(t){typeof console!==undefined&&typeof console.warn==="function"?console.warn("ðŸŽŠ Could not load worker",t):null;return null}o(e)}return e}}();var d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:false,scalar:1};function v(t,e){return e?e(t):t}function m(t){return!(t===null||t===undefined)}function g(t,e,a){return v(t&&m(t[e])?t[e]:d[e],a)}function p(t){return t<0?0:Math.floor(t)}function b(t,e){return Math.floor(Math.random()*(e-t))+t}function M(t){return parseInt(t,16)}function y(t){return t.map(w)}function w(t){var e=String(t).replace(/[^0-9a-f]/gi,"");if(e.length<6){e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}return{r:M(e.substring(0,2)),g:M(e.substring(2,4)),b:M(e.substring(4,6))}}function x(t){var e=g(t,"origin",Object);e.x=g(e,"x",Number);e.y=g(e,"y",Number);return e}function C(t){t.width=document.documentElement.clientWidth;t.height=document.documentElement.clientHeight}function I(t){var e=t.getBoundingClientRect();t.width=e.width;t.height=e.height}function T(t){var e=document.createElement("canvas");e.style.position="fixed";e.style.top="0px";e.style.left="0px";e.style.pointerEvents="none";e.style.zIndex=t;return e}function P(t,e,a,r,n,i,o,l,s){t.save();t.translate(e,a);t.rotate(i);t.scale(r,n);t.arc(0,0,1,o,l,s);t.restore()}function E(t){var e=t.angle*(Math.PI/180);var a=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*a-Math.random()*a),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function S(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift;e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity;e.velocity*=e.decay;if(e.flat){e.wobble=0;e.wobbleX=e.x+10*e.scalar;e.wobbleY=e.y+10*e.scalar;e.tiltSin=0;e.tiltCos=0;e.random=1}else{e.wobble+=e.wobbleSpeed;e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble);e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);e.tiltAngle+=.1;e.tiltSin=Math.sin(e.tiltAngle);e.tiltCos=Math.cos(e.tiltAngle);e.random=Math.random()+2}var a=e.tick++/e.totalTicks;var r=e.x+e.random*e.tiltCos;var n=e.y+e.random*e.tiltSin;var i=e.wobbleX+e.random*e.tiltCos;var l=e.wobbleY+e.random*e.tiltSin;t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-a)+")";t.beginPath();if(o&&e.shape.type==="path"&&typeof e.shape.path==="string"&&Array.isArray(e.shape.matrix)){t.fill(A(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(i-r)*.1,Math.abs(l-n)*.1,Math.PI/10*e.wobble))}else if(e.shape.type==="bitmap"){var s=Math.PI/10*e.wobble;var c=Math.abs(i-r)*.1;var u=Math.abs(l-n)*.1;var h=e.shape.bitmap.width*e.scalar;var d=e.shape.bitmap.height*e.scalar;var v=new DOMMatrix([Math.cos(s)*c,Math.sin(s)*c,-Math.sin(s)*u,Math.cos(s)*u,e.x,e.y]);v.multiplySelf(new DOMMatrix(e.shape.matrix));var m=t.createPattern(f.transform(e.shape.bitmap),"no-repeat");m.setTransform(v);t.globalAlpha=1-a;t.fillStyle=m;t.fillRect(e.x-h/2,e.y-d/2,h,d);t.globalAlpha=1}else if(e.shape==="circle"){t.ellipse?t.ellipse(e.x,e.y,Math.abs(i-r)*e.ovalScalar,Math.abs(l-n)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):P(t,e.x,e.y,Math.abs(i-r)*e.ovalScalar,Math.abs(l-n)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI)}else if(e.shape==="star"){var g=Math.PI/2*3;var p=4*e.scalar;var b=8*e.scalar;var M=e.x;var y=e.y;var w=5;var x=Math.PI/w;while(w--){M=e.x+Math.cos(g)*b;y=e.y+Math.sin(g)*b;t.lineTo(M,y);g+=x;M=e.x+Math.cos(g)*p;y=e.y+Math.sin(g)*p;t.lineTo(M,y);g+=x}}else{t.moveTo(Math.floor(e.x),Math.floor(e.y));t.lineTo(Math.floor(e.wobbleX),Math.floor(n));t.lineTo(Math.floor(i),Math.floor(l));t.lineTo(Math.floor(r),Math.floor(e.wobbleY))}t.closePath();t.fill();return e.tick<e.totalTicks}function O(t,e,a,i,o){var l=e.slice();var s=t.getContext("2d");var h;var d;var v=c(function(e){function c(){h=d=null;s.clearRect(0,0,i.width,i.height);f.clear();o();e()}function v(){if(r&&!(i.width===n.width&&i.height===n.height)){i.width=t.width=n.width;i.height=t.height=n.height}if(!i.width&&!i.height){a(t);i.width=t.width;i.height=t.height}s.clearRect(0,0,i.width,i.height);l=l.filter(function(t){return S(s,t)});if(l.length){h=u.frame(v)}else{c()}}h=u.frame(v);d=c});return{addFettis:function(t){l=l.concat(t);return v},canvas:t,promise:v,reset:function(){if(h){u.cancel(h)}if(d){d()}}}}function k(t,a){var r=!t;var n=!!g(a||{},"resize");var o=false;var l=g(a,"disableForReducedMotion",Boolean);var s=i&&!!g(a||{},"useWorker");var f=s?h():null;var u=r?C:I;var d=t&&f?!!t.__confetti_initialized:false;var v=typeof matchMedia==="function"&&matchMedia("(prefers-reduced-motion)").matches;var m;function M(e,a,r){var n=g(e,"particleCount",p);var i=g(e,"angle",Number);var o=g(e,"spread",Number);var l=g(e,"startVelocity",Number);var s=g(e,"decay",Number);var c=g(e,"gravity",Number);var f=g(e,"drift",Number);var h=g(e,"colors",y);var d=g(e,"ticks",Number);var v=g(e,"shapes");var M=g(e,"scalar");var w=!!g(e,"flat");var C=x(e);var I=n;var T=[];var P=t.width*C.x;var S=t.height*C.y;while(I--){T.push(E({x:P,y:S,angle:i,spread:o,startVelocity:l,color:h[I%h.length],shape:v[b(0,v.length)],ticks:d,decay:s,gravity:c,drift:f,scalar:M,flat:w}))}if(m){return m.addFettis(T)}m=O(t,T,u,a,r);return m.promise}function w(a){var i=l||g(a,"disableForReducedMotion",Boolean);var s=g(a,"zIndex",Number);if(i&&v){return c(function(t){t()})}if(r&&m){t=m.canvas}else if(r&&!t){t=T(s);document.body.appendChild(t)}if(n&&!d){u(t)}var h={width:t.width,height:t.height};if(f&&!d){f.init(t)}d=true;if(f){t.__confetti_initialized=true}function p(){if(f){var e={getBoundingClientRect:function(){if(!r){return t.getBoundingClientRect()}}};u(e);f.postMessage({resize:{width:e.width,height:e.height}});return}h.width=h.height=null}function b(){m=null;if(n){o=false;e.removeEventListener("resize",p)}if(r&&t){if(document.body.contains(t)){document.body.removeChild(t)}t=null;d=false}}if(n&&!o){o=true;e.addEventListener("resize",p,false)}if(f){return f.fire(a,h,b)}return M(a,h,b)}w.reset=function(){if(f){f.reset()}if(m){m.reset()}};return w}var B;function F(){if(!B){B=k(null,{useWorker:true,resize:true})}return B}function A(t,e,a,r,n,i,o){var l=new Path2D(t);var s=new Path2D;s.addPath(l,new DOMMatrix(e));var c=new Path2D;c.addPath(s,new DOMMatrix([Math.cos(o)*n,Math.sin(o)*n,-Math.sin(o)*i,Math.cos(o)*i,a,r]));return c}function R(t){if(!o){throw new Error("path confetti are not supported in this browser")}var e,a;if(typeof t==="string"){e=t}else{e=t.path;a=t.matrix}var r=new Path2D(e);var n=document.createElement("canvas");var i=n.getContext("2d");if(!a){var l=1e3;var s=l;var c=l;var f=0;var u=0;var h,d;for(var v=0;v<l;v+=2){for(var m=0;m<l;m+=2){if(i.isPointInPath(r,v,m,"nonzero")){s=Math.min(s,v);c=Math.min(c,m);f=Math.max(f,v);u=Math.max(u,m)}}}h=f-s;d=u-c;var g=10;var p=Math.min(g/h,g/d);a=[p,0,0,p,-Math.round(h/2+s)*p,-Math.round(d/2+c)*p]}return{type:"path",path:e,matrix:a}}function N(t){var e,a=1,r="#000000",n='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';if(typeof t==="string"){e=t}else{e=t.text;a="scalar"in t?t.scalar:a;n="fontFamily"in t?t.fontFamily:n;r="color"in t?t.color:r}var i=10*a;var o=""+i+"px "+n;var l=new OffscreenCanvas(i,i);var s=l.getContext("2d");s.font=o;var c=s.measureText(e);var f=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft);var u=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent);var h=2;var d=c.actualBoundingBoxLeft+h;var v=c.actualBoundingBoxAscent+h;f+=h+h;u+=h+h;l=new OffscreenCanvas(f,u);s=l.getContext("2d");s.font=o;s.fillStyle=r;s.fillText(e,d,v);var m=1/a;return{type:"bitmap",bitmap:l.transferToImageBitmap(),matrix:[m,0,0,m,-f*m/2,-u*m/2]}}a.exports=function(){return F().apply(this,arguments)};a.exports.reset=function(){F().reset()};a.exports.create=k;a.exports.shapeFromPath=R;a.exports.shapeFromText=N})(function(){if(typeof window!=="undefined"){return window}if(typeof self!=="undefined"){return self}return this||{}}(),e,false);var a=e.exports;var r=e.exports.create;try{Object.defineProperty(a,"__"+"esModule",{value:true});a.default=a}catch(t){}t.create=r;t.default=a;Object.defineProperty(t,"__esModule",{value:true})});
//# sourceMappingURL=canvas-confetti.js.map