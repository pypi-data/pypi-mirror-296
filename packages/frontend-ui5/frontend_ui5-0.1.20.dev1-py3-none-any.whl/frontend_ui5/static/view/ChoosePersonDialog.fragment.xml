<core:FragmentDefinition
  xmlns:layout="sap.ui.layout"
  xmlns="sap.m"
  xmlns:f="sap.ui.layout.form"
  xmlns:core="sap.ui.core"
>
  <Dialog
    id="idChoosePersonDialog"
    busyIndicatorDelay="100"
    title="{i18n>choosePersonDialog.title}"
  >
    <buttons>
      <Button
        text="{i18n>ok}"
        type="Emphasized"
        press="onChoosePersonDialogOk"
      />
    </buttons>
    <f:SimpleForm
      id="idPersonListForm"
      editable="true"
      layout="ResponsiveGridLayout"
      singleContainerFullSize="false"
    >
      <List
        id="idChoosePersonList"
        mode="MultiSelect"
        selectionChange="onPersonSelectionChange"
        items="{path: 'userData>/person_list',
                        sorter:{ path: '', comparator: '.comparePersons'}}"
      >
        <items>
          <StandardListItem
            title="{userData>first_name} {userData>last_name}"
            selected="{path: 'userData>id', formatter: '.getPersonSelected'}"
          >
            <customData>
              <core:CustomData
                key="personId"
                value="{userData>id}"
              />
            </customData>
          </StandardListItem>
        </items>
      </List>
    </f:SimpleForm>
  </Dialog>
</core:FragmentDefinition>
