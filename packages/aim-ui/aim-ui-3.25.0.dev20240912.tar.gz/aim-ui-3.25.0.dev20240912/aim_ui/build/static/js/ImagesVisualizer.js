(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[13],{1005:function(e,t,n){"use strict";var a=n(41),i={GET_IMAGES:"runs/search/images",GET_IMAGES_BY_URIS:"runs/images/get-batch"};var o={endpoints:i,getImagesExploreData:function(e){return a.a.getStream(i.GET_IMAGES,e)},getImagesByURIs:function(e){return a.a.getStream(i.GET_IMAGES_BY_URIS,e,{method:"POST"})}};t.a=o},1573:function(e,t,n){},1602:function(e,t,n){"use strict";n.r(t);var a=n(8),i=n.n(a),o=n(4),c=n(27),r=n(7),s=n(0),l=n.n(s),d=n(219),u=n(750),h=n(954),v=n(280),p=n(11),j=n(355),m=n(745),f=n(1005),b=n(146),O=n(760),g=(n(1573),n(1));function x(e){var t,n,a,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new _(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function _(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(_=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new _(e)}function y(e){var t,n,a,s=e.data,_=e.isLoading,y=l.a.useRef(null),C=l.a.useState({active:!1,key:null}),S=Object(r.a)(C,2),P=S[0],w=S[1],N=l.a.useState(null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.offsetHeight),I=Object(r.a)(N,2),k=I[0],T=I[1],E=l.a.useState(null===y||void 0===y||null===(n=y.current)||void 0===n?void 0:n.offsetWidth),z=Object(r.a)(E,2),R=z[0],A=z[1];Object(d.c)((function(){var e;return A(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.offsetWidth)}),y),l.a.useEffect((function(){m.a.init()}),[]),l.a.useEffect((function(){var e;T(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.offsetHeight)}),[null===y||void 0===y||null===(a=y.current)||void 0===a?void 0:a.offsetHeight]);var B=l.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];w({key:e.key,active:t})}),[]),D=l.a.useMemo((function(){return{alignmentType:j.b.Height,mediaItemSize:25,imageRendering:j.a.Pixelated}}),[]),H=l.a.useMemo((function(){return{step:{group:"record",label:"record.step",value:"step",readonly:!1,order:"desc"}}}),[]);return Object(g.jsx)(p.a,{children:Object(g.jsx)(v.a,{className:"VisualizationLoader",isLoading:!!e.isLoading,children:Object(g.jsx)("div",{className:"ImagesVisualizer",ref:y,children:Object(g.jsx)(h.a,{mediaType:u.a.IMAGE,getBlobsData:function(e){var t=f.a.getImagesByURIs(e);return{abort:t.abort,call:function(){return t.call().then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,s,l,d,u,h,v,p,j,f,g,_;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(b.a)(t),a=Object(b.b)(n),c=Object(b.c)(a,1),s=!0,l=!1,e.prev=5,u=x(c);case 7:return e.next=9,u.next();case 9:return h=e.sent,s=h.done,e.next=13,h.value;case 13:if(v=e.sent,s){e.next=21;break}p=v,j=Object(r.a)(p,2),f=j[0],g=j[1],_=f[0],m.a.emit(_,Object(o.a)({},_,Object(O.a)(g)));case 18:s=!0,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),l=!0,d=e.t0;case 27:if(e.prev=27,e.prev=28,s||null==u.return){e.next=32;break}return e.next=32,u.return();case 32:if(e.prev=32,!l){e.next=35;break}throw d;case 35:return e.finish(32);case 36:return e.finish(27);case 37:case"end":return e.stop()}}),e,null,[[5,23,27,37],[28,,32,36]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){"AbortError"===e.name||console.log("Unhandled error: ")}))}}},data:null===s||void 0===s?void 0:s.imageSetData,orderedMap:null===s||void 0===s?void 0:s.orderedMap,isLoading:!s||_,panelResizing:!1,tableHeight:"0",wrapperOffsetHeight:k||0,wrapperOffsetWidth:R||0,sortFieldsDict:H,focusedState:P,additionalProperties:D,onActivePointChange:B,illustrationConfig:{title:"No Tracked Images"}})})})})}y.displayName="ImagesVisualizer";var C=Object(s.memo)(y);t.default=C},730:function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return g}));var a,i,o,c=n(4),r=n(750),s=n(355),l=40,d=17,u=6,h=20,v=200,p=300,j=200,m={step:1,min:15,max:70};var f=[{label:"Original Size",value:s.b.Original},{label:"Width",value:s.b.Width},{label:"Height",value:s.b.Height}],b=(a={},Object(c.a)(a,r.a.AUDIO,(function(){return{width:276,height:40}})),Object(c.a)(a,r.a.IMAGE,(function(e){var t,n,a=e.data,i=e.index,o=void 0===i?0:i,c=e.additionalProperties,r=e.wrapperOffsetWidth,l=e.wrapperOffsetHeight,d=void 0===l?0:l;if((null===c||void 0===c?void 0:c.alignmentType)===s.b.Width)t=r*(null===c||void 0===c?void 0:c.mediaItemSize)/100+6,n=r*(null===c||void 0===c?void 0:c.mediaItemSize)/100;else if((null===c||void 0===c?void 0:c.alignmentType)===s.b.Height&&a){var u,h;t=(n=d*(null===c||void 0===c?void 0:c.mediaItemSize)/100)/(null===a||void 0===a||null===(u=a[o])||void 0===u?void 0:u.height)*(null===a||void 0===a||null===(h=a[o])||void 0===h?void 0:h.width)+6||100}else{var v,p;t=(null===a||void 0===a||null===(v=a[o])||void 0===v?void 0:v.width)+6,n=(null===a||void 0===a||null===(p=a[o])||void 0===p?void 0:p.height)||100}return{width:t,height:n}})),a),O=(i={},Object(c.a)(i,r.a.AUDIO,(function(){return 113})),Object(c.a)(i,r.a.IMAGE,(function(e){var t,n=e.maxHeight,a=e.maxWidth,i=e.mediaItemHeight,o=e.alignmentType,c=e.wrapperOffsetWidth,r=e.mediaItemSize,d=e.stacking;if(o===s.b.Original)t=n;else if(o===s.b.Width){t=n/a*(c*r/100)}else t=i;return t+33+l+(d?h:0)})),i),g=(o={},Object(c.a)(o,r.a.AUDIO,(function(e){return e+l})),Object(c.a)(o,r.a.IMAGE,(function(e){var t=e.alignmentType,n=e.maxHeight,a=e.maxWidth,i=e.wrapperOffsetWidth,o=e.mediaItemSize,c=e.mediaItemHeight;return t===s.b.Original?n+l:t===s.b.Width?n/a*(i*o/100)+l:c+l})),o)},745:function(e,t,n){"use strict";var a=n(281),i=Object(a.a)({});t.a=i},750:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.IMAGE="image",e.AUDIO="audio"}(a||(a={}))},753:function(e,t,n){"use strict";var a=n(268);t.a=function(e,t,n,i,o){if(!n||!t)return{top:e.top,left:e.left};var c,r,s=10;if(i){var l=e.right-e.left,d=e.right-l/2;if(c=d-t.width/2-s<n.left?e.right-(e.right-n.left)+s:d+t.width/2>n.right?e.left-t.width+(n.right-e.left):d-t.width/2,o===a.a.Top)r=n.top-(t.height-30);else{var u,h=null!==(u=document.body.getBoundingClientRect().bottom)&&void 0!==u?u:0,v=n.bottom-30;r=h<n.bottom+t.height-40?h-t.height-s:v}}else c=e.left<n.left?(e.right<n.left?n.left:e.right)+s:e.right+20+t.width>=n.right?e.left-t.width-s:e.right+s,r=e.top<n.top?n.top+s:e.top+t.height>n.bottom?n.bottom-t.height-s:e.top+s;return{left:c,top:r}}},756:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(72),c=n(18),r=n.n(c),s=n(144),l=n(353),d=n(705),u=n(622),h=n(411),v=n(5),p=n(220),j=n(11),m=n(73),f=n(268),b=n(97),O=n(171),g=n(16),x=n(32),_=n(62),y=n(93),C=n(134),S=n(379),P=n(20),w=(n(767),n(1)),N=i.a.forwardRef((function(e,t){var n=e.tooltipContent,a=e.tooltipAppearance,c=void 0===a?f.a.Auto:a,N=e.focusedState,I=e.chartType,k=e.alignmentConfig,T=e.selectOptions,E=e.onRunsTagsChange,z=e.onChangeTooltip,R=n||{},A=R.selectedProps,B=void 0===A?{}:A,D=R.groupConfig,H=void 0===D?{}:D,M=R.name,L=void 0===M?"":M,V=R.context,W=void 0===V?{}:V,F=R.run,U=i.a.useMemo((function(){return c===f.a.Top||c===f.a.Bottom}),[c]);function G(){var e,t,n,a;return(null===N||void 0===N?void 0:N.active)&&(null===F||void 0===F?void 0:F.hash)?Object(w.jsxs)(j.a,{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)(d.a,{}),Object(w.jsxs)("div",{className:"PopoverContent__box",children:[Object(w.jsxs)(u.a,{to:m.a.Run_Detail.replace(":runHash",null===F||void 0===F?void 0:F.hash),component:s.b,className:"PopoverContent__runDetails",underline:"none",children:[Object(w.jsx)(v.f,{name:"link"}),Object(w.jsx)("div",{children:"Run Details"})]}),Object(w.jsxs)(u.a,{to:m.a.Experiment.replace(":experimentId",null===F||void 0===F||null===(e=F.props)||void 0===e||null===(t=e.experiment)||void 0===t?void 0:t.id),component:s.b,className:"PopoverContent__runDetails",underline:"none",children:[Object(w.jsx)(v.f,{name:"link"}),Object(w.jsx)("div",{children:"Experiment Detail"})]})]})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)(d.a,{}),Object(w.jsx)("div",{className:"PopoverContent__box",children:Object(w.jsx)(j.a,{children:Object(w.jsx)(p.a,{runHash:null===F||void 0===F?void 0:F.hash,tags:null!==(n=null===F||void 0===F||null===(a=F.props)||void 0===a?void 0:a.tags)&&void 0!==n?n:[],onRunsTagsChange:E})})})]})]}):null}return Object(w.jsx)(j.a,{children:Object(w.jsxs)(h.a,{ref:t,className:"PopoverContent__container",style:{pointerEvents:(null===N||void 0===N?void 0:N.active)?"auto":"none"},elevation:0,children:[(null===N||void 0===N?void 0:N.active)&&(null===F||void 0===F?void 0:F.hash)&&z?Object(w.jsxs)("div",{className:"PopoverContent__actionButtons",children:[Object(w.jsx)(l.a,{title:"Pin to top",children:Object(w.jsx)("div",{children:Object(w.jsx)(v.c,{onClick:function(){return z({appearance:f.a.Top})},withOnlyIcon:!0,size:"xSmall",className:r()("PopoverContent__actionButtons__actionButton",{active:c===f.a.Top}),children:Object(w.jsx)(v.f,{name:"pin-to-top",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})}),Object(w.jsx)(l.a,{title:"Flexible",children:Object(w.jsx)("div",{children:Object(w.jsx)(v.c,{onClick:function(){return z({appearance:f.a.Auto})},withOnlyIcon:!0,size:"xSmall",className:r()("PopoverContent__actionButtons__actionButton",{active:c===f.a.Auto}),children:Object(w.jsx)(v.f,{name:"flexible",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})}),Object(w.jsx)(l.a,{title:"Pin to bottom",children:Object(w.jsx)("div",{children:Object(w.jsx)(v.c,{onClick:function(){z({appearance:f.a.Bottom})},withOnlyIcon:!0,size:"xSmall",className:r()("PopoverContent__actionButtons__actionButton",{active:c===f.a.Bottom}),children:Object(w.jsx)(v.f,{name:"pin-to-bottom",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})})]}):null,Object(w.jsxs)("div",{className:r()("PopoverContent",{PopoverContent__pinned:U,PopoverContent__fixed:(null===N||void 0===N?void 0:N.active)&&(null===F||void 0===F?void 0:F.hash)&&z}),children:[Object(w.jsxs)("div",{className:r()("PopoverContent__boxWrapper ScrollBar__hidden",{pinned:U}),children:[function(){switch(I){case g.b.LineChart:var e;return Object(w.jsx)(j.a,{children:Object(w.jsxs)("div",{className:"PopoverContent__box",children:[Object(w.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(w.jsx)(v.n,{children:"Y: "}),Object(w.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(w.jsx)(v.n,{weight:400,children:Object(_.a)(L)?Object(y.a)(L):L}),Object(w.jsx)(v.n,{className:"PopoverContent__contextValue",children:Object(b.a)(W)}),Object(w.jsx)(v.n,{component:"p",className:"PopoverContent__axisValue",children:null===N||void 0===N?void 0:N.yValue})]})]}),Object(w.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(w.jsx)(v.n,{children:"X: "}),Object(w.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(w.jsx)(v.n,{weight:400,children:Object(O.b)(k)}),(null===k||void 0===k?void 0:k.type)===g.a.CUSTOM_METRIC&&Object(w.jsx)(v.n,{className:"PopoverContent__contextValue",children:Object(b.a)(W)}),Object(w.jsx)(v.n,{component:"p",className:"PopoverContent__axisValue",children:Object(O.a)({xAxisTickValue:null!==(e=null===N||void 0===N?void 0:N.xValue)&&void 0!==e?e:null,type:null===k||void 0===k?void 0:k.type})})]})]})]})});case g.b.HighPlot:var t,a="",i="",o="".concat(null===N||void 0===N?void 0:N.xValue);if(Object(S.a)(o)){var c=JSON.parse(Object(P.b)(o));a=c.metricName,i=c.contextName}else{var r,s;a=null===(r=o||"")||void 0===r?void 0:r.split("-")[0],i=null===(s=o||"")||void 0===s?void 0:s.split("-")[1]}return Object(w.jsx)(j.a,{children:Object(w.jsxs)("div",{className:"PopoverContent__box",children:[Object(w.jsxs)("div",{className:"PopoverContent__value",children:[Object(w.jsx)("strong",{children:Object(_.a)(a)?Object(y.a)(a):null!==(t=a)&&void 0!==t?t:"--"})," ",i||null]}),Object(w.jsxs)("div",{className:"PopoverContent__value",children:["Value: ",null===N||void 0===N?void 0:N.yValue]})]})});case g.b.ImageSet:var l=n.step,d=void 0===l?"":l,u=n.index,h=void 0===u?"":u,p=n.caption,m=void 0===p?"":p,f=n.images_name,x=void 0===f?"":f;return Object(w.jsx)(j.a,{children:Object(w.jsxs)("div",{className:"PopoverContent__box PopoverContent__imageSetBox",children:[Object(w.jsx)("strong",{children:m}),Object(w.jsxs)("div",{className:"PopoverContent__value",children:[Object(w.jsx)("strong",{children:x}),Object(w.jsx)(v.n,{className:"PopoverContent__contextValue",children:Object(b.a)(W)})]}),Object(w.jsxs)("div",{className:"PopoverContent__value",children:["Step: ",Object(w.jsx)("strong",{children:d}),Object(w.jsxs)(v.n,{className:"PopoverContent__contextValue",children:["Index: ",Object(w.jsx)("strong",{children:h})]})]})]})});case g.b.ScatterPlot:return Object(w.jsx)(j.a,{children:Object(w.jsxs)("div",{className:"PopoverContent__box",children:[Object(w.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(w.jsx)(v.n,{children:"Y: "}),Object(w.jsx)("span",{className:"PopoverContent__headerValue",children:Object(w.jsx)(v.n,{component:"p",className:"PopoverContent__axisValue",children:null===N||void 0===N?void 0:N.yValue})})]}),Object(w.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(w.jsx)(v.n,{children:"X: "}),Object(w.jsx)("span",{className:"PopoverContent__headerValue",children:Object(w.jsx)(v.n,{component:"p",className:"PopoverContent__axisValue",children:null===N||void 0===N?void 0:N.xValue})})]})]})});default:return null}}(),U&&G()]}),o.a.isEmpty(B)&&o.a.isEmpty(H)?null:Object(w.jsxs)("div",{className:r()("PopoverContent__boxContainer ScrollBar__hidden",{pinned:U}),children:[o.a.isEmpty(B)?null:Object(w.jsx)(j.a,{children:Object(w.jsxs)("div",{className:"PopoverContent__boxWrapper",children:[Object(w.jsx)(d.a,{orientation:U?"vertical":"horizontal"}),Object(w.jsxs)("div",{className:"PopoverContent__box ScrollBar__hidden",children:[Object(w.jsx)("div",{className:"PopoverContent__subtitle1",children:"Selected Fields"}),Object.keys(B).map((function(e){return Object(w.jsxs)("div",{className:"PopoverContent__value",children:[Object(w.jsx)(v.n,{size:12,tint:50,children:"".concat(Object(C.a)(T,e),": ")}),Object(w.jsx)(v.n,{size:12,children:Object(x.a)(B[e])})]},e)}))]})]})}),o.a.isEmpty(H)?null:Object(w.jsx)(j.a,{children:Object(w.jsxs)("div",{className:"PopoverContent__boxWrapper",children:[Object(w.jsx)(d.a,{orientation:U?"vertical":"horizontal"}),Object(w.jsxs)("div",{className:"PopoverContent__box ScrollBar__hidden",children:[Object(w.jsx)("div",{className:"PopoverContent__subtitle1",children:"Group Config"}),Object.keys(H).map((function(e){return o.a.isEmpty(H[e])?null:Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)("div",{className:"PopoverContent__subtitle2",children:e}),Object.keys(H[e]).map((function(t){var n=Object(_.a)(H[e][t])?Object(y.a)(H[e][t]):H[e][t];return Object(w.jsxs)("div",{className:"PopoverContent__value",children:[Object(w.jsx)(v.n,{size:12,tint:50,children:"".concat(t,": ")}),Object(w.jsx)(v.n,{size:12,children:Object(x.a)(n)})]},t)}))]},e)}))]})]})}),!U&&G()]})]})]})})}));t.a=i.a.memo(N)},758:function(e,t,n){"use strict";var a=n(4),i=n(0),o=n.n(i),c=n(18),r=n.n(c),s=n(5),l=n(11),d=(n(759),n(1));function u(e){var t=e.index,n=void 0===t?0:t,i=e.items,c=e.depth,u=e.onDepthChange,h=e.style,v=void 0===h?{}:h,p=e.valueLabelDisplay,j=void 0===p?"off":p,m=e.label,f=e.className,b=void 0===f?"":f,O=o.a.useMemo((function(){return i.map((function(e,t){return{value:t}}))}),[i]),g=o.a.useCallback((function(e,t){"function"===typeof u&&u(e,t)}),[u]),x=i.length-1;return 0===i.length?null:Object(d.jsx)(l.a,{children:Object(d.jsx)("div",{className:r()("DepthSlider",Object(a.a)({},b,!!b)),style:v,children:Object(d.jsx)(s.k,{label:m,"aria-labelledby":"track-false-slider",track:!1,valueLabelDisplay:j,getAriaValueText:function(e){return"".concat(i[e])},value:c,onChange:function(e,t){return g(t,n)},step:null,marks:O,min:0,max:x,prevIconNode:Object(d.jsx)(s.c,{onClick:function(){return c>0&&g(c-1,n)},className:"prevIconBtn",disabled:c<=0,size:"small",withOnlyIcon:!0,children:Object(d.jsx)(s.f,{name:"arrow-left",fontSize:10})}),nextIconNode:Object(d.jsx)(s.c,{onClick:function(){return c<x&&g(c+1,n)},className:"nextIconBtn",disabled:c>=x,size:"small",withOnlyIcon:!0,children:Object(d.jsx)(s.f,{name:"arrow-right",fontSize:10})})})})})}u.displayName="DepthSlider",t.a=o.a.memo(u)},759:function(e,t,n){},760:function(e,t,n){"use strict";function a(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,i=0;i<a;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}n.d(t,"a",(function(){return a}))},766:function(e,t,n){"use strict";var a=n(4),i=n(7),o=n(0),c=n.n(o),r=n(18),s=n.n(r),l=n(72),d=n(620),u=n(756),h=n(11),v=n(268),p=n(753),j=(n(768),n(1));function m(e){var t,n,o=e.id,r=void 0===o?"popover":o,m=e.forceOpen,f=void 0!==m&&m,b=e.open,O=void 0!==b&&b,g=e.className,x=void 0===g?"":g,_=e.containerNode,y=void 0===_?document.body:_,C=e.selectOptions,S=e.tooltipAppearance,P=void 0===S?v.a.Auto:S;O=f||O;var w=c.a.useState(!!e.activePointRect&&O),N=Object(i.a)(w,2),I=N[0],k=N[1],T=c.a.useState(),E=Object(i.a)(T,2),z=E[0],R=E[1],A=c.a.useState({top:1e4,left:1e4}),B=Object(i.a)(A,2),D=B[0],H=B[1],M=c.a.useMemo((function(){return P===v.a.Top||P===v.a.Bottom}),[P]),L=c.a.useCallback((function(e){if(z&&y){var t=z.getBoundingClientRect(),n=y.getBoundingClientRect();if(n.width&&n.height){var a={top:e.top-y.scrollTop,left:e.left-y.scrollLeft,right:e.right-y.scrollLeft,bottom:e.bottom-y.scrollTop},i=Object(p.a)(a,t,n,M,P);H(i)}}}),[y,z,M,P]);return c.a.useEffect((function(){k(!!e.activePointRect&&O)}),[e.activePointRect,O]),c.a.useEffect((function(){e.activePointRect&&I&&L(e.activePointRect)}),[e.activePointRect,I,e.tooltipContent,e.focusedState.key,e.focusedState.active,L]),c.a.useEffect((function(){if(y){var t=l.a.debounce((function(){return k(!!e.activePointRect&&O)}),300),n=l.a.debounce((function(){return k(!1)}),200,{leading:!0,trailing:!1});return y.addEventListener("scroll",n),y.addEventListener("scroll",t),function(){null===y||void 0===y||y.removeEventListener("scroll",n),null===y||void 0===y||y.removeEventListener("scroll",t)}}}),[e.activePointRect,O,y]),c.a.useEffect((function(){var e=function(e){var t=e.target;f||(null===y||void 0===y?void 0:y.contains(t))||(null===z||void 0===z?void 0:z.contains(t))||k(!1)};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[y,z,f]),Object(j.jsx)(h.a,{children:Object(j.jsx)(d.a,{id:r,open:I,disableEnforceFocus:!0,disableAutoFocus:!0,disableRestoreFocus:!0,disablePortal:!0,disableScrollLock:!0,anchorReference:"anchorPosition",anchorPosition:D,className:s()("ChartPopover",(t={},Object(a.a)(t,x,x),Object(a.a)(t,"pinnedPopover",M),t)),transitionDuration:{appear:0,enter:50,exit:100},TransitionProps:{onEnter:function(e){return R(e)}},transformOrigin:{vertical:"top",horizontal:"left"},classes:{paper:s()("ChartPopover__content",{ChartPopover__content__active:null===(n=e.focusedState)||void 0===n?void 0:n.active,ChartPopover__content__pinned:M,hide:!D})},children:Object(j.jsx)(h.a,{children:Object(j.jsx)(u.a,{chartType:e.chartType,tooltipContent:e.tooltipContent,tooltipAppearance:e.tooltipAppearance,focusedState:e.focusedState,alignmentConfig:e.alignmentConfig,selectOptions:C,onRunsTagsChange:e.onRunsTagsChange,onChangeTooltip:e.onChangeTooltip})})},"popover-".concat(P))})}t.a=c.a.memo(m)},767:function(e,t,n){},768:function(e,t,n){},807:function(e,t,n){"use strict";var a=n(7),i=n(0),o=n.n(i),c=n(65),r=n.n(c),s=n(5),l=n(11),d=n(1);t.a=function(e){var t=e.audio,n=e.isPlaying,i=e.src,c=e.disabled,u=o.a.useState(0),h=Object(a.a)(u,2),v=h[0],p=h[1],j=o.a.useRef();function m(){clearInterval(j.current),j.current=window.setInterval((function(){p(t.currentTime)}),100)}function f(e){return e>3600?"HH:mm:ss":"mm:ss"}return o.a.useEffect((function(){return function(){clearInterval(j.current)}}),[]),o.a.useEffect((function(){n&&t?m():clearInterval(j.current)}),[n,i]),Object(d.jsxs)(l.a,{children:[Object(d.jsx)(s.k,{containerClassName:"AudioBox__controllers__progressSlider",onChangeCommitted:function(){t&&!isNaN(v)&&(clearInterval(j.current),t.currentTime=v,n&&m())},onChange:function(e,n){t&&(clearInterval(j.current),p(n))},value:v,step:.1,max:Math.round(null===t||void 0===t?void 0:t.duration),min:0,disabled:c}),Object(d.jsxs)("div",{className:"AudioBox__controllers__timer ".concat((null===t||void 0===t?void 0:t.duration)>3600?"AudioBox__controllers__timer-long":""),children:[Object(d.jsx)(s.n,{weight:400,size:12,children:t&&r.a.utc(1e3*Math.round(v)).format(f(t.duration||0))||"00:00"}),Object(d.jsxs)(s.n,{weight:400,size:12,children:["/",t&&r.a.utc(1e3*Math.round(t.duration||0)).format(f(t.duration||0))||"00:00"]})]})]})}},808:function(e,t,n){"use strict";var a=n(7),i=n(0),o=n.n(i),c=n(11),r=n(5),s=n(1);t.a=function(e){var t=e.audio,n=o.a.useState(.99),i=Object(a.a)(n,2),l=i[0],d=i[1],u=o.a.useState(!1),h=Object(a.a)(u,2),v=h[0],p=h[1];return o.a.useEffect((function(){t&&(t.volume=v?0:l)}),[l,t,v]),Object(s.jsx)(c.a,{children:Object(s.jsxs)("div",{className:"AudioBox__controllers__volume",children:[Object(s.jsx)(r.c,{onClick:function(){v?p(!1):0===l?(p(!1),d(.99)):p(!0)},withOnlyIcon:!0,size:"xSmall",className:"AudioBox__controllers__volume--button",children:Object(s.jsx)(r.f,{name:v||0===l?"voice-off":"voice-on"})}),Object(s.jsx)("div",{className:"AudioBox__controllers__volume__Slider",children:Object(s.jsx)(r.k,{onChange:function(e,t){d(t),p(!1)},value:v?0:l,step:.01,defaultValue:1,max:.99,min:0})})]})})}},863:function(e,t,n){},864:function(e,t,n){},865:function(e,t,n){},866:function(e,t,n){},867:function(e,t,n){},868:function(e,t,n){},954:function(e,t,n){"use strict";var a=n(6),i=n(7),o=n(0),c=n.n(o),r=n(72),s=n(9),l=n(2),d=n(4),u=n(269),h=n(18),v=n.n(h),p=n(353),j=n(750),m=n(969),f=n.n(m),b=n(5),O=n(11),g=n(730),x=n(807),_=n(808),y=n(745),C=n(97),S=n(51),P=(n(863),n(1));function w(e){var t,n=e.data,a=e.additionalProperties,o=e.style,r=void 0===o?{}:o,s=n.blob_uri,l=c.a.useState(!1),d=Object(i.a)(l,2),u=d[0],h=d[1],v=c.a.useState(null),p=Object(i.a)(v,2),j=p[0],m=p[1],w=c.a.useState(!1),N=Object(i.a)(w,2),I=N[0],k=N[1],T=c.a.useState(""),E=Object(i.a)(T,2),z=E[0],R=E[1],A=c.a.useState(null!==(t=y.a.getState()[s])&&void 0!==t?t:null),B=Object(i.a)(A,2),D=B[0],H=B[1],M=c.a.useState(!0),L=Object(i.a)(M,2),V=L[0],W=L[1],F=c.a.useRef(!1);function U(){k(!1)}function G(){h(!1)}function K(){j?(F.current=!0,h(!u)):(k(!0),a.getAudiosBlobsData([s]).call().then((function(){F.current=!0,h(!u)})))}function J(){var e=n.index,t=n.format,a=n.context,i=n.step,o=n.caption,c=n.audio_name,r=""===Object(C.a)(a)?"":"_".concat(Object(C.a)(a)),s="".concat(c).concat(r,"_").concat(o,"_").concat(i,"_").concat(e);Object(S.a)("data:audio/".concat(t,";base64,").concat(D),s)}return c.a.useEffect((function(){var e,t;return I&&null===D&&(y.a.getState()[s]?H(y.a.getState()[s]):(t=y.a.subscribe(s,(function(e){H(e[s]),t.unsubscribe()})),e=window.setTimeout((function(){y.a.getState()[s]&&(H(y.a.getState()[s]),t.unsubscribe())}),g.a))),function(){e&&clearTimeout(e),t&&t.unsubscribe(),j&&j.pause()}}),[I]),c.a.useEffect((function(){if(D){var e=new Audio;e.autoplay=!0,e.muted=!0,e.src="data:audio/".concat(n.format,";base64,").concat(D),R("data:audio/".concat(n.format,";base64,").concat(D)),m(e),W(!1)}}),[D]),c.a.useEffect((function(){u?null===j||void 0===j||j.play().then((function(){W(!1)})):null===j||void 0===j||j.pause()}),[u,j]),c.a.useEffect((function(){return j&&(j.addEventListener("ended",G),j.addEventListener("canplay",U)),function(){j&&(j.pause(),j.removeEventListener("ended",G),j.removeEventListener("canplay",U))}}),[j]),c.a.useEffect((function(){j&&!V&&(j.muted=!1)}),[V]),Object(P.jsx)(O.a,{children:Object(P.jsxs)("div",{className:"AudioBox",style:r,children:[Object(P.jsxs)("div",{className:"AudioBox__controllers",children:[j?Object(P.jsx)(b.c,{onClick:K,color:"secondary",withOnlyIcon:!0,size:"small",children:Object(P.jsx)(b.f,{name:u?"pause":"play"})}):Object(P.jsxs)("div",{className:"AudioBox__controllers__player",children:[Object(P.jsx)(f.a,{displaySlider:!1,volume:!1,displayCloseButton:!1,onPlayed:K,width:"24px",src:z}),I?Object(P.jsx)(b.l,{className:"Icon__container",size:12,color:"#414b6d",thickness:2}):Object(P.jsx)(b.f,{name:u?"pause":"play"})]}),Object(P.jsx)(x.a,{audio:j,isPlaying:u,src:z,disabled:!F.current}),Object(P.jsx)(_.a,{audio:j}),Object(P.jsx)(b.c,{withOnlyIcon:!0,size:"small",onClick:function(){j?J():(k(!0),a.getAudiosBlobsData([s]).call().then(J))},children:I?Object(P.jsx)(b.l,{className:"Icon__container",size:12,color:"#414b6d",thickness:2}):Object(P.jsx)(b.f,{name:"download"})})]}),Object(P.jsx)(b.n,{title:(null===n||void 0===n?void 0:n.caption)||"",className:"AudioBox__caption",size:8,weight:400,children:(null===n||void 0===n?void 0:n.caption)||""})]})})}w.displayName="AudioBox";var N=c.a.memo(w);function I(e){var t=0,n=0;return e.forEach((function(e){t<e.height&&(t=e.height,n=e.width)})),{maxHeight:t,maxWidth:n}}var k=n(623),T=n(700),E=n(756),z=n(16);n(864);function R(e){var t=e.imageRendering,n=e.imageData,a=e.tooltipContent,i=e.handleClose,o=e.selectOptions,c=e.onRunsTagsChange,r=y.a.getState()[null===n||void 0===n?void 0:n.blob_uri];return Object(P.jsx)(O.a,{children:Object(P.jsxs)("div",{className:"ImageFullViewPopover",children:[Object(P.jsx)("div",{className:"ImageFullViewPopover__imageContainer ImageFullViewPopover__imageContainer--".concat(t),children:Object(P.jsx)("div",{className:"ImageFullViewPopover__imageContainer__imageBox",children:Object(P.jsx)("img",{src:"data:image/".concat(n.format,";base64, ").concat(r),style:{maxWidth:n.width,maxHeight:n.height},alt:n.caption})})}),Object(P.jsxs)("div",{className:"ImageFullViewPopover__detailContainer",children:[Object(P.jsx)("div",{className:"ImageFullViewPopover__detailContainer__closeButtonContainer",children:Object(P.jsx)(b.c,{withOnlyIcon:!0,size:"small",onClick:i,color:"inherit",children:Object(P.jsx)(b.f,{name:"close"})})}),Object(P.jsx)("div",{className:"ImageFullViewPopover__detailContainer__content",children:Object(P.jsx)(O.a,{children:Object(P.jsx)(E.a,{chartType:z.b.ImageSet,tooltipContent:a,focusedState:{active:!0,key:null},selectOptions:o,onRunsTagsChange:c})})})]})]})})}R.displayName="ImageFullViewPopover";var A,B=c.a.memo(R),D=n(355),H=n(17),M=n(14),L=function(e){var t,n,a=e.index,o=e.style,r=e.data,s=e.addUriToList,l=e.mediaItemHeight,u=e.focusedState,h=e.tooltip,p=e.additionalProperties,j=e.selectOptions,m=e.onRunsTagsChange,f=r.format,x=r.blob_uri,_=c.a.useState(!1),C=Object(i.a)(_,2),S=C[0],w=C[1],N=c.a.useState(null!==(t=y.a.getState()[x])&&void 0!==t?t:null),I=Object(i.a)(N,2),E=I[0],z=I[1];c.a.useEffect((function(){var e,t;return null===E&&(y.a.getState()[x]?z(y.a.getState()[x]):(t=y.a.subscribe(x,(function(e){z(e[x]),t.unsubscribe()})),e=window.setTimeout((function(){y.a.getState()[x]?(z(y.a.getState()[x]),t.unsubscribe()):s(x)}),g.a))),function(){e&&clearTimeout(e),t&&t.unsubscribe()}}),[s,E,x]);var R={width:o.width-6,height:p.alignmentType!==D.b.Height?o.width/(r.width/r.height)-6:l-40,containerWidth:o.width-4,containerHeight:p.alignmentType!==D.b.Height?o.width/(r.width/r.height)-4:l-40};return Object(P.jsx)(O.a,{children:Object(P.jsxs)("div",{className:"ImageBox",style:o,children:[Object(P.jsx)("div",{className:v()("ImageBox__image",(n={},Object(d.a)(n,"ImageBox__image--".concat(p.imageRendering),!!p.imageRendering),Object(d.a)(n,"focus",u.key===r.key&&(null===u||void 0===u?void 0:u.active)),Object(d.a)(n,"active",u.key===r.key&&!(null===u||void 0===u?void 0:u.active)),n)),"data-key":"".concat(r.key),"data-seqkey":"".concat(r.seqKey),"data-mediasetitem":"mediaSetItem",children:Object(P.jsxs)("div",{className:"ImageBox__imageWrapper",children:[Object(P.jsxs)("div",{className:"ImageBox__imageWrapper-item ".concat(p.alignmentType===D.b.Height?"ImageBox__imageWrapper-item-heightAlign":""),children:[E?Object(P.jsx)("img",{src:"data:image/".concat(f,";base64, ").concat(E),alt:r.caption}):Object(P.jsx)("div",{style:{height:R.containerHeight,width:R.containerWidth},className:"skeletonContainer",children:Object(P.jsx)(k.a,{variant:"rect",height:R.height,width:R.width})}),Object(P.jsx)(b.n,{style:{maxWidth:o.width},size:10,weight:400,children:r.caption})]}),Object(P.jsx)(b.c,{withOnlyIcon:!0,size:"small",className:v()("ImageBox__imageWrapper__zoomIconWrapper",{isHidden:u.key!==r.key}),onClick:function(e){e.stopPropagation(),w(!0),M.b(H.a.images.imagesPanel.openFullSizeMode)},color:"inherit",children:Object(P.jsx)(b.f,{name:"zoom-in",fontSize:14})})]})}),Object(P.jsx)(O.a,{children:Object(P.jsx)(T.a,{onClose:function(){return w(!1)},"aria-labelledby":"customized-dialog-title",className:"MediaPanel__Container__imageFullViewPopup",open:S,children:Object(P.jsx)(B,{imageRendering:null===p||void 0===p?void 0:p.imageRendering,tooltipContent:(null===h||void 0===h?void 0:h.content)||{context:r.context,step:r.step,index:r.index,caption:r.caption,images_name:r.name},selectOptions:j,imageData:r,handleClose:function(){return w(!1)},onRunsTagsChange:m})})})]})},a)},V=(A={},Object(d.a)(A,j.a.IMAGE,L),Object(d.a)(A,j.a.AUDIO,N),A);var W=function(e){var t=e.data,n=e.wrapperOffsetWidth,a=e.addUriToList,i=e.mediaItemHeight,o=e.focusedState,r=e.additionalProperties,s=e.tooltip,l=e.mediaType,d=e.wrapperOffsetHeight,h=e.selectOptions,v=e.onRunsTagsChange,p=c.a.useCallback((function(e){return l===j.a.AUDIO?g.f[l]().width:g.f[l]({data:t,index:e,additionalProperties:r,wrapperOffsetWidth:n,wrapperOffsetHeight:d}).width}),[r,t,l,d,n]),m=c.a.useMemo((function(){var e=I(t),a=e.maxWidth,o=e.maxHeight,c=r.alignmentType,s=r.mediaItemSize;return l===j.a.IMAGE?g.g[l]({alignmentType:c,maxHeight:o,maxWidth:a,wrapperOffsetWidth:n,mediaItemSize:s,mediaItemHeight:i}):g.g[l](i)}),[r,t,i,l,n]);return Object(P.jsx)(O.a,{children:Object(P.jsx)(u.d,{height:m,itemCount:t.length,itemSize:p,layout:"horizontal",width:n,style:{overflowY:"hidden"},itemData:{data:t,addUriToList:a,mediaItemHeight:m,focusedState:o,additionalProperties:r,tooltip:s,mediaType:l,selectOptions:h,onRunsTagsChange:v},children:F})})},F=c.a.memo((function(e){var t=e.index,n=e.style,a=e.data,i=V[a.mediaType];return Object(P.jsx)(O.a,{children:Object(P.jsx)(i,{index:t,style:n,data:a.data[t],addUriToList:a.addUriToList,mediaItemHeight:a.mediaItemHeight,focusedState:a.focusedState,additionalProperties:a.additionalProperties,tooltip:a.tooltip,selectOptions:a.selectOptions,onRunsTagsChange:a.onRunsTagsChange},t)})}),u.e),U=W,G=n(84),K=n(708),J=n(710);n(865);function q(e){var t=e.index,n=e.pathValue,a=e.depth,i=e.onDepthChange,o=c.a.useMemo((function(){return n.map((function(e,t){return{depth:t,label:e}}))}),[n]);return Object(P.jsx)(O.a,{children:Object(P.jsx)(G.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},className:"DepthDropdown",anchor:function(e){var t=e.onAnchorClick,n=e.opened;return Object(P.jsx)(b.c,{onClick:t,className:"DepthDropdown__button",color:n?"primary":"default",size:"small",withOnlyIcon:!0,style:{height:g.j},children:Object(P.jsx)(b.f,{name:n?"arrow-up":"arrow-down"})})},component:Object(P.jsx)(K.a,{open:!0,size:"small",openOnFocus:!0,disablePortal:!0,disableCloseOnSelect:!0,className:"DepthDropdown__autocomplete",options:o,getOptionLabel:function(e){return e.label},getOptionSelected:function(e){return e.depth===a},onChange:function(e,n){null===i||void 0===i||i(n.depth,t)},disableClearable:!0,ListboxProps:{style:{maxHeight:200,maxWidth:241}},classes:{popper:"DepthDropdown__autocomplete__popper"},renderInput:function(e){return Object(P.jsx)(J.a,{ref:e.InputProps.ref,inputProps:e.inputProps,spellCheck:!1,placeholder:"Search",autoFocus:!0,className:"DepthDropdown__autocomplete__select"})},renderOption:function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(b.n,{className:v()("DepthDropdown__autocomplete__select__optionLabel",{selected:a===e.depth}),weight:500,size:12,children:e.label}),a===e.depth&&Object(P.jsx)(b.f,{fontSize:14,color:"primary",name:"check",className:"DepthDropdown__autocomplete__select__optionIcon"})]})}})})})}q.displayName="DepthDropdown";var Y=c.a.memo(q),X=n(758),Q=n(32);n(866);var Z=function(e){var t=e.data,n=e.onListScroll,o=e.addUriToList,s=e.index,l=void 0===s?0:s,h=e.mediaSetKey,v=e.wrapperOffsetHeight,p=e.wrapperOffsetWidth,m=e.orderedMap,f=e.focusedState,b=e.additionalProperties,x=e.tableHeight,_=e.tooltip,y=e.mediaType,C=e.sortFieldsDict,S=e.sortFields,w=e.selectOptions,N=e.onRunsTagsChange,k=c.a.useState([]),T=Object(i.a)(k,2),E=T[0],z=T[1],R=[],A={};function B(e,t){for(var n=0;n<e.length;n++)t[n]||(t[n]=[]),t[n].push(e[n])}function D(e,t){var n=Object(i.a)(R[R.length-1],2),a=n[0],o=n[1],c=t[t.length-1].split(" = "),r=Object(i.a)(c,2),s=r[0],l=r[1];if(t.length===a.length)a[a.length-1][s].push(l),B(e,o);else{var u=[];B(e,u),t[t.length-1]=Object(d.a)({},s,[l]),R.push([t,u])}}function H(e){var t=[],n=[];return null===S||void 0===S||S.forEach((function(e){t.push(e.value),n.push(e.order)})),r.a.orderBy(e,t,n)}!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],i=arguments.length>2?arguments[2]:void 0;if(Array.isArray(t)){var o=H(t);b.stacking&&R.length?D(o,n):R.push([n,o])}else{var c,s=r.a.orderBy(Object(a.a)((null===i||void 0===i?void 0:i.ordering)||[]).reduce((function(e,t){return e.push(Object(d.a)({},i.key,t)),e}),[]),[(null===i||void 0===i?void 0:i.key)||""],[(null===C||void 0===C||null===(c=C[null===i||void 0===i?void 0:i.orderKey])||void 0===c?void 0:c.order)||"asc"]).map((function(e){return e[null===i||void 0===i?void 0:i.key]}));s.forEach((function(a){var o="".concat(i.key," = ").concat(Object(Q.a)(a));A.hasOwnProperty(n.join(""))||(R.push([n,[]]),A[n.join("")]=1),e(t[o],n.concat([o]),i[o])}))}}(t,[""],m);var M=c.a.useCallback((function(e,t){if(e!==E[t]){var n=Object(a.a)(E);n[t]=e,z(n)}}),[E,z]),L=c.a.useMemo((function(){var e,n;return y===j.a.AUDIO?null===(e=g.f[y]())||void 0===e?void 0:e.height:null===(n=g.f[y]({data:t,additionalProperties:b,wrapperOffsetWidth:p,wrapperOffsetHeight:v}))||void 0===n?void 0:n.height}),[b,t,y,v,p]);return c.a.useEffect((function(){b.stacking&&R.length&&z(Array(R.length).fill(0))}),[b.stacking,t,R.length]),Object(P.jsx)(O.a,{children:Object(P.jsx)(u.d,{height:v||0,itemCount:R.length,itemSize:function(e){var t=Object(i.a)(R[e],2),n=t[0],a=t[1],o=I(a.flat()),c=o.maxHeight,r=o.maxWidth,s=b.mediaItemSize,l=b.alignmentType,d=b.stacking,u=n[n.length-1],h=d&&"object"===typeof u,v=ne({isStackedPath:h,lastPath:u}).pathValue;if(1===n.length)return 0;if(a.length>0){if(y===j.a.IMAGE)return g.h[y]({maxHeight:c,maxWidth:r,mediaItemHeight:L,alignmentType:l,wrapperOffsetWidth:p,mediaItemSize:s,stacking:h&&v.length>1});if(y===j.a.AUDIO)return g.h[y]()}return g.j+g.k},width:"100%",onScroll:n,itemData:{data:R,addUriToList:o,wrapperOffsetWidth:p,wrapperOffsetHeight:v,index:l,mediaSetKey:h,mediaItemHeight:L,focusedState:f,additionalProperties:b,tooltip:_,mediaType:y,depthMap:E,onDepthChange:M,selectOptions:w,onRunsTagsChange:N},children:te},R.length+x+h)})};function $(e,t){return e.mediaSetKey===t.mediaSetKey&&e.focusedState===t.focusedState&&e.sortFieldsDict===t.sortFieldsDict}var ee=c.a.memo(Z,$),te=c.a.memo((function(e){var t=e.index,n=e.style,a=e.data,o=Object(i.a)(a.data[t],2),c=o[0],r=o[1],d=c[c.length-1],u=a.depthMap[t]||0,h=a.additionalProperties.stacking&&"object"===typeof d,j=ne({isStackedPath:h,lastPath:d}),m=j.pathKey,f=j.pathValue,x=function(e){var t=e.isStackedPath,n=e.pathValue,a=e.depth,i=e.items,o="",c=[];if(t){var r;o=null===(r=n[a])||void 0===r?void 0:r.trim();var l,d=Object(s.a)(i);try{for(d.s();!(l=d.n()).done;){var u=l.value;u[a]&&c.push(u[a])}}catch(h){d.e(h)}finally{d.f()}}else o=null===n||void 0===n?void 0:n.trim(),c=i;return{currentValue:o,currentItems:c}}({isStackedPath:h,pathValue:f,depth:u,items:r}),_=x.currentValue,y=x.currentItems,C=function(e){try{JSON.parse(e)}catch(t){return!1}return JSON.parse(e)}(_),S="object"===typeof C,w=y.length>0&&h&&f.length>1;return Object(P.jsx)(O.a,{children:Object(P.jsxs)("div",{className:"MediaSet",style:Object(l.a)({paddingLeft:"calc(0.625rem * ".concat(c.length-2,")")},n),children:[c.slice(2).map((function(e,t){return Object(P.jsx)(O.a,{children:Object(P.jsx)("div",{className:"MediaSet__connectorLine",style:{left:"calc(0.625rem * ".concat(t,")")}})},e)})),Object(P.jsxs)("div",{className:"MediaSet__container ".concat(c.length>2?"withDash":""),children:[c.length>1&&Object(P.jsx)(O.a,{children:Object(P.jsx)(G.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:function(e){var n=e.onAnchorClick;return Object(P.jsxs)("span",{className:"MediaSet__container__path",children:[Object(P.jsx)(p.a,{placement:"top-start",title:"".concat(m," = ").concat(_),children:Object(P.jsxs)("span",{className:"MediaSet__container__path__title",style:{height:g.j,width:w?"":"100%"},children:[Object(P.jsx)("span",{className:v()("MediaSet__container__path__title__key",{stacked:w}),children:m}),"=",Object(P.jsx)("span",{onClick:S?n:void 0,className:v()("MediaSet__container__path__title__value",{stacked:w,MediaSet__container__path__title__pointer:S}),children:_})]})}),w&&Object(P.jsx)(Y,{index:t,pathValue:f,depth:u,onDepthChange:a.onDepthChange})]})},component:Object(P.jsx)(b.h,{json:C})})}),w&&Object(P.jsx)(X.a,{index:t,items:f,depth:u,onDepthChange:a.onDepthChange,style:{height:g.i}}),y.length>0&&Object(P.jsx)("div",{className:"MediaSet__container__mediaItemsList",children:Object(P.jsx)(U,{data:y,addUriToList:a.addUriToList,wrapperOffsetWidth:a.wrapperOffsetWidth,wrapperOffsetHeight:a.wrapperOffsetHeight,mediaItemHeight:a.mediaItemHeight,focusedState:a.focusedState,additionalProperties:a.additionalProperties,tooltip:a.tooltip,mediaType:a.mediaType,selectOptions:a.selectOptions,onRunsTagsChange:a.onRunsTagsChange},"".concat(t,"-").concat(u))})]})]})})}),u.e);function ne(e){var t=e.isStackedPath,n=e.lastPath,a="",o="";if(t)o=n[a=Object.keys(n)[0]];else{var c=null===n||void 0===n?void 0:n.split(" = "),r=Object(i.a)(c,2),s=r[0];a=void 0===s?"":s;var l=r[1];o=void 0===l?"":l}return{pathKey:a,pathValue:o}}var ae=n(280);n(867);var ie=function(e){var t=e.controlsCount,n=void 0===t?3:t;return Object(P.jsx)(O.a,{children:Object(P.jsxs)("div",{className:"ChartLoader",children:[Object(P.jsx)("div",{className:"ChartLoader__chart",children:Object(P.jsx)("span",{children:"Loading..."})}),n?Object(P.jsx)("div",{className:"ChartLoader__controls",children:Object(a.a)(Array(n)).map((function(e,t){return Object(P.jsx)(k.a,{variant:"rect",style:{minHeight:35,height:35,width:35,minWidth:35},animation:"wave"},t)}))}):null]})})},oe=n(766),ce=n(52),re=n(370),se=n(34),le=n(208);n(868);function de(e){var t=e.data,n=e.isLoading,o=e.panelResizing,s=e.wrapperOffsetHeight,l=e.wrapperOffsetWidth,d=e.orderedMap,u=e.resizeMode,h=e.tooltip,v=e.focusedState,p=e.additionalProperties,j=e.tableHeight,m=e.mediaType,f=e.controls,x=e.actionPanel,_=e.actionPanelSize,C=e.tooltipType,S=e.onActivePointChange,w=e.getBlobsData,N=e.sortFieldsDict,I=e.sortFields,k=e.illustrationConfig,T=e.onChangeTooltip,E=void 0===T?function(){}:T,z=e.selectOptions,R=void 0===z?[]:z,A=e.onRunsTagsChange,B=void 0===A?function(){}:A,D=c.a.useState(null),H=Object(i.a)(D,2),M=H[0],L=H[1],V=c.a.useState(""),W=Object(i.a)(V,2),F=W[0],U=W[1],G=c.a.useState(""),K=Object(i.a)(G,2),J=K[0],q=K[1],Y=c.a.useRef([]),X=c.a.useRef([]),Q=c.a.useRef(0),Z=c.a.useRef(null),$=c.a.useRef(null),te=c.a.useRef(),ne=c.a.useRef(0),de=c.a.useRef(0),ue=c.a.useCallback((function(){if($.current&&Z.current){var e=$.current.pointRect;L({bottom:e.bottom,right:e.right,top:e.top,left:e.left})}else L(null)}),[L]),he=c.a.useCallback((function(e){var t=e.activePoint,n=e.focusedStateActive,a=void 0!==n&&n;$.current=t,null!==t?(S&&S(t,a),ue()):(L(null),S&&S({key:null},a))}),[S,L,ue]),ve=c.a.useCallback((function(){((null===v||void 0===v?void 0:v.key)||M)&&(de.current&&window.cancelAnimationFrame(de.current),he({activePoint:null}))}),[null===v||void 0===v?void 0:v.key,M,he]),pe=c.a.useCallback((function(e){e&&(e.stopPropagation(),e.target&&(de.current=window.requestAnimationFrame((function(){var t=e.target.closest('[data-mediasetitem="mediaSetItem"]');if(t){var n=t.getAttribute("data-key"),a=t.getAttribute("data-seqkey"),i=t.getBoundingClientRect();!i||v.key===n&&null!==M||(null===v||void 0===v?void 0:v.active)||he({activePoint:{pointRect:i,key:n,seqKey:a}})}else ve()}))))}),[null===v||void 0===v?void 0:v.key,null===v||void 0===v?void 0:v.active,M,he,ve]);function je(e){return r.a.isArray(e)?e.map((function(e){return r.a.omit(e,"run")})):Object.keys(null!==e&&void 0!==e?e:[]).reduce((function(t,n){return t[n]=je(e[n]),t}),{})}c.a.useEffect((function(){var e=JSON.stringify(je(t));F!==e&&U(e)}),[t]),c.a.useEffect((function(){var e=JSON.stringify(N);J!==e&&q(e)}),[N]);var me=c.a.useMemo((function(){return Date.now()}),[F,s,l,p,J]);var fe=Object(ce.m)((function(){Q.current&&window.clearTimeout(Q.current),Q.current=window.setTimeout((function(){if(!r.a.isEmpty(X.current)){var e=Object.assign([],X.current);X.current=[],Y.current=Object(a.a)(new Set([].concat(Object(a.a)(Y.current),Object(a.a)(e)))),te.current=w(e),te.current.call().catch((function(t){Y.current=Y.current.filter((function(t){return!e.includes(t)}))}))}}),g.b)}),g.b);return c.a.useEffect((function(){return document.addEventListener("mouseover",ve),function(){document.removeEventListener("mouseover",ve)}}),[ve]),c.a.useEffect((function(){return function(){Q.current&&window.clearTimeout(Q.current),te.current&&te.current.abort(),y.a.init()}}),[]),Object(P.jsx)(O.a,{children:Object(P.jsx)(ae.a,{isLoading:n,className:"MediaPanel__loader",height:"100%",loaderComponent:Object(P.jsx)(ie,{controlsCount:4}),children:o?Object(P.jsx)("div",{className:"MediaPanel__Container__resizing",children:Object(P.jsx)(b.n,{size:14,color:"info",children:"Release to resize"})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"MediaPanel__Container",children:[r.a.isEmpty(t)?Object(P.jsx)(re.a,{page:(null===k||void 0===k?void 0:k.page)||"runs",type:(null===k||void 0===k?void 0:k.type)||le.c.EmptyData,size:(null===k||void 0===k?void 0:k.size)||"xLarge",title:(null===k||void 0===k?void 0:k.title)||""}):Object(P.jsxs)("div",{className:"MediaPanel",style:{height:"calc(100% - ".concat(_||0,")")},children:[Object(P.jsx)("div",{ref:Z,className:"MediaPanel__mediaSetContainer",onMouseOver:pe,children:Object(P.jsx)(O.a,{children:Object(P.jsx)(ee,{data:t,onListScroll:function(e){var t=e.scrollOffset;Math.abs(t-ne.current)>window.innerHeight&&te.current&&te.current.abort(),ne.current=t,ve()},addUriToList:function(e){y.a.getState()[e]||X.current.includes(e)||Y.current.includes(e)||(X.current.push(e),fe())},mediaSetKey:me,sortFieldsDict:N,wrapperOffsetHeight:s,wrapperOffsetWidth:l,focusedState:v,orderedMap:d,additionalProperties:p,tableHeight:j,tooltip:h,mediaType:m,sortFields:I,selectOptions:R,onRunsTagsChange:B})})}),C&&Object(P.jsx)(O.a,{children:Object(P.jsx)(oe.a,{containerNode:Z.current,activePointRect:M,open:u!==se.c.MaxHeight&&!o&&!!(null===h||void 0===h?void 0:h.display),forceOpen:!!(null===v||void 0===v?void 0:v.active),chartType:C,tooltipContent:(null===h||void 0===h?void 0:h.content)||{},tooltipAppearance:null===h||void 0===h?void 0:h.appearance,focusedState:v,selectOptions:R,onRunsTagsChange:B,onChangeTooltip:E},"popover-"+C)}),f&&Object(P.jsx)(O.a,{children:Object(P.jsx)("div",{className:"MediaPanel__controls ScrollBar__hidden",children:f})})]}),x]})})})})}var ue=c.a.memo(de);t.a=ue}}]);
//# sourceMappingURL=ImagesVisualizer.js.map?version=78dde6636ded43fdfec6