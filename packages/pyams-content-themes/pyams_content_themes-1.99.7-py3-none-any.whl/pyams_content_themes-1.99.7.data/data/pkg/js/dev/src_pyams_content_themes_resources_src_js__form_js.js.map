{"version":3,"file":"src_pyams_content_themes_resources_src_js__form_js.js","mappings":"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","sources":["webpack://pyams_content_themes/./src/pyams_content_themes/resources/src/js/_form.js"],"sourcesContent":["\n\nimport 'jquery-validation';\n\nimport MyAMS from \"./_utils\";\n\nconst PyAMS_form = {\n\n\tinit: (forms) => {\n\n\t\t$('label', forms).removeClass('col-md-3');\n\t\t$('.col-md-9', forms).removeClass('col-md-9');\n\t\t$('input, select, textarea', forms).addClass('form-control');\n\t\t$('button', forms).addClass('border');\n\t\t$('button[type=\"submit\"]', forms).addClass('btn-primary');\n\n\t\tconst lang = $('html').attr('lang');\n\n\t\t// Initialize select2 widgets\n\n\t\tconst selects = $('.select2');\n\t\tif (selects.length > 0) {\n\t\t\timport(\"select2\").then(() => {\n\t\t\t\tselects.each((idx, elt) => {\n\t\t\t\t\tconst\n\t\t\t\t\t\tselect = $(elt),\n\t\t\t\t\t\tdata = select.data(),\n\t\t\t\t\t\tdefaultOptions = {\n\t\t\t\t\t\t\ttheme: data.amsSelect2Options || data.amsTheme || 'bootstrap4',\n\t\t\t\t\t\t\tlanguage: data.amsSelect2Language || data.amsLanguage || lang\n\t\t\t\t\t\t},\n\t\t\t\t\t\tajaxUrl = data.amsSelect2AjaxUrl || data.amsAjaxUrl || data['ajax-Url'];\n\t\t\t\t\tif (ajaxUrl) {\n\t\t\t\t\t\t// check AJAX data helper function\n\t\t\t\t\t\tlet ajaxParamsHelper;\n\t\t\t\t\t\tconst ajaxParams = MyAMS.getFunctionByName(\n\t\t\t\t\t\t\tdata.amsSelect2AjaxParams || data.amsAjaxParams || data['ajax-Params']) ||\n\t\t\t\t\t\t\tdata.amsSelect2AjaxParams || data.amsAjaxParams || data['ajax-Params'];\n\t\t\t\t\t\tif (typeof ajaxParams === 'function') {\n\t\t\t\t\t\t\tajaxParamsHelper = ajaxParams;\n\t\t\t\t\t\t} else if (ajaxParams) {\n\t\t\t\t\t\t\tajaxParamsHelper = (params) => {\n\t\t\t\t\t\t\t\treturn _select2Helpers.select2AjaxParamsHelper(params, ajaxParams);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefaultOptions.ajax = {\n\t\t\t\t\t\t\turl: MyAMS.getFunctionByName(\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxUrl || data.amsAjaxUrl) ||\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxUrl || data.amsAjaxUrl,\n\t\t\t\t\t\t\tdata: ajaxParamsHelper || MyAMS.getFunctionByName(\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxData || data.amsAjaxData) ||\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxData || data.amsAjaxData,\n\t\t\t\t\t\t\tprocessResults: MyAMS.getFunctionByName(\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxProcessResults || data.amsAjaxProcessResults) ||\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxProcessResults || data.amsAjaxProcessResults,\n\t\t\t\t\t\t\ttransport: MyAMS.getFunctionByName(\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxTransport || data.amsAjaxTransport) ||\n\t\t\t\t\t\t\t\tdata.amsSelect2AjaxTransport || data.amsAjaxTransport\n\t\t\t\t\t\t};\n\t\t\t\t\t\tdefaultOptions.minimumInputLength = data.amsSelect2MinimumInputLength ||\n\t\t\t\t\t\t\tdata.amsMinimumInputLength || data.minimumInputLength || 1;\n\t\t\t\t\t}\n\t\t\t\t\tconst\n\t\t\t\t\t\tsettings = $.extend({}, defaultOptions, data.amsSelect2Options || data.amsOptions || data.options),\n\t\t\t\t\t\tveto = {veto: false};\n\t\t\t\t\tselect.trigger('before-init.ams.select2', [select, settings, veto]);\n\t\t\t\t\tif (veto.veto) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst plugin = select.select2(settings);\n\t\t\t\t\tselect.trigger('after-init.ams.select2', [select, plugin]);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Initialize datetime widgets\n\n\t\tconst dates = $('.datetime');\n\t\tif (dates.length > 0) {\n\t\t\timport(\"tempusdominus-bootstrap-4\").then(() => {\n\t\t\t\tdates.each((idx, elt) => {\n\t\t\t\t\tconst\n\t\t\t\t\t\tinput = $(elt),\n\t\t\t\t\t\tdata = input.data(),\n\t\t\t\t\t\tdefaultOptions = {\n\t\t\t\t\t\t\tlocale: data.amsDatetimeLanguage || data.amsLanguage || lang,\n\t\t\t\t\t\t\ticons: {\n\t\t\t\t\t\t\t\ttime: 'far fa-clock',\n\t\t\t\t\t\t\t\tdate: 'far fa-calendar',\n\t\t\t\t\t\t\t\tup: 'fas fa-arrow-up',\n\t\t\t\t\t\t\t\tdown: 'fas fa-arrow-down',\n\t\t\t\t\t\t\t\tprevious: 'fas fa-chevron-left',\n\t\t\t\t\t\t\t\tnext: 'fas fa-chevron-right',\n\t\t\t\t\t\t\t\ttoday: 'far fa-calendar-check-o',\n\t\t\t\t\t\t\t\tclear: 'far fa-trash',\n\t\t\t\t\t\t\t\tclose: 'far fa-times'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdate: input.val(),\n\t\t\t\t\t\t\tformat: data.amsDatetimeFormat || data.amsFormat\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsettings = $.extend({}, defaultOptions, data.datetimeOptions || data.options),\n\t\t\t\t\t\tveto = {veto: false};\n\t\t\t\t\tinput.trigger('before-init.ams.datetime', [input, settings, veto]);\n\t\t\t\t\tif (veto.veto) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tinput.datetimepicker(settings);\n\t\t\t\t\tconst plugin = input.data('datetimepicker');\n\t\t\t\t\tif (data.amsDatetimeIsoTarget || data.amsIsoTarget) {\n\t\t\t\t\t\tinput.on('change.datetimepicker', (evt) => {\n\t\t\t\t\t\t\tconst\n\t\t\t\t\t\t\t\tsource = $(evt.currentTarget),\n\t\t\t\t\t\t\t\tdata = source.data(),\n\t\t\t\t\t\t\t\ttarget = $(data.amsDatetimeIsoTarget || data.amsIsoTarget);\n\t\t\t\t\t\t\ttarget.val(evt.date ? evt.date.toISOString(true) : null);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tinput.trigger('after-init.ams.datetime', [input, plugin]);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Initialize forms\n\n\t\tconst defaultOptions = {\n\t\t\tsubmitHandler: PyAMS_form.submitHandler,\n\t\t\tmessages: {}\n\t\t};\n\n\t\tconst getFormOptions = (form, options) => {\n\t\t\t$('[data-ams-validate-messages]', form).each((idx, elt) => {\n\t\t\t\toptions.messages[$(elt).attr('name')] = $(elt).data('ams-validate-messages');\n\t\t\t\toptions.errorClass = 'error d-block';\n\t\t\t\toptions.errorPlacement = (error, element) => {\n\t\t\t\t\telement.parents('div:first').append(error);\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn options;\n\t\t};\n\n\t\tconst validateForms = () => {\n\t\t\t$(forms).each((idx, form) => {\n\t\t\t\tconst options = $.extend({}, defaultOptions);\n\t\t\t\t$(form).validate(getFormOptions(form, options));\n\t\t\t});\n\t\t}\n\n\t\tif (lang === 'fr') {\n\t\t\timport(\"jquery-validation/dist/localization/messages_fr\").then(() => {\n\t\t\t\tvalidateForms();\n\t\t\t});\n\t\t} else {\n\t\t\tvalidateForms();\n\t\t}\n\t},\n\n\n\tsubmitHandler: (form) => {\n\n\t\tconst doSubmit = (form) => {\n\t\t\tconst\n\t\t\t\tbutton = $('button[type=\"submit\"]', form),\n\t\t\t\tname = button.attr('name'),\n\t\t\t\tinput = $('input[name=\"' + name + '\"]', form);\n\t\t\tif (input.length === 0) {\n\t\t\t\t$('<input />')\n\t\t\t\t\t.attr('type', 'hidden')\n\t\t\t\t\t.attr('name', name)\n\t\t\t\t\t.attr('value', button.attr('value'))\n\t\t\t\t\t.appendTo(form);\n\t\t\t}\n\t\t\tform.submit();\n\t\t};\n\n\t\tif (window.grecaptcha) {  // check if recaptcha was loaded\n\t\t\tconst captcha_key = $(form).data('ams-form-captcha-key');\n\t\t\tgrecaptcha.execute(captcha_key, {\n\t\t\t\taction: 'form_submit'\n\t\t\t}).then((token) => {\n\t\t\t\t$('.state-error', form).removeClass('state-error');\n\t\t\t\t$('input[name=\"g-recaptcha-response\"]', form).val(token);\n\t\t\t\tdoSubmit(form);\n\t\t\t});\n\t\t} else {\n\t\t\tdoSubmit(form);\n\t\t}\n\t}\n\n};\n\n\nexport default PyAMS_form;\n"],"names":["MyAMS","PyAMS_form","init","forms","$","removeClass","addClass","lang","attr","selects","length","then","each","idx","elt","select","data","defaultOptions","theme","amsSelect2Options","amsTheme","language","amsSelect2Language","amsLanguage","ajaxUrl","amsSelect2AjaxUrl","amsAjaxUrl","ajaxParamsHelper","ajaxParams","getFunctionByName","amsSelect2AjaxParams","amsAjaxParams","params","_select2Helpers","select2AjaxParamsHelper","ajax","url","amsSelect2AjaxData","amsAjaxData","processResults","amsSelect2AjaxProcessResults","amsAjaxProcessResults","transport","amsSelect2AjaxTransport","amsAjaxTransport","minimumInputLength","amsSelect2MinimumInputLength","amsMinimumInputLength","settings","extend","amsOptions","options","veto","trigger","plugin","select2","dates","input","locale","amsDatetimeLanguage","icons","time","date","up","down","previous","next","today","clear","close","val","format","amsDatetimeFormat","amsFormat","datetimeOptions","datetimepicker","amsDatetimeIsoTarget","amsIsoTarget","on","evt","source","currentTarget","target","toISOString","submitHandler","messages","getFormOptions","form","errorClass","errorPlacement","error","element","parents","append","validateForms","validate","doSubmit","button","name","appendTo","submit","window","grecaptcha","captcha_key","execute","action","token"],"sourceRoot":""}