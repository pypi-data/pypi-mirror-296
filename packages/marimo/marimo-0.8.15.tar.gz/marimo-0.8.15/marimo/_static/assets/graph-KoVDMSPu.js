import{k4 as e,ky as t,kz as r,k2 as n,kA as s,k1 as i,h7 as o,hi as a,kB as u,k0 as h,fH as c,hc as d,hh as f,h1 as l,he as _,kC as b,kD as v,j_ as p,kE as g,kF as j,kG as m,kH as y,kI as w,hg as C}from"./index-Bh_LkwFB.js";import{z as E,A,B as N,C as D,D as L,E as O,F as k,G as F,H as M,I as x}from"./mermaid-BSzfkLmF.js";import{b as I,a as P,h as S,c as U}from"./_baseEach-fL4lLnOx.js";import{d as B,b as G,e as z}from"./transform-DQq59FTQ.js";function H(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function V(e,t,r,n){for(var s=e.length,i=r+-1;++i<s;)if(t(e[i],i,e))return i;return-1}function R(e){return e!=e}function W(e,t){return!!(null==e?0:e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}(e,t,r):V(e,R,r)}(e,t,0)>-1}var $=Object.getOwnPropertySymbols?function(e){for(var r=[];e;)n(r,t(e)),e=N(e);return r}:r;function q(e){return s(e,A,$)}var J=Object.prototype.hasOwnProperty;var K=/\w*$/;var Q=i?i.prototype:void 0,T=Q?Q.valueOf:void 0;var X="[object Boolean]",Y="[object Date]",Z="[object Map]",ee="[object Number]",te="[object RegExp]",re="[object Set]",ne="[object String]",se="[object Symbol]",ie="[object ArrayBuffer]",oe="[object DataView]",ae="[object Float32Array]",ue="[object Float64Array]",he="[object Int8Array]",ce="[object Int16Array]",de="[object Int32Array]",fe="[object Uint8Array]",le="[object Uint8ClampedArray]",_e="[object Uint16Array]",be="[object Uint32Array]";function ve(e,t,r){var n,s,i,o=e.constructor;switch(t){case ie:return D(e);case X:case Y:return new o(+e);case oe:return function(e,t){var r=t?D(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ae:case ue:case he:case ce:case de:case fe:case le:case _e:case be:return L(e,r);case Z:return new o;case ee:case ne:return new o(e);case te:return(i=new(s=e).constructor(s.source,K.exec(s))).lastIndex=s.lastIndex,i;case re:return new o;case se:return n=e,T?Object(T.call(n)):{}}}var pe=u&&u.isMap,ge=pe?h(pe):function(e){return o(e)&&"[object Map]"==a(e)};var je=u&&u.isSet,me=je?h(je):function(e){return o(e)&&"[object Set]"==a(e)},ye="[object Arguments]",we="[object Function]",Ce="[object Object]",Ee={};function Ae(r,n,s,i,o,u){var h,v=1&n,p=2&n,g=4&n;if(void 0!==h)return h;if(!c(r))return r;var j=_(r);if(j){if(h=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&J.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(r),!v)return O(r,h)}else{var m=a(r),y=m==we||"[object GeneratorFunction]"==m;if(d(r))return k(r,v);if(m==Ce||m==ye||y&&!o){if(h=p||y?{}:F(r),!v)return p?function(e,t){return E(e,$(e),t)}(r,function(e,t){return e&&E(t,A(t),e)}(h,r)):function(e,r){return E(e,t(e),r)}(r,function(t,r){return t&&E(r,e(r),t)}(h,r))}else{if(!Ee[m])return o?r:{};h=ve(r,m,v)}}u||(u=new f);var w=u.get(r);if(w)return w;u.set(r,h),me(r)?r.forEach((function(e){h.add(Ae(e,n,s,e,r,u))})):ge(r)&&r.forEach((function(e,t){h.set(t,Ae(e,n,s,t,r,u))}));var C=j?void 0:(g?p?q:b:p?A:e)(r);return H(C||r,(function(e,t){C&&(e=r[t=e]),l(h,t,Ae(e,n,s,t,r,u))})),h}function Ne(e){return"function"==typeof e?e:B}function De(e,t){return(_(e)?H:I)(e,Ne(t))}function Le(e,t){var r=[];return I(e,(function(e,n,s){t(e,n,s)&&r.push(e)})),r}function Oe(e,t){return(_(e)?v:Le)(e,P(t))}Ee[ye]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object DataView]"]=Ee["[object Boolean]"]=Ee["[object Date]"]=Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee[Ce]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object Symbol]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Error]"]=Ee[we]=Ee["[object WeakMap]"]=!1;var ke=Object.prototype.hasOwnProperty;function Fe(e,t){return null!=e&&ke.call(e,t)}function Me(e,t){return null!=e&&S(e,t,Fe)}function xe(t){return null==t?[]:function(e,t){return p(t,(function(t){return e[t]}))}(t,e(t))}function Ie(e){return void 0===e}function Pe(e,t,r,n,s){return s(e,(function(e,s,i){r=n?(n=!1,e):t(r,e,s,i)})),r}function Se(e,t,r){var n=_(e)?g:Pe,s=arguments.length<3;return n(e,P(t),r,s,I)}var Ue=j&&1/m(new j([,-0]))[1]==1/0?function(e){return new j(e)}:function(){};var Be=G((function(e){return function(e,t,r){var n=-1,s=W,i=e.length,o=!0,a=[],u=a;if(i>=200){var h=Ue(e);if(h)return m(h);o=!1,s=w,u=new y}else u=a;e:for(;++n<i;){var c=e[n],d=c;if(c=0!==c?c:0,o&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;a.push(c)}else s(u,d,r)||(u!==a&&u.push(d),a.push(c))}return a}(U(e,1,M,!0))})),Ge="\0",ze="\0",He="";class Ve{constructor(e={}){this._isDirected=!Me(e,"directed")||e.directed,this._isMultigraph=!!Me(e,"multigraph")&&e.multigraph,this._isCompound=!!Me(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=z(void 0),this._defaultEdgeLabelFn=z(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[ze]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return C(e)||(e=z(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return e(this._nodes)}sources(){var e=this;return Oe(this.nodes(),(function(t){return x(e._in[t])}))}sinks(){var e=this;return Oe(this.nodes(),(function(t){return x(e._out[t])}))}setNodes(e,t){var r=arguments,n=this;return De(e,(function(e){r.length>1?n.setNode(e,t):n.setNode(e)})),this}setNode(e,t){return Me(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=ze,this._children[e]={},this._children[ze][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Me(this._nodes,e)}removeNode(t){var r=this;if(Me(this._nodes,t)){var n=function(e){r.removeEdge(r._edgeObjs[e])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],De(this.children(t),(function(e){r.setParent(e)})),delete this._children[t]),De(e(this._in[t]),n),delete this._in[t],delete this._preds[t],De(e(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Ie(t))t=ze;else{for(var r=t+="";!Ie(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==ze)return t}}children(t){if(Ie(t)&&(t=ze),this._isCompound){var r=this._children[t];if(r)return e(r)}else{if(t===ze)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return e(r)}successors(t){var r=this._sucs[t];if(r)return e(r)}neighbors(e){var t=this.predecessors(e);if(t)return Be(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;De(this._nodes,(function(r,n){e(n)&&t.setNode(n,r)})),De(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e))}));var n={};function s(e){var i=r.parent(e);return void 0===i||t.hasNode(i)?(n[e]=i,i):i in n?n[i]:s(i)}return this._isCompound&&De(t.nodes(),(function(e){t.setParent(e,s(e))})),t}setDefaultEdgeLabel(e){return C(e)||(e=z(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return xe(this._edgeObjs)}setPath(e,t){var r=this,n=arguments;return Se(e,(function(e,s){return n.length>1?r.setEdge(e,s,t):r.setEdge(e,s),s})),this}setEdge(){var e,t,r,n,s=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(e=i.v,t=i.w,r=i.name,2===arguments.length&&(n=arguments[1],s=!0)):(e=i,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],s=!0)),e=""+e,t=""+t,Ie(r)||(r=""+r);var o=$e(this._isDirected,e,t,r);if(Me(this._edgeLabels,o))return s&&(this._edgeLabels[o]=n),this;if(!Ie(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=s?n:this._defaultEdgeLabelFn(e,t,r);var a=function(e,t,r,n){var s=""+t,i=""+r;if(!e&&s>i){var o=s;s=i,i=o}var a={v:s,w:i};n&&(a.name=n);return a}(this._isDirected,e,t,r);return e=a.v,t=a.w,Object.freeze(a),this._edgeObjs[o]=a,Re(this._preds[t],e),Re(this._sucs[e],t),this._in[t][o]=a,this._out[e][o]=a,this._edgeCount++,this}edge(e,t,r){var n=1===arguments.length?qe(this._isDirected,arguments[0]):$e(this._isDirected,e,t,r);return this._edgeLabels[n]}hasEdge(e,t,r){var n=1===arguments.length?qe(this._isDirected,arguments[0]):$e(this._isDirected,e,t,r);return Me(this._edgeLabels,n)}removeEdge(e,t,r){var n=1===arguments.length?qe(this._isDirected,arguments[0]):$e(this._isDirected,e,t,r),s=this._edgeObjs[n];return s&&(e=s.v,t=s.w,delete this._edgeLabels[n],delete this._edgeObjs[n],We(this._preds[t],e),We(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var n=xe(r);return t?Oe(n,(function(e){return e.v===t})):n}}outEdges(e,t){var r=this._out[e];if(r){var n=xe(r);return t?Oe(n,(function(e){return e.w===t})):n}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}}function Re(e,t){e[t]?e[t]++:e[t]=1}function We(e,t){--e[t]||delete e[t]}function $e(e,t,r,n){var s=""+t,i=""+r;if(!e&&s>i){var o=s;s=i,i=o}return s+He+i+He+(Ie(n)?Ge:n)}function qe(e,t){return $e(e,t.v,t.w,t.name)}Ve.prototype._nodeCount=0,Ve.prototype._edgeCount=0;export{Ve as G,V as a,Ae as b,Ne as c,Oe as d,De as f,Me as h,Ie as i,Se as r,xe as v};
