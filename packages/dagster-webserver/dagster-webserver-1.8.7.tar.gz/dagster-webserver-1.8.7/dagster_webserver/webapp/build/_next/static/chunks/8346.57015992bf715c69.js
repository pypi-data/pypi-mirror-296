"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8346],{59672:function(e,t,n){n.r(t),n.d(t,{MergedAutomationRoot:function(){return eC},default:function(){return eE}});var s=n(52322),r=n(14934),o=n(45774),a=n(37483),l=n(74159),i=n(35002),c=n(2784),d=n(55010),u=n(60603),h=n(38491),p=n(21993),m=n(25212),x=n(34147),j=n(39013),g=n(92506),f=n(20958),y=n(71406),v=n(54724),S=n(94062),w=n(99417),b=n(89398);let C=e=>{let{openWithIntent:t,onClose:n,onComplete:r,automations:o}=e,a=o.length,[l,i]=(0,v.s)();(0,c.useEffect)(()=>{"not-open"===t&&i({type:"reset"})},[t,i]);let[d]=(0,f.Db)(b.VE),[u]=(0,f.Db)(b.Xu),[C]=(0,f.Db)(w.Wz),[E]=(0,f.Db)(w.d0),N=async e=>{let{repoAddress:t,name:n,type:s}=e,r={repositoryLocationName:t.location,repositoryName:t.name};switch(s){case"sensor":{let{data:e}=await d({variables:{sensorSelector:{...r,sensorName:n}}});switch(null==e?void 0:e.startSensor.__typename){case"Sensor":i({type:"update-success"});return;case"SensorNotFoundError":case"UnauthorizedError":case"PythonError":i({type:"update-error",name:n,error:e.startSensor.message})}break}case"schedule":{let{data:e}=await C({variables:{scheduleSelector:{...r,scheduleName:n}}});switch(null==e?void 0:e.startSchedule.__typename){case"ScheduleStateResult":i({type:"update-success"});return;case"UnauthorizedError":case"PythonError":i({type:"update-error",name:n,error:e.startSchedule.message})}break}default:(0,y.UT)(s)}},k=async e=>{let{name:t,type:n,instigationState:s}=e,r={id:s.id};switch(n){case"sensor":{let{data:e}=await u({variables:r});switch(null==e?void 0:e.stopSensor.__typename){case"StopSensorMutationResult":i({type:"update-success"});return;case"UnauthorizedError":case"PythonError":i({type:"update-error",name:t,error:e.stopSensor.message})}break}case"schedule":{let{data:e}=await E({variables:r});switch(null==e?void 0:e.stopRunningSchedule.__typename){case"ScheduleStateResult":i({type:"update-success"});return;case"UnauthorizedError":case"PythonError":i({type:"update-error",name:t,error:e.stopRunningSchedule.message})}break}default:(0,y.UT)(n)}},M=async()=>{if("not-open"!==t){for(let e of(i({type:"start"}),o))"start"===t?await N(e):await k(e);i({type:"complete"}),r()}},z="updating"!==l.step;return(0,s.jsxs)(g.Vq,{isOpen:"not-open"!==t,title:"start"===t?"Start automations":"Stop automations",canEscapeKeyClose:z,canOutsideClickClose:z,onClose:n,children:[(0,s.jsx)(g.a7,{children:(0,s.jsxs)(x.Z,{direction:"column",spacing:24,children:[(()=>{if("not-open"===t)return null;switch(l.step){case"initial":if("stop"===t)return(0,s.jsx)("div",{children:"".concat(1===a?"1 automation":"".concat(a," automations")," will be stopped. Do you want to continue?")});return(0,s.jsx)("div",{children:"".concat(1===a?"1 automation":"".concat(a," automations")," will be started. Do you want to continue?")});case"updating":case"completed":let e=a>0?l.completion.completed/a:1;return(0,s.jsxs)(x.Z,{direction:"column",spacing:8,children:[(0,s.jsx)(m.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"updating"===l.step?(0,s.jsx)(S.c,{message:"Automations are being updated, please do not navigate away yet."}):null]});default:return null}})(),(()=>{if("not-open"===t||"initial"===l.step)return null;if("updating"===l.step)return(0,s.jsx)("div",{children:"Please do not close the window or navigate away while automations are being updated."});let e=l.completion.errors,n=Object.keys(e).length,r=l.completion.completed-n;return(0,s.jsxs)(x.Z,{direction:"column",spacing:8,children:[r?(0,s.jsxs)(x.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,s.jsx)(p.JO,{name:"check_circle",color:j.fA()}),(0,s.jsx)("div",{children:"start"===t?"Successfully started ".concat(1===r?"1 automation":"".concat(r," automations"),"."):"Successfully stopped ".concat(1===r?"1 automation":"".concat(r," automations"),".")})]}):null,n?(0,s.jsxs)(x.Z,{direction:"column",spacing:8,children:[(0,s.jsxs)(x.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,s.jsx)(p.JO,{name:"warning",color:j.qr()}),(0,s.jsx)("div",{children:"start"===t?"Could not start ".concat(1===n?"1 automation":"".concat(n," automations"),":"):"Could not stop ".concat(1===n?"1 automation":"".concat(n," automations"),":")})]}),(0,s.jsx)("ul",{style:{margin:"8px 0"},children:Object.keys(e).map(t=>(0,s.jsx)("li",{children:(0,s.jsxs)(x.Z,{direction:"row",spacing:8,children:[(0,s.jsxs)("strong",{children:[t,":"]}),e[t]?(0,s.jsx)("div",{children:e[t]}):null]})},t))})]}):null]})})()]})}),(0,s.jsx)(g.cN,{children:(()=>{if("not-open"===t)return null;switch(l.step){case"initial":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.zx,{onClick:n,children:"Cancel"}),(0,s.jsx)(h.zx,{intent:"primary",onClick:M,children:"start"===t?"Start ".concat(1===a?"1 automation":"".concat(a," automations")):"Stop ".concat(1===a?"1 automation":"".concat(a," automations"))})]});case"updating":return(0,s.jsx)(h.zx,{intent:"primary",disabled:!0,children:"start"===t?"Starting ".concat(1===a?"1 automation":"".concat(a," automations")):"Stopping ".concat(1===a?"1 automation":"".concat(a," automations"))});case"completed":return(0,s.jsx)(h.zx,{intent:"primary",onClick:n,children:"Done"})}})()})]})};var E=n(69557);let N=e=>{let{automations:t,onDone:n}=e,r=t.length,[o,a]=(0,c.useState)("not-open"),{anyOff:l,anyOn:i}=(0,c.useMemo)(()=>(0,E.H)(t.map(e=>{let{instigationState:t}=e;return t})),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.J,{content:(0,s.jsxs)(u.v2,{children:[(0,s.jsx)(u.sN,{text:"Start ".concat(1===r?"1 automation":"".concat(r," automations")),disabled:!l,"aria-disabled":!l,icon:"toggle_on",onClick:()=>{a("start")}}),(0,s.jsx)(u.sN,{text:"Stop ".concat(1===r?"1 automation":"".concat(r," automations")),disabled:!i,"aria-disabled":!i,icon:"toggle_off",onClick:()=>{a("stop")}})]}),placement:"bottom-end",children:(0,s.jsx)(h.zx,{disabled:!r,intent:"primary",rightIcon:(0,s.jsx)(p.JO,{name:"expand_more"}),children:"Actions"})}),(0,s.jsx)(C,{openWithIntent:o,automations:t,onClose:()=>a("not-open"),onComplete:()=>{n()}})]})};var k=n(43212),M=n(88510),z=n(35505),A=n(17008);let T="60px minmax(400px, 1.5fr) 240px 1fr 200px 200px",_=e=>{let{checkbox:t}=e;return(0,s.jsxs)(A.VJ,{templateColumns:T,sticky:!0,children:[(0,s.jsx)(A.qN,{children:(0,s.jsx)("div",{style:{position:"relative",top:"-1px"},children:t})}),(0,s.jsx)(A.qN,{children:"Name"}),(0,s.jsx)(A.qN,{children:"Type"}),(0,s.jsx)(A.qN,{children:"Target"}),(0,s.jsx)(A.qN,{children:"Last tick"}),(0,s.jsx)(A.qN,{children:"Last run"})]})},L=(0,z.ZP)(r.x).withConfig({componentId:"sc-40d0a0cf-0"})(["display:grid;grid-template-columns:",";height:100%;"],T);var q=n(37504),O=n(53664),U=n(35292),R=n(47933),I=n(24427),P=n(16336),D=n(88257),Z=n(60648),V=n(92474),W=n(6750),F=n(4219),H=n(73310),Y=n(86269),B=n(58905),J=n(27028),K=n(83738),$=n(10539);let G=(0,c.forwardRef)((e,t)=>{var n;let{index:o,name:a,repoAddress:l,checked:d,onToggleChecked:u}=e,[h,p]=(0,f.td)(J.B8,{variables:{selector:{repositoryName:l.name,repositoryLocationName:l.location,scheduleName:a}},notifyOnNetworkStatusChange:!0}),[m,x]=(0,f.td)(W.d,{variables:{scheduleSelector:{repositoryName:l.name,repositoryLocationName:l.location,scheduleName:a}}});(0,K.v5)((0,c.useCallback)(()=>{h(),m()},[h,m])),(0,P.C4)(p,P.dT),(0,P.C4)(x,P.dT);let{data:j}=p,g=(0,c.useMemo)(()=>(null==j?void 0:j.scheduleOrError.__typename)!=="Schedule"?null:j.scheduleOrError,[j]),y=null==g?void 0:g.scheduleState,v=(0,c.useMemo)(()=>{if(!y)return{disabled:!0};let{hasStartPermission:e,hasStopPermission:t,status:n}=y;return n!==D.ynu.RUNNING||t?n!==D.ynu.STOPPED||e?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this schedule"}:{disabled:!0,message:"You do not have permission to stop this schedule"}},[y]),S=null==g?void 0:g.scheduleState.ticks[0],w=(null==g?void 0:g.pipelineName)?[{pipelineName:g.pipelineName}]:null,b=(null===(n=x.data)||void 0===n?void 0:n.scheduleOrError.__typename)==="Schedule"?x.data.scheduleOrError.assetSelection:null;return(0,s.jsx)("div",{ref:t,"data-index":o,children:(0,s.jsxs)(L,{border:"bottom",children:[(0,s.jsx)(A.E5,{children:(0,s.jsx)(i.u,{canShow:v.disabled,content:v.message||"",placement:"top",children:(0,s.jsx)(q.X,{disabled:v.disabled,checked:d,onChange:e=>{if(u&&e.target instanceof HTMLInputElement){let{checked:t}=e.target;u({checked:t,shiftKey:e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift")})}}})})}),(0,s.jsx)(A.E5,{children:(0,s.jsxs)(r.x,{flex:{direction:"row",gap:8,alignItems:"flex-start"},children:[g?(0,s.jsxs)(r.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(F.M,{repoAddress:l,schedule:g},a),(0,H.l)(g.scheduleState.status,g.scheduleState.runningCount)]}):(0,s.jsx)("div",{style:{width:30}}),(0,s.jsx)(R.rU,{to:(0,$.$U)(l,"/schedules/".concat(a)),children:(0,s.jsx)(O.g,{text:a})})]})}),(0,s.jsx)(A.E5,{children:g?(0,s.jsxs)(r.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(V.P,{cronSchedule:g.cronSchedule,executionTimezone:g.executionTimezone}),g.scheduleState.nextTick&&g.scheduleState.status===D.ynu.RUNNING?(0,s.jsx)(U.YS,{children:(0,s.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,s.jsx)(Y.v,{timestamp:g.scheduleState.nextTick.timestamp,timezone:g.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,s.jsx)(K.mq,{queryResult:p})}),(0,s.jsx)(A.E5,{children:(0,s.jsx)("div",{children:(0,s.jsx)(I.p,{repoAddress:l,automationType:"schedule",targets:w,assetSelection:b})})}),(0,s.jsx)(A.E5,{children:S?(0,s.jsx)("div",{children:(0,s.jsx)(B.a,{tick:S})}):(0,s.jsx)(K.mq,{queryResult:p})}),(0,s.jsx)(A.E5,{children:(null==g?void 0:g.scheduleState)&&(null==g?void 0:g.scheduleState.runs[0])?(0,s.jsx)(Z.Z,{run:g.scheduleState.runs[0],name:a,showButton:!1,showHover:!0,showSummary:!1}):(0,s.jsx)(K.mq,{queryResult:p})})]})})});var X=n(6265),Q=n(60918),ee=n(53029);let et=(0,c.forwardRef)((e,t)=>{var n;let{index:o,name:a,repoAddress:l,checked:d,onToggleChecked:u}=e,[h,p]=(0,f.td)(ee.bL,{variables:{selector:{repositoryName:l.name,repositoryLocationName:l.location,sensorName:a}}}),[m,x]=(0,f.td)(X.Z,{variables:{sensorSelector:{repositoryName:l.name,repositoryLocationName:l.location,sensorName:a}}});(0,K.v5)((0,c.useCallback)(()=>{h(),m()},[h,m])),(0,P.C4)(p,P.dT),(0,P.C4)(x,P.dT);let{data:j}=p,g=(0,c.useMemo)(()=>(null==j?void 0:j.sensorOrError.__typename)!=="Sensor"?null:j.sensorOrError,[j]),y=null==g?void 0:g.sensorState,v=(0,c.useMemo)(()=>{if(!y)return{disabled:!0};let{hasStartPermission:e,hasStopPermission:t,status:n}=y;return n!==D.ynu.RUNNING||t?n!==D.ynu.STOPPED||e?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this sensor"}:{disabled:!0,message:"You do not have permission to stop this sensor"}},[y]),S=null==g?void 0:g.sensorState.ticks[0],w=null==g?void 0:g.sensorType,b=w?ee.W_[w]:null,C=(null===(n=x.data)||void 0===n?void 0:n.sensorOrError.__typename)==="Sensor"?x.data.sensorOrError.assetSelection:null;return(0,s.jsx)("div",{ref:t,"data-index":o,children:(0,s.jsxs)(L,{border:"bottom",children:[(0,s.jsx)(A.E5,{children:(0,s.jsx)(i.u,{canShow:v.disabled,content:v.message||"",placement:"top",children:(0,s.jsx)(q.X,{disabled:v.disabled,checked:d,onChange:e=>{if(u&&e.target instanceof HTMLInputElement){let{checked:t}=e.target;u({checked:t,shiftKey:e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift")})}}})})}),(0,s.jsx)(A.E5,{children:(0,s.jsxs)(r.x,{flex:{direction:"row",gap:8,alignItems:"flex-start"},children:[g?(0,s.jsx)(Q.c,{repoAddress:l,sensor:g},a):(0,s.jsx)("div",{style:{width:30}}),(0,s.jsx)(R.rU,{to:(0,$.$U)(l,"/sensors/".concat(a)),children:(0,s.jsx)(O.g,{text:a})})]})}),(0,s.jsx)(A.E5,{children:(0,s.jsx)("div",{children:b?b.description?(0,s.jsx)(i.u,{content:(0,s.jsx)("div",{style:{maxWidth:"300px"},children:b.description}),placement:"top",children:(0,s.jsx)(k.V,{icon:b.icon,children:b.name})}):(0,s.jsx)(k.V,{icon:b.icon,children:b.name}):null})}),(0,s.jsx)(A.E5,{children:g?(0,s.jsx)("div",{children:(0,s.jsx)(I.p,{targets:g.targets||null,repoAddress:l,assetSelection:C,automationType:g.sensorType})}):(0,s.jsx)(K.mq,{queryResult:x})}),(0,s.jsx)(A.E5,{children:S?(0,s.jsx)("div",{children:(0,s.jsx)(B.a,{tick:S})}):(0,s.jsx)(K.mq,{queryResult:p})}),(0,s.jsx)(A.E5,{children:(null==g?void 0:g.sensorState)&&(null==g?void 0:g.sensorState.runs[0])?(0,s.jsx)(Z.Z,{run:g.sensorState.runs[0],name:a,showButton:!1,showHover:!0,showSummary:!1}):(0,s.jsx)(K.mq,{queryResult:p})})]})})});var en=n(22921),es=n(40389),er=n(98956),eo=n(50646),ea=n(22563);let el=e=>{var t,n;let{repos:o,headerCheckbox:a,checkedKeys:l,onToggleCheckFactory:d}=e,u=c.useRef(null),h=c.useMemo(()=>o.map(e=>{let{repoAddress:t}=e;return(0,ea.Uz)(t)}),[o]),{expandedKeys:p,onToggle:m,onToggleAll:x}=(0,eo.N)(en.y,h),j=c.useMemo(()=>{let e=[];return o.forEach(t=>{let{repoAddress:n,schedules:s,sensors:r}=t;e.push({type:"header",repoAddress:n,scheduleCount:s.length,sensorCount:r.length});let o=(0,ea.Uz)(n);if(p.includes(o)){let t=new Set(r),o=new Set(s);[...r,...s].sort((e,t)=>y.Bl.compare(e,t)).forEach(s=>{t.has(s)?e.push({type:"sensor",repoAddress:n,sensor:s}):o.has(s)&&e.push({type:"schedule",repoAddress:n,schedule:s})})}}),e},[o,p]),g=(0,er.w)(o.map(e=>{let{repoAddress:t}=e;return t.name})),f=(0,M.MG)({count:j.length,getScrollElement:()=>u.current,estimateSize:e=>{let t=j[e];return(null==t?void 0:t.type)==="header"?32:64},overscan:15}),v=f.getTotalSize(),S=f.getVirtualItems();return(0,s.jsx)("div",{style:{overflow:"hidden"},children:(0,s.jsxs)(A.W2,{ref:u,children:[(0,s.jsx)(_,{checkbox:a}),(0,s.jsx)(A.Nh,{$totalHeight:v,children:(0,s.jsx)(A.HR,{$start:null!==(n=null===(t=S[0])||void 0===t?void 0:t.start)&&void 0!==n?n:0,children:S.map(e=>{let{index:t,key:n}=e,o=j[t],a=o.type;if("header"===a)return(0,s.jsx)(K._$,{repoAddress:o.repoAddress,ref:f.measureElement,index:t,onToggle:m,onToggleAll:x,expanded:p.includes((0,ea.Uz)(o.repoAddress)),showLocation:g.has(o.repoAddress.name),rightElement:(0,s.jsxs)(r.x,{flex:{direction:"row",gap:4},children:[(0,s.jsx)(i.u,{content:1===o.sensorCount?"1 sensor":"".concat(o.sensorCount," sensors"),placement:"top",children:(0,s.jsx)(k.V,{icon:"sensors",children:o.sensorCount})}),(0,s.jsx)(i.u,{content:1===o.scheduleCount?"1 schedule":"".concat(o.scheduleCount," schedules"),placement:"top",children:(0,s.jsx)(k.V,{icon:"schedule",children:o.scheduleCount})})]})},n);if("sensor"===a){let e=(0,es.M)(o.repoAddress,o.sensor);return(0,s.jsx)(et,{index:t,ref:f.measureElement,name:o.sensor,checked:l.has(e),onToggleChecked:d(e),repoAddress:o.repoAddress},n)}if("schedule"===a){let e=(0,es.M)(o.repoAddress,o.schedule);return(0,s.jsx)(G,{index:t,ref:f.measureElement,name:o.schedule,checked:l.has(e),onToggleChecked:d(e),repoAddress:o.repoAddress},n)}return(0,s.jsx)("div",{},n)})})})]})})};var ei=n(69737),ec=n(20171),ed=n(4378),eu=n(52154),eh=n(77044),ep=n(907),em=n(49455),ex=n(74302),ej=n(81602),eg=n(2389),ef=n(50027),ey=n(2949),ev=n(100),eS=n(65822);let ew={schedules:{label:"Schedules",value:{type:"schedules",label:"Schedules"},match:["schedules"]},sensors:{label:"Sensors",value:{type:"sensors",label:"Sensors"},match:["sensors"]}},eb=Object.values(ew),eC=()=>{(0,ei.Px)(),(0,ec.j)("Automation");let{allRepos:e,visibleRepos:t,loading:n,data:d,refetch:u}=(0,c.useContext)(ev.C5),[h,p]=(0,ed.q)({queryKey:"search",defaults:{search:""}}),[m,x]=(0,ed.q)({encode:e=>({automationType:e.size?Array.from(e).join(","):void 0}),decode:e=>{var t;return new Set((null===(t=e.automationType)||void 0===t?void 0:t.split(","))||[])}}),j=(0,c.useMemo)(()=>new Set(Array.from(m).map(e=>ew[e].value)),[m]),g=(0,ef.A)(),f=(0,ey.g)(),y=(0,ej.im)({name:"Automation type",allValues:eb,icon:"auto_materialize_policy",getStringValue:e=>e.label,state:j,renderLabel:e=>{let{value:t}=e;return(0,s.jsx)("span",{children:t.label})},onStateChanged:e=>{x(new Set(Array.from(e).map(e=>e.type)))}}),v=(0,c.useMemo)(()=>[g,f,y],[g,f,y]),{button:S,activeFiltersJsx:w}=(0,ex.m)({filters:v}),b=(0,c.useMemo)(()=>{let e=Object.values(d).filter(e=>"WorkspaceLocationEntry"===e.__typename),n=(0,em.S)(t);return eN(e).filter(e=>{let{repoAddress:t}=e;return n.has((0,ea.Uz)(t))})},[d,t]),{state:C}=f,E=(0,c.useMemo)(()=>b.map(e=>{let{sensors:t,schedules:n,...s}=e;return{...s,sensors:t.filter(e=>{let{sensorState:t}=e;return(!C.size||!!C.has(t.status))&&(!m.size||!!m.has("sensors"))}),schedules:n.filter(e=>{let{scheduleState:t}=e;return(!C.size||!!C.has(t.status))&&(!m.size||!!m.has("schedules"))})}}),[b,m,C]),k=h.trim().toLocaleLowerCase(),M=k.length>0,z=(0,c.useMemo)(()=>{let e=k.toLocaleLowerCase();return E.map(t=>{let{repoAddress:n,schedules:s,sensors:r}=t;return{repoAddress:n,schedules:s.filter(t=>{let{name:n}=t;return n.toLocaleLowerCase().includes(e)}).map(e=>{let{name:t}=e;return t}),sensors:r.filter(t=>{let{name:n}=t;return n.toLocaleLowerCase().includes(e)}).map(e=>{let{name:t}=e;return t})}}).filter(e=>{let{sensors:t,schedules:n}=e;return t.length>0||n.length>0})},[E,k]),A=(0,c.useMemo)(()=>E.map(e=>{let{repoAddress:t,schedules:n,sensors:s}=e;return[...s.filter(e=>{let{sensorState:t}=e;return(0,eh.i)(t)}).map(e=>{let{name:n,sensorState:s}=e;return{repoAddress:t,name:n,type:"sensor",instigationState:s}}),...n.filter(e=>{let{scheduleState:t}=e;return(0,eh.i)(t)}).map(e=>{let{name:n,scheduleState:s}=e;return{repoAddress:t,name:n,type:"schedule",instigationState:s}})]}).flat(),[E]),T=(0,c.useMemo)(()=>A.map(e=>{let{repoAddress:t,name:n}=e;return(0,es.M)(t,n)}),[A]),[{checkedIds:_},{onToggleFactory:L,onToggleAll:q}]=(0,eu.a)(T),O=(0,c.useMemo)(()=>{let e=new Set(z.map(e=>{let{repoAddress:t,schedules:n,sensors:s}=e;return[...n,...s].map(e=>(0,es.M)(t,e))}).flat());return T.filter(t=>e.has(t))},[T,z]),U=(0,c.useMemo)(()=>{let e=new Set(O.filter(e=>_.has(e)));return A.filter(t=>{let{repoAddress:n,name:s}=t;return e.has((0,es.M)(n,s))})},[O,A,_]),R=T.length>0,I=U.length,P=O.length>0;return(0,s.jsxs)(r.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsxs)(r.x,{padding:{horizontal:24,vertical:16},flex:{direction:"row",alignItems:"center",justifyContent:"space-between",gap:12,grow:0},children:[(0,s.jsxs)(r.x,{flex:{direction:"row",gap:12},children:[S,(0,s.jsx)(l.oi,{icon:"search",value:h,onChange:e=>p(e.target.value),placeholder:"Filter by name…",style:{width:"340px"}})]}),(0,s.jsx)(i.u,{content:"You do not have permission to start or stop these schedules",canShow:P&&!R,placement:"top-end",useDisabledButtonTooltipFix:!0,children:(0,s.jsx)(N,{automations:U,onDone:()=>u()})})]}),w.length?(0,s.jsx)(r.x,{padding:{vertical:8,horizontal:24},border:"top-and-bottom",flex:{direction:"row",gap:8},children:w}):null,(()=>{if(n)return(0,s.jsx)(r.x,{flex:{direction:"row",justifyContent:"center"},padding:{top:64},children:(0,s.jsx)(o.f,{label:"Loading automations…"})});let l=e.length>t.length;return z.length?(0,s.jsx)(el,{headerCheckbox:R?(0,s.jsx)(eg.W,{checkedCount:I,totalCount:O.length,onToggleAll:q}):void 0,repos:z,checkedKeys:_,onToggleCheckFactory:L}):M?(0,s.jsx)(r.x,{padding:{top:20},children:(0,s.jsx)(a.t,{icon:"search",title:"No matching automations",description:l?(0,s.jsxs)("div",{children:["No automations matching ",(0,s.jsx)("strong",{children:h})," were found in the selected code locations"]}):(0,s.jsxs)("div",{children:["No automations matching ",(0,s.jsx)("strong",{children:h})," were found in your definitions"]})})}):(0,s.jsx)(r.x,{padding:{top:20},children:(0,s.jsx)(a.t,{icon:"search",title:"No automations",description:l?"No automations were found in the selected code locations":"No matching automations"})})})()]})};var eE=eC;let eN=e=>{let t=e.map(e=>e.locationOrLoadError),n=[];for(let e of t)if((null==e?void 0:e.__typename)==="RepositoryLocation")for(let t of e.repositories){let{name:s,schedules:r,sensors:o}=t,a=(0,eS.kQ)(s,e.name);o.length>0&&n.push({repoAddress:a,schedules:r,sensors:o})}return(0,ep.S)(n)}},22921:function(e,t,n){n.d(t,{y:function(){return s}});let s="overview-collapsed-state"},907:function(e,t,n){n.d(t,{S:function(){return r}});var s=n(22563);let r=e=>[...e].sort((e,t)=>{let n=(0,s.Uz)(e.repoAddress),r=(0,s.Uz)(t.repoAddress);return n.localeCompare(r)})},49455:function(e,t,n){n.d(t,{S:function(){return o}});var s=n(65822),r=n(22563);let o=e=>new Set(e.map(e=>(0,r.Uz)((0,s.kQ)(e.repository.name,e.repositoryLocation.name))))},98956:function(e,t,n){n.d(t,{w:function(){return s}});let s=e=>{let t=new Set,n=new Set;return e.forEach(e=>{t.has(e)?n.add(e):t.add(e)}),n}},50646:function(e,t,n){n.d(t,{N:function(){return c}});var s=n(2784),r=n(4128),o=n(30001),a=n(22563);let l=e=>Array.isArray(e)?e:[],i=(e,t)=>"".concat(e,":dagster.").concat(t),c=(e,t)=>{let{basePath:n}=(0,s.useContext)(r.I),c=i(n,e),[d,u]=(0,o.U)(c,l),h=(0,s.useCallback)(e=>{let t="object"==typeof e?(0,a.Uz)(e):e;u(e=>{let n=new Set(e||[]);return n.has(t)?n.delete(t):n.add(t),Array.from(n)})},[u]),p=(0,s.useCallback)(e=>{u(n=>{let s=new Set(n||[]);return t.forEach(t=>{e?s.delete(t):s.add(t)}),Array.from(s)})},[t,u]),m=(0,s.useMemo)(()=>{let e=new Set(d);return t.filter(t=>!e.has(t))},[t,d]);return(0,s.useMemo)(()=>({expandedKeys:m,onToggle:h,onToggleAll:p}),[m,h,p])}}}]);
//# sourceMappingURL=8346.57015992bf715c69.js.map